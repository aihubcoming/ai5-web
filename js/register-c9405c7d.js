import{u as O,m as Z,ab as $,l as c,o as j,L as Q,w as E,d as g,b as e,aO as G,v as D,aJ as r,ae as U,aI as A,aP as H,_ as K,q as W,aQ as B,aN as X,c as I,a as o,t as u,F as Y,j as ee,n as se,U as P,h as L,J as oe,z as ae}from"./index-30627e35.js";/* empty css                 *//* empty css                   */import{S as ne}from"./steps-f62deb07.js";import{u as te,s as le}from"./selecterPup-a1c1a1dc.js";/* empty css                */const re=5,ie={__name:"ImageVerificat",setup(T,{expose:C}){const{t:m}=O(),F=Z(),s=$(),v=c(!1),t=c({}),b=c(),S=m("message.home.xiangyouhuadong"),w=c(""),x=(d,z)=>{var V;Object.keys(z).length>0&&(t.value=z),v.value=!0,(V=b.value)==null||V.refresh()},a=()=>{v.value=!1},y=()=>{r.success(m("message.home.tupianyanzhengtongguo")),Object.keys(t.value).length>0&&U.accountRegister({...t.value}).then(d=>{d.code=="0"?(r.success(m("message.home.zhucechenggong")),A("spToken",d.data.token),A("username",d.data.username),s.updateUserInfo(d.data),F.push("/idSet")):v.value=!v.value})},_=()=>{},M=()=>{},N=()=>{r.error(m("message.home.yanzhengbutonguo")),w.value=m("message.home.yanzhengbutonguo")},R=()=>{var d;r.error(m("message.home.yanzhengbutonguo")),w.value="try again",(d=b.value)==null||d.refresh()};return C({isShowFunc:x}),(d,z)=>{const V=H;return j(),Q(V,{title:e(m)("message.home.tupianyanzheng"),modelValue:e(v),"onUpdate:modelValue":z[0]||(z[0]=f=>D(v)?v.value=f:null),width:"380px","before-close":a,center:""},{default:E(()=>[g(e(G),{ref_key:"slideblockRef",ref:b,onAgain:R,onFulfilled:_,onSuccess:y,onFail:N,onRefresh:M,"slider-text":e(S),accuracy:re},null,8,["slider-text"])]),_:1},8,["title","modelValue"])}}};const ue={id:"wrap_app",class:"css-155nz97",style:{"margin-top":"60px"}},ce={class:"main css-6q12pm"},de={class:"binance-row css-16kn2us"},me={class:"binance-col css-1wz0uwi",style:{width:"420px"}},he={class:"css-ojbpe7"},ge={class:"css-62gygx"},ve=["onClick"],_e={class:"css-vurnku"},fe={value:"",class:"css-15651n7"},pe={class:"css-xjlny9"},ye={class:"css-hiy16i"},ze={value:"",class:"css-15651n7"},be={class:"css-xjlny9"},we={class:"css-hiy16i"},Ve={value:"",class:"css-15651n7"},ke={class:"css-xjlny9"},qe={class:"css-hiy16i"},xe={class:"css-15651n7"},je={class:"css-xjlny9"},Ce={class:"css-hiy16i"},Se={class:"css-15651n7"},Re={class:"css-xjlny9"},Ie={class:"css-hiy16i"},Ue={key:0,class:"css-15651n7"},Ae={class:"css-xjlny9"},Fe={class:"css-hiy16i"},Me={class:"css-jhkvqo"},Ne={__name:"register",setup(T){const C=Z(),m=te(),F=$(),{t:s}=O(),v=[s("shoujihao"),s("youxiang"),s("zhanghao")],t=c({username:"",password:"",verifcode:"",usercode:"",safeword:"",type:"1"}),b=c(null),S=c(null),w=c(!1),x=c(""),a=c(2),y=c(s("message.user.huoquyanzhengma")),_=c("");W(()=>{B("usercode")&&(t.value.usercode=B("usercode"))});const M=l=>{a.value=l,l==0?x.value=1:l==1&&(x.value=2),t.value={username:"",password:"",verifcode:"",usercode:"",safeword:""},_.value=""},N=()=>{b.value.isShow()},R=()=>{let l=/[a-zA-Z0-9]+([-_.][A-Za-zd]+)*@([a-zA-Z0-9]+[-.])+[A-Za-zd]{2,5}$/;return a.value==1&&!l.test(t.value.username)?(r.error(s("qsr_zhengquedeyouxiang")),!0):!1},d=()=>{let l=/^([0-9]\d*)$/;return a.value==0&&!l.test(t.value.username)?(r.error(s("shoujihaozhinengshurushuzi")),!0):!1},z=()=>{const{username:l,password:n,verifcode:h,safeword:k,usercode:i}=t.value;if(a.value===0&&!l){r.error(s("qsr_shoujihao"));return}if(a.value===1&&!l){r.error(s("qsr_youxiang"));return}if(a.value===2&&!l){r.error(s("qsr_zhanghao"));return}if(!n||!_.value){r.error(s("qsr_mima"));return}if(!k){r.error(s("qsr_zijinmima"));return}if([0,1].includes(a.value)&&!h){r.error(s("qsr_yanzhengma"));return}if(!(d()||R())){if(a.value==2&&l.length<6){r.error(s("qsr_zhanghao6wei"));return}if(n.length<6){r.error(s("message.user.qsr_mima6wei"));return}if(k.length<6){r.error(s("message.user.qsr_zijinmima6wei"));return}if(_.value==n){const q=a.value==0?m.code+l:l;[0,1].includes(a.value)?U.resgister({username:q,password:n,verifcode:h,usercode:i,safeword:k,type:x.value}).then(p=>{p.code==0&&(r.success(s("message.home.zhucechenggong")),A("spToken",p.data.token),A("username",p.data.username),F.updateUserInfo(p.data),C.push("/idSet"))}):a.value==2&&U.imageVerifica().then(p=>{p.code=="0"&&S.value.isShowFunc(p.data,{username:q,password:n,usercode:i,safeword:k})})}else r.error(s("liangcimimabuyizhi"))}},V=()=>{C.push("/login")},f=c(null),J=()=>{const{username:l}=t.value;if(l!=""){if(d()||R())return;w.value=!0,y.value=60,f.value=setInterval(()=>{y.value--,y.value==0&&(w.value=!1,clearInterval(f.value),f.value=null,y.value=s("fasongyanzhengma"))},1e3);const n=a.value==0?m.code+l:l;U.getVeriCode({target:n,areacode:""}).then(h=>{h.code=="0"&&r.success(s("yanzhengmafasongchenggong"))})}else{const n=a.value==0?s("shoujihaobunengweikong"):s("youxiangbunengweikong");r.error(n)}};return X(()=>{f.value&&(clearInterval(f.value),f.value=null)}),(l,n)=>{const h=oe,k=ae;return j(),I("div",ue,[g(ne,{stepIndex:1}),o("main",ce,[o("div",de,[o("div",me,[o("div",he,u(e(s)("zhanghaozhuce")),1),o("div",ge,[(j(),I(Y,null,ee(v,(i,q)=>o("div",{class:"css-ov54vn",style:{"margin-bottom":"20px"},key:q,onClick:p=>M(q)},[o("div",{class:se([e(a)==q?"active":"","css-1cahv52"])},u(i),3)],8,ve)),64))]),o("div",_e,[o("div",fe,[o("div",pe,u(e(a)==0?e(s)("shoujihao"):e(a)==1?e(s)("youxiang"):e(s)("zhanghao")),1),o("div",ye,[e(a)==0?(j(),I("div",{key:0,class:"border-countrycode",onClick:N}," + "+u(e(m).code),1)):P("",!0),g(h,{placeholder:e(a)==0?e(s)("qsr_shoujihao"):e(a)==1?e(s)("qsr_youxiang"):e(s)("qsr_zhanghao6wei"),clearable:"",modelValue:e(t).username,"onUpdate:modelValue":n[0]||(n[0]=i=>e(t).username=i),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])]),o("div",ze,[o("div",be,u(e(s)("yaoqingmaxuantian")),1),o("div",we,[g(h,{placeholder:e(s)("qsr_yaoqingma"),clearable:"",class:"rest3",modelValue:e(t).usercode,"onUpdate:modelValue":n[1]||(n[1]=i=>e(t).usercode=i),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])]),o("div",Ve,[o("div",ke,u(e(s)("shezhimima")),1),o("div",qe,[g(h,{placeholder:e(s)("qsr_mima2"),clearable:"","show-password":"",modelValue:e(t).password,"onUpdate:modelValue":n[2]||(n[2]=i=>e(t).password=i),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])]),o("div",xe,[o("div",je,u(e(s)("querenmima")),1),o("div",Ce,[g(h,{placeholder:e(s)("qsr_querenmima"),clearable:"","show-password":"",modelValue:e(_),"onUpdate:modelValue":n[3]||(n[3]=i=>D(_)?_.value=i:null),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])]),o("div",Se,[o("div",Re,u(e(s)("zijinmima")),1),o("div",Ie,[g(h,{placeholder:e(s)("qsr_zijinmima"),clearable:"","show-password":"",modelValue:e(t).safeword,"onUpdate:modelValue":n[4]||(n[4]=i=>e(t).safeword=i),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])]),e(a)==0||e(a)==1?(j(),I("div",Ue,[o("div",Ae,u(e(s)("yanzhengma")),1),o("div",Fe,[g(h,{placeholder:e(s)("qsr_yanzhengma"),clearable:"",modelValue:e(t).verifcode,"onUpdate:modelValue":n[5]||(n[5]=i=>e(t).verifcode=i),modelModifiers:{trim:!0}},{append:E(()=>[g(k,{onClick:J,disabled:e(w)},{default:E(()=>[L(u(e(y)),1)]),_:1},8,["disabled"])]),_:1},8,["placeholder","modelValue"])])])):P("",!0),o("button",{"data-bn-type":"button",class:"css-1bsmpdm",onClick:z},u(e(s)("zhuce")),1)]),o("div",Me,[L(u(e(s)("zhuceguo"))+"？  ",1),o("div",{class:"css-r3o9q9",onClick:V},u(e(s)("denglu")),1)])])]),g(le,{ref_key:"selectCountryRef",ref:b},null,512),g(ie,{ref_key:"ImageVerRef",ref:S},null,512)])])}}},$e=K(Ne,[["__scopeId","data-v-b3fcba3a"]]);export{$e as default};
