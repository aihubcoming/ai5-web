import{_ as k,C as E,aG as d,o as l,c as a,a as i,t as o,d as h,w as y,f as O,b5 as U,bE as Y,p as T,k as F,bF as x,A as D,L as N,n as m,aZ as C,U as A,aY as V,h as S,F as q,j as z,J as X,bh as K,bi as J}from"./index-69a2b67d.js";/* empty css                 *//* empty css                 */import{O as j}from"./index-4e74f751.js";import{O as Q,a as G,_ as H,b as I,F as W,L as P}from"./layout-24238f40.js";import{A as g}from"./c2c-9823715d.js";/* empty css                         *//* empty css                  *//* empty css                */import"./quotes-c7313885.js";import"./footerView-3087a2cd.js";const Z={name:"cryptoCurrency",props:{currencyType:{default:1,type:Number},isbg:{default:!1,type:Boolean}},data(){return{ConfigURL:E,value:"",show:!1,active:{},options:[],allList:[]}},created(){this.getSymbolList()},methods:{getSymbolList(){g.c2cSymbolList().then(e=>{if(e.code=="0"){for(const t in e.data){let n={title:e.data[t],currency_symbol:t};this.allList.push(n),this.options.push(n)}this.active=this.options[0],this.$emit("selectItem",this.active)}})},handleMouseOver(){this.show=!0},handleMouseOut(){this.show=!1},handleSelect(e){this.active=e,this.show=!1,this.clearData(),this.handleMouseOut(),this.$emit("selectItem",e)},handleInputCb(e){this.value=e,e?this.options=this.options.filter(t=>t.title.indexOf(e)!=-1):this.options=this.allList},clearData(){this.value="",this.options=this.allList}},watch:{active:{immediate:!0,handler(){this.show=!1}}},components:{OtcInput:Q,OtcSelect:G}},$=e=>(T("data-v-ad5fe296"),e=e(),F(),e),ee={class:"relative bg-white"},te={class:"flex items-center h-full w-full"},se=$(()=>i("img",{class:"Subtract",src:I,alt:""},null,-1)),ie={class:"flex items-center h-full pl-11 box-border"},oe=["src"];function re(e,t,n,u,s,r){var _;const b=d("otc-input"),B=d("otc-select");return l(),a("div",ee,[i("div",{class:"relative w-120 h-46 rounded-md bg-f5 cursor-pointer",onClick:t[2]||(t[2]=(...p)=>r.handleMouseOver&&r.handleMouseOver(...p)),onMouseleave:t[3]||(t[3]=(...p)=>r.handleMouseOut&&r.handleMouseOut(...p))},[i("div",te,[se,i("div",ie,[i("img",{src:`${s.ConfigURL.HOST_URL}/symbol/${(_=s.active.title)==null?void 0:_.toLowerCase()}.png`,width:"22",class:"mr-8"},null,8,oe),i("span",null,o(s.active.title),1)])]),h(Y,{name:"el-fade-in-linear"},{default:y(()=>[O(h(B,{isbg:n.isbg,isTwo:!0,class:"absolute top-46 left-0",list:s.options,modelValue:s.active,"onUpdate:modelValue":t[1]||(t[1]=p=>s.active=p),onMouseleave:r.handleMouseOut,onItemSelect:r.handleSelect},{other:y(()=>[h(b,{onInput:r.handleInputCb,inputValue:s.value},{right:y(()=>[i("img",{class:"w-15 h-15 cursor-pointer",onClick:t[0]||(t[0]=(...p)=>r.clearData&&r.clearData(...p)),src:H})]),_:1},8,["onInput","inputValue"])]),_:1},8,["isbg","list","modelValue","onMouseleave","onItemSelect"]),[[U,s.show]])]),_:1})],32)])}const ne=k(Z,[["render",re],["__scopeId","data-v-ad5fe296"]]),ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgBzZOxDYMwEEX/dzJARsgmySapMkCUKhVOARXQwzKswiQ+sBESSCB8rniVddJ79hUGdijq9oEIzNYwr5qMjhYpgSBLnOzhrkzpwYuNDmhvXgWKunmlyOdgWqFsu/F0RwLXUBllEX2ApA0BEfMh3e1IEIdsfqmXf9/3n1AQVgWes+xnBkqWspqtDzYALLwtoT7fMykAAAAASUVORK5CYII=",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgBzdi7CQJBEIDhHR+hYCw2YQdiS6aCgrnYgpWoHViCBqK5IILg6h8cyHHv28f8wQYzG3xsuDJaX5di7cooyFpz+hizvS/Hu2QmHJqQ9IOebbczvS1GF0mGGpFP+550k8FjvzkOZnOedGoUJGKG/U7vJemFqpe05iBZc01IyVtoQUrRUgNSyi7ERpYCKSayEpBiISsDKQayFpBCI2sDKSSyEZBCIRsDKQSyFZB8I1sDySfSCZB8IZ0ByQfSKZBcI50DySXSC5BcIb0ByQXSK5DaIr0DqQ0yCJCaIoMBqQkyKJDqIoMDqQ4yCpCqIqMBqQoyKpDKkNGBVIRUAaQ8pBogZSFVASmNVAekf6RKIGn7M88M5Bf56ccC6qvwbAAAAABJRU5ErkJggg==",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAMCAYAAABr5z2BAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB1SURBVHgBrZKBCYAwDAQzQjdwhLqBozhKR3IER3AER3CE+ELBECNNSgNPIfw9eShRxzBzgibqGYAZuqpSFF4qyPX1XwHzyu88cB4HY7FDm9VJwefnbCxmYTikoQkLY9FGa0eNnkX19MM/ITHYCInDIiSx85fdQ4f6c2dhXMkAAAAASUVORK5CYII=",ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABlSURBVHgB1ZCxDYAwDAT9USRaj8IIjMAqCVWYAFiGEWAviIwrBMENBQXXWHqfLNtEBV2altiPQgaOXvCdjJiGWRfkMwBqLSwi61WUPQev3RbWFKC5yZXjh/SDb/gyyNiCd8YxygFJFhgy8Cx+qwAAAABJRU5ErkJggg==";const he={name:"fastBuy",data(){return{sellError:!1,priceError:!1,xiaBool:!0,procss:1,radio:3,errorPrice:!1,buyValue:"",isBuyActive:!0,activeNames:[],fiatCurrency:"",showAmount:!1,type:"buy",listIndex:0,activeAmount:"",initData:{},currencyInfo:{},currencyTwo:"",price:0,receiveVal:"",payList:[],session_token:"",money:0,tip:"",transfer:!1,timeOutTimer1:null,timeOutTimer2:null,timeOutTimer3:null}},methods:{getParamsLang:x,tabFun(e){this.isBuyActive=e,this.buyValue="",this.receiveVal="",this.tip="",this.transfer=!1},c2cOrderOpenFun(e){let t={currency:e};g.c2cOrderOpen(t).then(n=>{n.code=="0"&&(this.session_token=n.data.session_token)})},selectPay(e){this.payList.map(t=>{t.isCheck=!1}),e.isCheck=!0},handleFiatSelect(e){this.currencyInfo=e;let t={currency:e.title};g.c2cOrderOpen(t).then(n=>{n.code=="0"&&(this.c2cOrderOpenFun(e.title),this.initData=n.data,this.timeOutTimer1=setTimeout(()=>{this.price=this.initData.all_price[this.currencyTwo],this.buyValue&&this.buyInput()},1e3),this.getAllMoeny(e.title))})},handleCryptoSelect(e){this.currencyTwo=e.currency_symbol,this.timeOutTimer2=setTimeout(()=>{this.price=this.initData.all_price[this.currencyTwo],this.buyValue&&this.buyInput()},1e3)},getBestPriceAdvert(){let e=this.getParamsLang(),t={order_type:"by_amount",amount:this.buyValue,direction:this.isBuyActive?"buy":"sell",currency:this.currencyInfo.title,symbol:this.currencyTwo,language:e};g.get_best_price_advert(t).then(n=>{n.code=="0"&&(this.payList=n.data,this.payList=this.payList.sort(this.orderListAsc("advert_price")),this.payList.map(u=>(u.isCheck=!1,u)),this.payList[0].isCheck=!0)})},open_quick_applyFun(){let e=this.payList.filter(n=>n.isCheck);if(e.length==0){this.$message.error(this.$t("message.c2c.tip156"));return}let t={session_token:this.session_token,payment_method_id:e[0].payment_method_id,order_type:this.isBuyActive?"by_num":"by_amount",amount:this.buyValue,coin_amount:this.receiveVal,direction:this.isBuyActive?"buy":"sell",currency:this.currencyInfo.title,symbol:this.currencyTwo,c2c_advert_id:e[0].advert_id};g.openQuickApply(t).then(n=>{if(n.code=="0"){let u=1;this.isBuyActive?u=1:u=2,this.$router.push("/c2c/orderSuccess?id="+n.data.order_no+"&isBuy="+u+"&fiatCurrency="+JSON.stringify(this.currencyInfo))}}).finally(()=>{this.c2cOrderOpenFun(this.currencyInfo.title)})},buyInput(){this.buyValue>0?(this.buyValue<100?this.isBuyActive?this.tip=this.$t("message.c2c.tip4")+"100"+this.currencyInfo.title:this.tip=this.$t("message.c2c.tip5")+"100"+this.currencyInfo.title:this.tip="",this.isBuyActive?this.transfer=!1:parseFloat(this.buyValue)>parseFloat(this.money)?(this.transfer=!0,this.tip=this.$t("message.c2c.tip6")):this.transfer=!1,this.changeBuy(),this.receiveVal=(parseFloat(this.buyValue)/parseFloat(this.price)).toFixed(5)):this.receiveVal=""},onlyNumber(){this.buyValue!=null&&(this.buyValue=this.buyValue.replace(/[^\.\d]/g,""))},onlyNumberTwo(){this.receiveVal!=null?this.receiveVal=this.receiveVal.replace(/[^\.\d]/g,""):this.receiveVal=""},buyInputTwo(){this.receiveVal=this.receiveVal.replace(/[^\.\d]/g,""),this.receiveVal?this.buyValue=this.receiveVal*this.price:this.buyValue=""},next(){if(this.procss===1){if(!this.buyValue){this.$message.error(this.$t("message.c2c.tip157"));return}if(this.tip)return;this.getBestPriceAdvert(),this.procss=2;return}this.procss===2&&this.open_quick_applyFun()},changeBuy(e){const t=this.buyValue;if(!this.isBuyActive){this.sellError=this.errorPrice=t<100;return}this.errorPrice=t<100},amountBlur(){this.timeOutTimer3=setTimeout(()=>{this.showAmount=!1},200)},orderListAsc(e,t="asc"){return(n,u)=>t=="asc"?parseFloat(n[e])>parseFloat(u[e])?1:-1:parseFloat(n[e])>parseFloat(u[e])?-1:1},getAllMoeny(e){D.currencyPaypal().then(t=>{t.code=="0"&&(this.money=t.data.money_wallet)})},openUrl(e){this.$router.push(e)},unbindTimerHandle(){this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null),this.timeOutTimer2&&(clearTimeout(this.timeOutTimer2),this.timeOutTimer2=null),this.timeOutTimer3&&(clearTimeout(this.timeOutTimer3),this.timeOutTimer3=null)}},unmounted(){this.unbindTimerHandle()},watch:{refreshActive(){this.refreshShow=!1}},components:{OtcInput:Q,FiatCurrency:W,CryptoCurrency:ne,OtcOrderHeader:j,Layout:P}},f=e=>(T("data-v-2c13ed1f"),e=e(),F(),e),pe={class:"b-tab"},Ae={class:"b-buy"},ye={key:0,class:"buy-tab"},me={class:"buy-main"},de={key:0},_e={class:"zhifu"},ge={class:"input-se"},fe={class:"huazhuan-price",style:{right:"0",display:"flex","align-items":"center"}},ve={style:{color:"#78808e"}},be=f(()=>i("img",{src:ce,style:{position:"relative",margin:"0 4px 0 8px"},alt:""},null,-1)),Be={class:"err-price tips-box"},Ce={class:"zhifu"},Ie={class:"input-se"},we={class:"buy-price"},Ve={key:1,class:"confirm-buy"},Se={class:"con-b"},ke={class:"con-p"},Oe={class:"con-m"},Ue={class:"con-f"},Te=["onClick"],Fe={key:0},Qe={key:1,class:"imgs"},Le=f(()=>i("img",{class:"img1",src:le,alt:""},null,-1)),Re=f(()=>i("img",{class:"img2",src:ae,alt:""},null,-1)),Me=[Le,Re],Ee={class:"con-ka"},Ye={class:"con-ka-top"},xe=f(()=>i("span",{class:"shu"},null,-1)),De={key:2,class:"zuiyou"},Ne={key:3,class:"card-xia"},qe={class:"card-add flex"},ze=f(()=>i("img",{class:"add-img",src:ue,alt:""},null,-1));function Xe(e,t,n,u,s,r){const b=d("otc-order-header"),B=d("fiat-currency"),_=X,p=d("crypto-currency"),L=K,R=J,M=d("layout");return l(),N(M,null,{menu:y(()=>[i("div",pe,[h(b),i("div",Ae,[s.procss===1?(l(),a("div",ye,[i("div",{class:m([s.isBuyActive?"":"is-buy-active"]),onClick:t[0]||(t[0]=C(c=>r.tabFun(!0),["stop"]))},o(e.$t("message.c2c.goumai")),3),i("div",{class:m(s.isBuyActive?"is-buy-active":""),onClick:t[1]||(t[1]=C(c=>r.tabFun(!1),["stop"]))},o(e.$t("message.c2c.chushou")),3)])):A("",!0),i("div",me,[s.procss===1?(l(),a("div",de,[i("div",_e,[i("p",null,o(s.isBuyActive?e.$t("message.c2c.woyaozhifu"):e.$t("message.c2c.woyaomai")),1),i("div",ge,[h(_,{onInput:r.buyInput,onKeyup:t[2]||(t[2]=V(c=>r.onlyNumber(),["native"])),class:m(s.errorPrice?"error-buy":""),modelValue:s.buyValue,"onUpdate:modelValue":t[3]||(t[3]=c=>s.buyValue=c),onBlur:r.changeBuy},{append:y(()=>[h(B,{isTwo:!1,currencyType:2,isbg:!0,class:m(["sele",s.errorPrice?"error-buy":""]),onSelectItem:r.handleFiatSelect},null,8,["onSelectItem","class"])]),_:1},8,["onInput","class","modelValue","onBlur"]),O(i("div",fe,[i("span",ve,o(e.$t("message.c2c.zhanghuyue"))+" "+o(s.money)+" USDT",1),be,i("span",{style:{color:"#1a6ebd",cursor:"pointer"},onClick:t[4]||(t[4]=c=>r.openUrl("/exchange"))},o(e.$t("message.c2c.huazhuan")),1)],512),[[U,!s.isBuyActive]]),i("span",Be,[S(o(s.tip),1),s.transfer?(l(),a("span",{key:0,onClick:t[5]||(t[5]=c=>r.openUrl("/exchange")),style:{color:"#1a6ebd",cursor:"pointer","text-decoration":"underline"}},o(e.$t("message.c2c.lijihuazhuan")),1)):A("",!0)])])]),i("div",Ce,[i("p",null,o(e.$t("message.c2c.wojiangshoudao"))+"â‰ˆ",1),i("div",Ie,[h(_,{modelValue:s.receiveVal,"onUpdate:modelValue":t[6]||(t[6]=c=>s.receiveVal=c),onKeyup:t[7]||(t[7]=V(c=>r.onlyNumberTwo(),["native"])),onInput:r.buyInputTwo},{append:y(()=>[h(p,{isbg:!0,onSelectItem:r.handleCryptoSelect,class:"sele flex"},null,8,["onSelectItem"])]),_:1},8,["modelValue","onInput"])])]),i("p",we,o(e.$t("message.c2c.cankaodanjia"))+" "+o(s.currencyInfo.currency_symbol)+o(s.price),1)])):A("",!0),s.procss===2?(l(),a("div",Ve,[i("p",Se,o(s.procss===2&&!s.isBuyActive?e.$t("message.c2c.quedingchushou"):e.$t("message.c2c.querengoumai")),1),i("p",ke,o(s.currencyInfo.currency_symbol)+" "+o(s.buyValue),1),i("p",Oe,o(e.$t("message.c2c.wojiangshoudao"))+o(s.receiveVal)+" "+o(s.currencyTwo),1),i("p",Ue,o(s.isBuyActive?e.$t("message.c2c.tip7"):e.$t("message.c2c.tip186")),1),(l(!0),a(q,null,z(s.payList,(c,w)=>(l(),a("div",{class:m(["con-card",[c.isCheck?"is-card":""]]),onClick:v=>r.selectPay(c),key:w},[s.isBuyActive?A("",!0):(l(),a("div",Fe,[s.xiaBool?(l(),a("img",{key:0,class:"Subtract",src:I,onClick:t[8]||(t[8]=v=>s.xiaBool=!1)})):(l(),a("img",{key:1,class:"Subtract-r",src:I,onClick:t[9]||(t[9]=v=>s.xiaBool=!0)}))])),c.isCheck?(l(),a("div",Qe,Me)):A("",!0),i("div",Ee,[i("div",Ye,[xe,i("span",null,o(c.method_name),1)]),i("p",null,o(s.currencyInfo.currency_symbol)+" "+o(c.advert_price),1)]),w==0?(l(),a("p",De,o(e.$t("message.c2c.jiagezuiyou")),1)):A("",!0),s.payList.length==0?(l(),a("div",Ne,[h(R,{modelValue:s.radio,"onUpdate:modelValue":t[10]||(t[10]=v=>s.radio=v)},{default:y(()=>[h(L,{label:3},{default:y(()=>[S("mr_c-1982")]),_:1})]),_:1},8,["modelValue"])])):A("",!0)],10,Te))),128)),i("div",{class:"card-xia",onClick:t[11]||(t[11]=C(c=>r.openUrl("/c2c/user"),["stop"]))},[i("div",qe,[ze,i("span",null,o(e.$t("message.c2c.tip8")),1)])])])):A("",!0),i("div",{class:m(["buy-btn",[s.isBuyActive?"":"bg-red"]]),onClick:t[12]||(t[12]=(...c)=>r.next&&r.next(...c))},o(s.procss===2&&!s.isBuyActive?e.$t("message.c2c.quedingchushou"):e.$t("message.c2c.tip9")),3)])])])]),_:1})}const st=k(he,[["render",Xe],["__scopeId","data-v-2c13ed1f"]]);export{st as default};
