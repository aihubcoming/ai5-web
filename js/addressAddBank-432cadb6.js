import{_ as O,aU as D,aV as U,o as n,c as l,a as s,t as o,h as g,d as m,w as d,F as b,j as V,L as A,U as u,n as P,f as h,aX as c,ag as q,ah as N,aW as j,z as $,aP as S,p as L,k as x}from"./index-7502ddb7.js";/* empty css                   *//* empty css                  *//* empty css                    *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import{A as f}from"./c2c-b872e3cb.js";import{A as E}from"./wallet-ed15a6b6.js";import{_ as z}from"./tip-df84f0ba.js";const F={data(){return{nowUrl:D,dialogVisible:!1,methodId:"",payId:"",real_name:"",remark:"",lstData:[],payInfo:{paramValue1:"",paramValue2:"",paramValue3:"",paramValue4:"",paramName1:"",remark:"",real_name:"",qrcode:"",method_config_id:""},payItemInfo:{},oneImg:"",qrcodeImg:"",options:[],optionsValue:"",listOpData1:[],tabValue:"",isDisabled:!1,uploadHeader:{tissuePaper:"",sign:"",systemRandom:""},type:"",timeOutTimer1:null,timeOutTimer2:null,timeOutTimer3:null}},mounted(){this.$route.query.methodId&&(this.methodId=this.$route.query.methodId,this.getAddressConfig()),this.$route.query.payId&&(this.payId=this.$route.query.payId,this.getDetails()),this.type=this.$route.query.type,this.getAddress()},methods:{MenuChoose(e){this.menuchoose=e},selectVal(){this.getList()},selectTab(e){this.tabValue=e.name},onErrorUpload(){this.$message.warning(this.$t("message.user.shangchuan3"))},handelDoucumentsFront(e,t){const{path:r,httpUrl:y}=e.data;this.oneImg=y,this.payInfo.qrcode=r},beforeAvatarUpload(e){const{timestamp:t,signature:r,systemRandom:y}=U();this.uploadHeader.tissuePaper=t,this.uploadHeader.sign=r,this.uploadHeader.systemRandom=y;const p=["image/jpeg","image/jpg","image/gif","image/bmp","image/png"].includes(e.type);e.type;const I=e.size/1024/1024<5;return p||this.$message.error(this.$t("message.user.shangchuan1")),I||this.$message.error(this.$t("message.user.shangchuan2")),p&&I},getSymbolList(){this.options=[],f.c2cSymbolList().then(e=>{if(e.code=="0"){for(const t in e.data){let r={label:e.data[t],value:t};this.options.push(r)}this.payInfo.paramValue1?this.optionsValue=this.payInfo.paramValue1:this.optionsValue=this.options[0].value,this.getList()}})},OnClickShowAddre(){this.payTypeShow=!this.payTypeShow},AddressChangeShow(e){this.showAddreChoose=e},getDetails(){let e={id:this.payId};f.getC2cPaymentMethod(e).then(t=>{t.code=="0"&&(this.payInfo=t.data,this.oneImg=this.payInfo.qrcodePath,this.methodId=this.payInfo.methodConfigId,this.getAddressConfig())})},getAddressConfig(){var e={id:this.methodId};f.getPayConfig(e).then(t=>{t.code=="0"&&(this.payItemInfo=t.data,this.payItemInfo.methodType==2&&this.getSymbolList())}).catch(t=>{console.error(t)})},getList(){this.listOpData1=[],E.getChainName({coin:this.optionsValue}).then(e=>{for(var t in e.data){const r=e.data[t];this.listOpData1.push({icon:r.coin,name:r.blockchain_name,code:r.coin})}this.payInfo.paramValue3?this.listOpData1.map((r,y)=>{r.blockchain_name==this.payInfo.paramValue3&&(this.tabValue=this.listOpData1[y].name)}):this.tabValue=this.listOpData1[0].name})},saveData(){if(!this.payInfo.realName){this.$message.error(this.$t("message.user.tip4"));return}if(this.payItemInfo.methodType==1){if(!this.payInfo.paramValue3){this.$message.error(this.$t("message.user.tip15"));return}if(!this.payInfo.paramValue1){this.$message.error(this.$t("message.user.tip9"));return}}if(this.payItemInfo.methodType!=1&&this.payItemInfo.methodType!=2&&!this.payInfo.paramValue1){this.$message.error(this.$t("message.c2c.qingshuru")+this.payItemInfo.paramName1);return}if(this.payItemInfo.methodType==2&&!this.payInfo.paramValue2){this.$message.error(this.$t("message.user.xian7"));return}var e={method_config_id:this.methodId,real_name:this.payInfo.realName,param_value1:this.payInfo.paramValue1,remark:this.payInfo.remark,qrcode:this.payInfo.qrcode};this.payItemInfo.methodType==1&&(e.param_value2=this.payInfo.paramValue2,e.param_value3=this.payInfo.paramValue3),this.payItemInfo.methodType==2&&(e.param_value3=this.tabValue,e.param_value2=this.payInfo.paramValue2,e.param_value1=this.optionsValue),this.isDisabled=!0,this.payId?(e.id=this.payId,f.updatePayConfig(e).then(t=>{t.code=="0"&&(this.$message({message:this.$t("message.user.xiugaichenggong"),type:"success"}),this.timeOutTimer1=setTimeout(()=>{this.$router.go(-1)},1e3))})):(e.type=this.type,f.addPayConfig(e).then(t=>{t.code=="0"&&(this.$message({message:this.$t("message.user.tianjiachenggong"),type:"success"}),this.timeOutTimer2=setTimeout(()=>{this.$router.go(-1)},1e3))}).catch(t=>{console.error(t)})),this.timeOutTimer3=setTimeout(()=>{this.isDisabled=!1},2e3)},getAddress(){var e={methodId:this.methodId,real_name:this.payInfo.realName,param_value1:this.payInfo.paramValue1,param_value2:this.payInfo.paramValue2,param_value3:this.payInfo.paramValue3,type:1};f.userC2cPaymentMethodList(e).then(t=>{this.listTableList=t.data}).catch(t=>{console.error(t)})},OnClickPre(){this.$router.go(-1)},deleteIdFun(){this.$router.go(-1)},unbindTimerHandle(){this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null),this.timeOutTimer2&&(clearTimeout(this.timeOutTimer2),this.timeOutTimer2=null),this.timeOutTimer3&&(clearTimeout(this.timeOutTimer3),this.timeOutTimer3=null)}},unmounted(){this.unbindTimerHandle()}},_=e=>(L("data-v-be1a5ef4"),e=e(),x(),e),B={id:"__APP"},H=_(()=>s("div",{style:{position:"relative"}},null,-1)),G={class:"css-tq0shg"},M=_(()=>s("div",{class:"css-14rvj6w"},[s("div",{class:"css-jrzkh7"},[s("div",{id:"header_global_js_wxgy34nj",class:"css-1aac2e"})])],-1)),R={class:"css-k2y2sp"},J={"data-bn-type":"text",class:"css-1104sf1"},W={class:"main"},X={class:"tip-box"},K=_(()=>s("i",{class:"el-icon-warning icon"},null,-1)),Q={class:"main-title"},Y=_(()=>s("div",{class:"main-title-line"},null,-1)),Z={key:0,class:"css-vurnku"},ee={"data-bn-type":"text",class:"css-kiaw5d"},se={key:1,class:"css-vurnku"},te={"data-bn-type":"text",class:"css-kiaw5d"},ae={class:"network-list"},ie=["onClick"],oe={key:2,class:"css-vurnku"},ne={"data-bn-type":"text",class:"css-kiaw5d"},le=["placeholder"],re={class:"css-vurnku"},pe={"data-bn-type":"text",class:"css-kiaw5d"},de=["placeholder"],ue={key:3,class:"css-vurnku"},me={"data-bn-type":"text",class:"css-kiaw5d"},he=["placeholder"],ce={key:4,class:"css-vurnku"},ye={"data-bn-type":"text",class:"css-kiaw5d"},ge=["placeholder"],fe={key:5,class:"css-vurnku"},_e={"data-bn-type":"text",class:"css-kiaw5d"},Ie=["placeholder"],ve={key:6,class:"css-vurnku"},be={"data-bn-type":"text",class:"css-kiaw5d"},Ve=["placeholder"],ke={class:"css-vurnku"},Te={"data-bn-type":"text",class:"css-kiaw5d"},we=["placeholder"],Ce={key:7,class:"css-vurnku"},Oe={"data-bn-type":"text",class:"css-kiaw5d"},De=["src"],Ue={key:1,class:"el-icon-plus avatar-uploader-icon"},Ae={class:"tips"},Pe={class:"but-box"},qe=_(()=>s("div",{class:"footer-box"},null,-1)),Ne=_(()=>s("img",{class:"tip-img",src:z},null,-1)),je={class:"dig-title"},$e={class:"dig-text"},Se={class:"dialog-footer"};function Le(e,t,r,y,a,p){const I=q,k=N,T=j,v=$,w=S;return n(),l("div",B,[H,s("div",G,[M,s("div",R,[s("div",J,o(e.$t("message.user.bianjishoukuanfangshi")),1)]),s("div",W,[s("div",X,[K,g(" "+o(e.$t("message.user.tip7")),1)]),s("div",Q,[Y,g(" "+o(a.payItemInfo.methodName),1)]),s("div",null,[a.payItemInfo.methodType==2?(n(),l("div",Z,[s("div",null,[s("div",ee,o(e.$t("message.c2c.xuanzebizhong")),1),m(k,{style:{width:"500px",height:"50px"},onChange:p.selectVal,modelValue:a.optionsValue,"onUpdate:modelValue":t[0]||(t[0]=i=>a.optionsValue=i)},{default:d(()=>[(n(!0),l(b,null,V(a.options,i=>(n(),A(I,{key:i.value,label:i.label,value:i.value},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue"])])])):u("",!0),a.payItemInfo.methodType==2?(n(),l("div",se,[s("div",null,[s("div",te,o(e.$t("message.c2c.xuanzewangluo")),1),s("div",ae,[(n(!0),l(b,null,V(a.listOpData1,(i,C)=>(n(),l("div",{class:P(["network-item",[a.tabValue==i.name?"network-item-active":""]]),onClick:xe=>p.selectTab(i),key:C},o(i.name),11,ie))),128))])])])):u("",!0),a.payItemInfo.methodType==2?(n(),l("div",oe,[s("div",null,[s("div",ne,o(e.$t("message.user.dizhi")),1),h(s("input",{"data-bn-type":"input",placeholder:e.$t("message.c2c.tip155"),class:"css-16fg16t input","onUpdate:modelValue":t[1]||(t[1]=i=>a.payInfo.paramValue2=i)},null,8,le),[[c,a.payInfo.paramValue2]])])])):u("",!0),s("div",re,[s("div",null,[s("div",pe,o(e.$t("message.user.xingming")),1),h(s("input",{"data-bn-type":"input",placeholder:e.$t("message.user.tip4"),class:"css-16fg16t input","onUpdate:modelValue":t[2]||(t[2]=i=>a.payInfo.realName=i)},null,8,de),[[c,a.payInfo.realName]])])]),a.payItemInfo.methodType==1?(n(),l("div",ue,[s("div",null,[s("div",me,o(e.$t("message.user.tip8")),1),h(s("input",{"data-bn-type":"input",placeholder:e.$t("message.user.tip18"),class:"css-16fg16t input","onUpdate:modelValue":t[3]||(t[3]=i=>a.payInfo.paramValue3=i)},null,8,he),[[c,a.payInfo.paramValue3]])])])):u("",!0),a.payItemInfo.methodType!=1&&a.payItemInfo.methodType!=2?(n(),l("div",ce,[s("div",null,[s("div",ye,o(a.payItemInfo.paramName1),1),h(s("input",{"data-bn-type":"input",placeholder:a.payItemInfo.paramName1,class:"css-16fg16t input","onUpdate:modelValue":t[4]||(t[4]=i=>a.payInfo.paramValue1=i)},null,8,ge),[[c,a.payInfo.paramValue1]])])])):u("",!0),a.payItemInfo.methodType==1?(n(),l("div",fe,[s("div",null,[s("div",_e,o(e.$t("message.user.yinhangmingcheng")),1),h(s("input",{"data-bn-type":"input",placeholder:e.$t("message.user.tip9"),class:"css-16fg16t input","onUpdate:modelValue":t[5]||(t[5]=i=>a.payInfo.paramValue1=i)},null,8,Ie),[[c,a.payInfo.paramValue1]])])])):u("",!0),a.payItemInfo.methodType==1?(n(),l("div",ve,[s("div",null,[s("div",be,o(e.$t("message.user.tip10")),1),h(s("input",{"data-bn-type":"input",placeholder:e.$t("message.user.tip11"),class:"css-16fg16t input","onUpdate:modelValue":t[6]||(t[6]=i=>a.payInfo.paramValue2=i)},null,8,Ve),[[c,a.payInfo.paramValue2]])])])):u("",!0),s("div",ke,[s("div",null,[s("div",Te,o(e.$t("message.c2c.tip150")),1),h(s("input",{"data-bn-type":"input",placeholder:e.$t("message.c2c.tip150"),class:"css-16fg16t input","onUpdate:modelValue":t[7]||(t[7]=i=>a.payInfo.remark=i)},null,8,we),[[c,a.payInfo.remark]])])]),a.payItemInfo.methodType!=1?(n(),l("div",Ce,[s("div",null,[s("div",Oe,o(a.payItemInfo.methodType==5?e.$t("message.c2c.tip151"):e.$t("message.c2c.erweima")),1),m(T,{class:"avatar-uploader",action:`${a.nowUrl}/api/api/uploadFile`,headers:a.uploadHeader,accept:".jpg,.jpeg,.png,.gif.JPG,.JPEG,.PNG,.GIF","show-file-list":!1,"on-success":p.handelDoucumentsFront,"on-error":p.onErrorUpload,"before-upload":p.beforeAvatarUpload},{default:d(()=>[a.oneImg?(n(),l("img",{key:0,src:a.oneImg,class:"avatar"},null,8,De)):(n(),l("i",Ue))]),_:1},8,["action","headers","on-success","on-error","before-upload"])])])):u("",!0)]),s("div",Ae,o(e.$t("message.user.tip12")),1),s("div",Pe,[m(v,{class:"but-item",onClick:t[8]||(t[8]=i=>a.dialogVisible=!0)},{default:d(()=>[g(o(e.$t("message.user.quxiao")),1)]),_:1}),m(v,{class:"but-item",type:"primary",disabled:a.isDisabled,onClick:p.saveData},{default:d(()=>[g(o(e.$t("message.user.baocun")),1)]),_:1},8,["disabled","onClick"])])])]),qe,m(w,{modelValue:a.dialogVisible,"onUpdate:modelValue":t[10]||(t[10]=i=>a.dialogVisible=i),width:"470px"},{footer:d(()=>[s("span",Se,[m(v,{class:"but",onClick:t[9]||(t[9]=i=>a.dialogVisible=!1)},{default:d(()=>[g(o(e.$t("message.user.quxiao")),1)]),_:1}),m(v,{class:"but",type:"primary",onClick:p.deleteIdFun},{default:d(()=>[g(o(e.$t("message.user.queding")),1)]),_:1},8,["onClick"])])]),default:d(()=>[Ne,s("div",je,o(e.$t("message.user.tip13")),1),s("div",$e,o(e.$t("message.user.tip14")),1)]),_:1},8,["modelValue"])])}const Ke=O(F,[["render",Le],["__scopeId","data-v-be1a5ef4"]]);export{Ke as default};
