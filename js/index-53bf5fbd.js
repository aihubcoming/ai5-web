import{_ as I,o as l,c as r,F as f,j as v,n as y,t as a,a as t,d as C,b0 as Le,y as Ne,b1 as Ve,L,U as b,h as ie,p as H,k as X,A as D,aJ as w,b2 as J,ab as K,b3 as Ue,b4 as Me,aG as q,f as j,aX as U,aZ as P,w as se,E as Oe,an as ge,O as pe,u as Z,l as $,q as ye,b as _,b5 as Re,aq as Q,ao as ee,b6 as ze,b7 as Ye,aP as Ee,aH as Pe,C as W,ap as me,b8 as Qe,b9 as Je}from"./index-7502ddb7.js";import{_ as _e,a as be,b as Ge,k as We,c as fe,d as ve,e as ke,A as qe,W as te,f as He}from"./Group2892-9291bb94.js";import{_ as Ae}from"./pagination-649f05bf.js";/* empty css                       *//* empty css                 *//* empty css                  */import{q as Te}from"./quotes-2cfdb5d0.js";/* empty css                *//* empty css                   */import"./el-tooltip-4ed993c7.js";/* empty css                   */const Xe={name:"SelectTime",emits:["getTime"],data(){return{timeVal:"",timeTab:[{txt:this.$t("message.home.oneDay"),value:1},{txt:this.$t("message.home.aWeek"),value:7},{txt:this.$t("message.home.aMonth"),value:30},{txt:this.$t("message.home.threeMonths"),value:90}],timeTypeInx:"",endTime:"",startTime:""}},methods:{selectTimeType(e,i){this.timeVal="",this.timeTypeInx=i,this.endTime=this.getBeforeDate(0),this.startTime=this.getBeforeDate(e.value);let n={endTime:this.endTime,startTime:this.startTime};this.$emit("getTime",n)},handleSearch(){let e={endTime:this.endTime,startTime:this.startTime};this.clearTab(),this.$emit("getTime",e)},changeTime(e){this.startTime=e[0],this.endTime=e[1]},clearTab(){this.timeTypeInx="",this.endTime="",this.startTime=""},getBeforeDate(i){var i=i,n=new Date,d=n.getFullYear(),s=n.getMonth()+1,o=n.getDate();return o<=i&&(s>1?s=s-1:(d=d-1,s=12)),n.setDate(n.getDate()-i),d=n.getFullYear(),s=n.getMonth()+1,o=n.getDate(),d+"-"+(s<10?"0"+s:s)+"-"+(o<10?"0"+o:o)}}},Ke={class:"select-time"},Ze=["onClick"],et={class:"time-select-wrapper",style:{position:"relative",top:"1px"}};function tt(e,i,n,d,s,o){const g=Le;return l(),r("div",Ke,[(l(!0),r(f,null,v(s.timeTab,(c,u)=>(l(),r("div",{class:y(["cursor-pointer item",{active:s.timeTypeInx===u}]),key:u,onClick:h=>o.selectTimeType(c,u)},a(c.txt),11,Ze))),128)),t("div",et,[t("span",null,a(e.$t("message.home.shijian")),1),C(g,{modelValue:s.timeVal,"onUpdate:modelValue":i[0]||(i[0]=c=>s.timeVal=c),type:"daterange","range-separator":e.$t("message.home.to"),"start-placeholder":e.$t("message.user.xuanzekaishishijian"),onChange:o.changeTime,"value-format":"YYYY-MM-DD","end-placeholder":e.$t("message.user.xuanzejiehsushijian")},null,8,["modelValue","range-separator","start-placeholder","onChange","end-placeholder"]),t("div",null,[t("div",{class:"cursor-pointer search",onClick:i[1]||(i[1]=(...c)=>o.handleSearch&&o.handleSearch(...c))},a(e.$t("message.home.chaxun")),1)])])])}const Ce=I(Xe,[["render",tt],["__scopeId","data-v-aed6c58a"]]),st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgB7ZhBToQwFIbfw0nccoQewSPoDeYIuHDW4s5x5UaW1ZULTJwjeAP1Bh4Bb8ByYkZ+H50wI8nU+GqIZNIvAUr7Cj/9W1ogiuwJrAkubPksVQwFgeoyPzv5bfSENIANCIaCgCo6oZHSs/LGlpYJqS8Y4KkcvOU/Ie1VJ4wnfwTXYnXenfWsZLmxXMDQAEgLpPJgmT8Clew2wkZrZb/FqLkF89oqUGvbEQ2IuPPGTM5egOq+Fg+FfXgEkNGQwhiLq3x2uqtstFZGYVqChSWEc+klx27D9v0kHfplm9/kFIhuSvpGIyNqfjF7bdMyUDIZKOsCRjXPu/ySoZuJNsQ+piUK0xKFaYnCtERhWoKnJHkmU9j79zYFatJuadcuoSXfuPxPWXQmYXPSH4RhAeyo7r4bJlOXDhTlqtJIicK0RGFa/lUYy28BX5n/dbE8uMbhykhlQwMgf42qj+XqjiL7zhcyzGsfalPYNQAAAABJRU5ErkJggg==";const it={emits:["cancelOrder","getTime"],name:"Layout",props:["currentIndex","tabList","contentList","unit"," pageType"],components:{SelectTime:Ce},data(){return{}},methods:{handleSymbolImg:Ne,getCreateTime(e){return Ve.unix(e).format("YYYY-MM-DD HH:mm:ss")},fullColor(e){return e==="sell"||e==="卖"||e==="賣"},getStatus(e){return e=="created"?this.$t("message.user.yiwancheng"):e=="canceled"?this.$t("message.home.yichexiao"):this.$t("message.home.yitijiao")},handleCancel(e){this.$emit("cancelOrder",e)},getTime(e){this.$emit("getTime",e)},clearTime(){(this.currentIndex===1||this.currentIndex===2)&&this.$refs.selectTime.clearTab()}}},ae=e=>(H("data-v-62ad5b31"),e=e(),X(),e),at={class:"layout"},nt={class:"title-wrapper"},ot={key:0,class:"el-icon-caret-bottom"},lt={class:"content"},rt=ae(()=>t("div",null,"100%",-1)),ct=["onClick"],ut=ae(()=>t("img",{class:"cancel-img",src:st,alt:""},null,-1)),ht=[ut],dt={key:1,class:"empty"},mt=ae(()=>t("div",null,"--",-1)),gt={key:1,class:"empty"},pt={key:1,class:"empty"},yt={class:"content-item"},_t={class:"currency"},bt=["src"],ft={key:1,class:"empty"};function vt(e,i,n,d,s,o){const g=Ce;return l(),r("div",at,[n.currentIndex===1||n.currentIndex===2?(l(),L(g,{key:0,ref:"selectTime",onGetTime:o.getTime},null,8,["onGetTime"])):b("",!0),t("div",nt,[n.tabList&&n.tabList.length>0?(l(!0),r(f,{key:0},v(n.tabList,(c,u)=>(l(),r("div",{class:"item",key:u},[t("span",null,a(c.name),1),c.dropDown?(l(),r("i",ot)):b("",!0)]))),128)):b("",!0)]),t("div",lt,[n.currentIndex===0?(l(),r(f,{key:0},[n.contentList.length!==0?(l(!0),r(f,{key:0},v(n.contentList,(c,u)=>(l(),r("div",{class:"content-item",key:u},[t("div",null,a(o.getCreateTime(c.create_time_ts)),1),t("div",null,a(c.name),1),t("div",null,a(c.order_price_type=="limit"?e.$t("message.home.xianjiaweituo"):e.$t("message.home.shijiaweituo")),1),t("div",{class:y([c.offset=="open"?"buy":"sell"])},a(c.offset=="open"?e.$t("message.jiaoyi.mairu"):e.$t("message.home.maichu")),3),t("div",null,a(c.price)+" "+a(n.unit),1),t("div",null,a(c.offset=="open"?(Number(c.total)/Number(c.price)).toFixed(5):c.volume),1),rt,t("div",null,a(c.total),1),t("div",null,a(c.price),1),t("div",{onClick:h=>o.handleCancel(c)},ht,8,ct)]))),128)):(l(),r("div",dt,a(e.$t("message.home.txt1")),1))],64)):b("",!0),n.currentIndex===1?(l(),r(f,{key:1},[n.contentList.length!==0?(l(!0),r(f,{key:0},v(n.contentList,(c,u)=>(l(),r("div",{class:"content-item",key:u},[t("div",null,a(o.getCreateTime(c.create_time_ts)),1),t("div",null,a(c.name),1),t("div",null,a(c.order_price_type=="limit"?e.$t("message.home.xianjiaweituo"):e.$t("message.home.shijiaweituo")),1),t("div",{class:y([c.offset=="open"?"buy":"sell"])},a(c.offset=="open"?e.$t("message.jiaoyi.mairu"):e.$t("message.home.maichu")),3),mt,t("div",null,a(c.price),1),t("div",null,a(c.offset=="open"?(Number(c.total)/Number(c.price)).toFixed(5):c.volume),1),t("div",null,a(c.total),1),t("div",null,a(c.price),1),t("div",null,a(o.getStatus(c.state)),1)]))),128)):(l(),r("div",gt,a(e.$t("message.home.zanwushuju")),1))],64)):b("",!0),n.currentIndex===2?(l(),r(f,{key:2},[n.contentList.length!==0?(l(!0),r(f,{key:0},v(n.contentList,(c,u)=>(l(),r("div",{class:"content-item",key:u},[t("div",null,a(o.getCreateTime(c.create_time_ts)),1),t("div",null,a(c.name),1),t("div",{class:y([c.offset=="open"?"buy":"sell"])},a(c.offset=="open"?e.$t("message.jiaoyi.mairu"):e.$t("message.home.maichu")),3),t("div",null,a(c.price),1),t("div",null,a(c.offset=="open"?(Number(c.total)/Number(c.price)).toFixed(5):c.volume),1),t("div",null,a(c.fee),1),t("div",null,a(c.total),1)]))),128)):(l(),r("div",pt,a(e.$t("message.home.zanwushuju")),1))],64)):b("",!0),n.currentIndex===3?(l(),r(f,{key:3},[n.contentList.length!==0?(l(!0),r(f,{key:0},v(n.contentList,(c,u)=>(l(),r("div",{key:u},[t("div",yt,[t("div",_t,[t("img",{class:"symbol-img",src:o.handleSymbolImg(c.symbol)},null,8,bt),ie(a(c==null?void 0:c.symbol.toUpperCase()),1)]),t("div",null,a(Number(c.volume).toFixed(8)),1),t("div",null,a(Number(c.usable).toFixed(8)),1),t("div",null,a(Number(c.lock_amount).toFixed(8)),1),t("div",null,a(Number(c.freeze_amount).toFixed(8)),1)])]))),128)):(l(),r("div",ft,a(e.$t("message.home.zanwushuju")),1))],64)):b("",!0)])])}const Se=I(it,[["render",vt],["__scopeId","data-v-62ad5b31"]]);const kt={name:"spotPosition",props:{paramsType:{type:String,default:"indices"},pageType:{type:String},unit:{type:String}},components:{PositionTable:Se,Pagination:Ae},data(){return{checked1:!1,checked2:!1,pageNum:1,type:"orders",tabs:[{name:this.$t("message.home.dangqianweituo"),value:"orders"},{name:this.$t("message.home.lishiweituo"),value:"hisorders"},{name:this.$t("message.home.lishichengjiao"),value:"hisorders"},{name:this.$t("message.home.zichanguanli"),value:"pairs"}],tabIndex:0,tabList:[[{name:this.$t("message.home.shijian")},{name:this.$t("message.home.tradingPair")},{name:this.$t("message.jiaoyi.leixing")},{name:this.$t("message.home.direction"),dropDown:!1},{name:this.$t("message.home.jiage")},{name:this.$t("message.home.shuliang")},{name:this.$t("message.home.completeness")},{name:this.$t("message.home.chengjiaojine")},{name:this.$t("message.jiaoyi.chufajiage")},{name:this.$t("message.jiaoyi.chexiao")}],[{name:this.$t("message.home.shijian")},{name:this.$t("message.home.tradingPair")},{name:this.$t("message.jiaoyi.leixing")},{name:this.$t("message.home.direction"),dropDown:!1},{name:this.$t("message.home.pingjunjiage")},{name:this.$t("message.jiaoyi.weituojiage")},{name:this.$t("message.user.chengjiaoshuliang")},{name:this.$t("message.home.chengjiaojine")},{name:this.$t("message.jiaoyi.chufajiage")},{name:this.$t("message.user.zhuangtai")}],[{name:this.$t("message.home.shijian")},{name:this.$t("message.home.tradingPair")},{name:this.$t("message.home.direction"),dropDown:!1},{name:this.$t("message.home.chengjiaojunjia")},{name:this.$t("message.user.chengjiaoshuliang")},{name:this.$t("message.home.shouxufei")},{name:this.$t("message.home.chengjiaojine")}],[{name:this.$t("message.hangqing.bizhong")},{name:this.$t("message.jiaoyi.qianbaoyue")},{name:this.$t("message.user.xian14")},{name:this.$t("message.jiaoyi.suocang"),value:"pairs"},{name:this.$t("message.jiaoyi.dongjiejine")}]],contentList:[[],[],[],[]],orderType:"orders",endTime:"",startTime:"",typeValue:"orders",timer:null,isNext:!1,isTop:!1}},created(){this.existToken&&(this.init(),this.timer=setInterval(()=>{this.init()},2e3))},watch:{"$route.params.id"(){this.existToken&&this.init()}},unmounted(){clearInterval(this.timer),this.timer=null},methods:{init(){if(this.$route.params.id=="undefined")return;let e={page_no:this.pageNum,type:this.orderType,symbolType:this.paramsType,symbol:this.$route.params.id};this.tabIndex==1&&(e.orderPriceType="limit"),this.tabIndex==2&&(e.orderPriceType="opponent"),(this.tabIndex==1||this.tabIndex==2)&&(this.startTime&&(e.startTime=this.startTime),this.endTime&&(e.endTime=this.endTime)),D.currencyTradeRecord(e).then(i=>{i.code==0&&(i.data.length==0||i.data.length<10?this.isNext=!0:this.isNext=!1,this.contentList[this.tabIndex]=i.data)})},cancelOrder(e){D.cancelCurrencyOrder({order_no:e.order_no}).then(i=>{w({message:this.$t("message.home.caozuochenggong"),type:"success"}),this.init()})},getTime(e){this.pageNum=1,this.startTime=e.startTime,this.endTime=e.endTime,this.init()},handleTabClick(e,i){clearInterval(this.timer),this.startTime="",this.endTime="",(e==1||e==2)&&this.$refs.layout.clearTime(),this.tabIndex=e,this.typeValue=i,i==="pairs"?Te.getPairsWallet().then(n=>{const d=n.data.extends;let s=[];d.length&&(s=d.filter(o=>o.symbol&&o.volume>0)),this.contentList[this.tabIndex]=s}):(this.pageNum=1,this.orderType=i,this.init(),this.timer=setInterval(()=>{this.init()},2e3))},refreshApi(){this.handleTabClick(this.tabIndex,this.typeValue)},changePageNum(e){e=="next"?this.isNext||(this.pageNum=this.pageNum+1,this.init()):!this.isTop&&this.pageNum>1&&(this.pageNum=this.pageNum-1,this.init())}},computed:{...J(K,["existToken"])}},At={class:"quotes-footer"},Tt={class:"quotes-footer-title"},Ct=["onClick"],St={key:0},xt={class:"quotes-footer-main"},Dt={key:0,class:"no-login"},wt={style:{margin:"0 4px"}};function $t(e,i,n,d,s,o){const g=Se,c=Ae;return l(),r("div",At,[t("div",Tt,[(l(!0),r(f,null,v(s.tabs,(u,h)=>(l(),r("div",{key:h,onClick:p=>o.handleTabClick(h,u.value),class:y({"active-tab":s.tabIndex===h})},[t("span",null,a(u.name),1),h===0?(l(),r("span",St,"("+a(s.contentList[0].length)+")",1)):b("",!0)],10,Ct))),128))]),t("div",xt,[e.existToken?(l(),L(g,{key:1,ref:"layout",onGetTime:o.getTime,"current-index":s.tabIndex,onCancelOrder:o.cancelOrder,"tab-list":s.tabList[s.tabIndex],"content-list":s.contentList[s.tabIndex],unit:n.unit,pageType:n.pageType},null,8,["onGetTime","current-index","onCancelOrder","tab-list","content-list","unit","pageType"])):(l(),r("div",Dt,[t("span",{style:{color:"#1d91ff"},onClick:i[0]||(i[0]=u=>e.$router.push("/login"))},a(e.$t("message.home.denglu")),1),t("span",wt,a(e.$t("message.home.or")),1),t("span",{style:{margin:"0 4px",color:"#1d91ff"},onClick:i[1]||(i[1]=u=>e.$router.push("/register"))},a(e.$t("message.home.lijizhuce")),1),t("span",null,a(e.$t("message.home.trading")),1)]))]),s.typeValue=="hisorders"||s.typeValue=="opponent"?(l(),L(c,{key:0,class:"pagitation-wrapper",style:{margin:"20px 0"},noPre:s.isTop,noNext:s.isNext,pageNum:s.pageNum,onChangePageNum:o.changePageNum},null,8,["noPre","noNext","pageNum","onChangePageNum"])):b("",!0)])}const xe=I(kt,[["render",$t],["__scopeId","data-v-a642ec9b"]]);const Ft={emits:["searchFun","CurrencySort","getSelectList","checkCurrency","filterFun","deleteCollectFun"],components:{CaretTop:Ue,CaretBottom:Me},name:"index",props:["listData","AllListData","dealList","unit"],data(){return{showSearch:!1,currentDeal:"new",searchValue:"",sortIndex:0,myDataList:[],isCollectShow:!1,historyList:[],isUSD:!1,titleList:[{label:"jiaoyidui",sort:[1,2]},{label:"jiage",sort:[3,4]},{label:"zhangdie",sort:[5,6]}]}},watch:{"$route.params.id"(){this.currentDeal=="my"&&this.existToken&&this.getMyDataList()}},mounted(){this.historyList=JSON.parse(localStorage.getItem("historyList"))||[]},computed:{...J(K,["existToken"])},methods:{checkCurrencyTwo(e){JSON.stringify(this.historyList).indexOf(e.name)==-1&&this.historyList.push(e),localStorage.setItem("historyList",JSON.stringify(this.historyList)),this.checkCurrency(e)},focusSearch(){this.showSearch=!0,this.$emit("searchFun",this.searchValue)},cancelSearch(){this.showSearch=!1,this.searchValue="",this.$emit("searchFun",this.searchValue)},checkTab(e){this.currentDeal=e,this.currentDeal=="my"&&this.existToken&&this.getMyDataList()},CurrencySort(e){this.sortIndex=e,this.$emit("CurrencySort",e)},collect(e){console.log("item",e.isCollect),e.isCollect?(this.deleteCollectFun(e),e.collect=!1):(this.collectFun(e),e.collect=!0)},collectFun(e){this.$emit("collectFun",e)},deleteCollectFun(e){this.$emit("deleteCollectFun",e)},checkCurrency(e){this.$emit("checkCurrency",e)},getSelectList(){this.isCollectShow=!this.isCollectShow,this.isCollectShow&&(this.isUSD=!1),this.$emit("getSelectList",this.isCollectShow)},deleteAll(){this.historyList=[],localStorage.setItem("historyList",[])},getMyDataList(){let e={page_no:1,type:"opponent",symbol:this.$route.params.id};D.currencyTradeRecord(e).then(i=>{i.code==0&&(this.myDataList=i.data)})}}},ne=e=>(H("data-v-b016404c"),e=e(),X(),e),jt={class:"makeADeal-wrapper"},It={class:"search-wrapper",style:{display:"flex","align-items":"center",position:"relative"}},Bt={class:"search",style:{flex:"1"}},Lt=ne(()=>t("div",{class:"search-img"},[t("img",{src:Ge,alt:""})],-1)),Nt=["placeholder"],Vt={key:0},Ut={key:0,class:""},Mt={style:{"padding-left":"18px","padding-bottom":"8px"}},Ot={class:"history-list"},Rt=["onClick"],zt={class:"delelte-icon"},Yt={style:{padding:"18px"}},Et={class:"list-wrapper over-auto"},Pt=["onClick"],Qt={class:"name",style:{"padding-right":"5px"}},Jt={class:"symbol"},Gt={class:"price text-right"},Wt=["onClick"],qt=ne(()=>t("img",{src:_e,style:{"margin-left":"20px"},width:"12",height:"12"},null,-1)),Ht=[qt],Xt=["onClick"],Kt=ne(()=>t("img",{src:be,style:{"margin-left":"20px"},width:"12",height:"12"},null,-1)),Zt=[Kt],es={key:1},ts={class:"ticker-table-box"},ss={class:"title"},is={class:"to-sort"},as={class:"list-wrapper over-auto"},ns=["onClick"],os={class:"name"},ls=["onClick"],rs={key:0,src:_e,width:"12",height:"12"},cs={key:1,src:be,width:"12",height:"12"},us={class:"symbol"},hs={class:"price text-right"},ds={class:"deal"},ms={class:"deal-title"},gs={class:"deal-main"},ps={class:"deal-main-title"},ys={class:"text-right"},_s={class:"text-right"},bs={class:"deal-item-wrapper"},fs={class:"number text-right"},vs={class:"time text-right"},ks={key:0,class:"no-login"},As={class:"time text-right"},Ts={key:0,class:"empty"};function Cs(e,i,n,d,s,o){const g=q("CaretTop"),c=Oe,u=q("CaretBottom");return l(),r("div",jt,[t("div",It,[t("div",Bt,[Lt,j(t("input",{type:"text",placeholder:e.$t("message.home.chaxun"),onFocus:i[0]||(i[0]=(...h)=>o.focusSearch&&o.focusSearch(...h)),onInput:i[1]||(i[1]=h=>e.$emit("searchFun",this.searchValue)),"onUpdate:modelValue":i[2]||(i[2]=h=>s.searchValue=h)},null,40,Nt),[[U,s.searchValue]])]),s.showSearch?(l(),r("span",{key:0,onClick:i[3]||(i[3]=(...h)=>o.cancelSearch&&o.cancelSearch(...h)),style:{color:"#1d91ff","font-size":"12px",margin:"0 12px",cursor:"pointer"}},a(e.$t("message.jiaoyi.quxiao")),1)):b("",!0)]),s.showSearch?(l(),r("div",Vt,[s.historyList.length>0?(l(),r("div",Ut,[t("p",Mt,a(e.$t("message.jiaoyi.sousuolishi")),1),t("div",Ot,[t("ul",null,[(l(!0),r(f,null,v(s.historyList,(h,p)=>(l(),r("li",{onClick:m=>o.checkCurrency(h),key:p},a(h.name),9,Rt))),128))]),t("div",zt,[t("i",{class:"el-icon-delete",onClick:i[4]||(i[4]=(...h)=>o.deleteAll&&o.deleteAll(...h))})])])])):b("",!0),t("p",Yt,a(e.$t("message.jiaoyi.renmensousuo")),1),t("div",Et,[(l(!0),r(f,null,v(n.listData,(h,p)=>(l(),r("div",{class:"list-item",key:p,onClick:P(m=>o.checkCurrencyTwo(h),["stop"])},[t("div",Qt,[t("span",null,a(p+1),1),t("div",Jt,a(h.name),1)]),t("div",Gt,a(h.volume),1),t("div",{class:y(["ratio text-right",[h.change_ratio>0?"color-up":"color-down"]]),style:{width:"50px"}},a(h.change_ratio>0?"+":"")+a(h.change_ratio),3),h.isCollect?(l(),r("span",{key:1,onClick:P(m=>o.collect(h),["stop"])},Zt,8,Xt)):(l(),r("span",{key:0,onClick:P(m=>o.collect(h),["stop"])},Ht,8,Wt))],8,Pt))),128))])])):b("",!0),s.showSearch?b("",!0):(l(),r("div",es,[t("div",ts,[t("div",ss,[(l(!0),r(f,null,v(s.titleList,(h,p)=>(l(),r("div",{class:"title-item",key:p},[t("span",null,a(e.$t(`message.home.${h.label}`)),1),t("div",is,[C(c,null,{default:se(()=>[C(g,{class:y(["el-icon-caret-top",[s.sortIndex==h.sort[0]?"color-red":""]]),onClick:m=>o.CurrencySort(h.sort[0])},null,8,["class","onClick"])]),_:2},1024),C(c,null,{default:se(()=>[C(u,{class:y(["el-icon-caret-bottom",[s.sortIndex==h.sort[1]?"color-red":""]]),onClick:m=>o.CurrencySort(h.sort[1])},null,8,["class","onClick"])]),_:2},1024)])]))),128))])]),t("div",as,[(l(!0),r(f,null,v(n.AllListData,(h,p)=>(l(),r("div",{class:"list-item",key:p,onClick:P(m=>o.checkCurrency(h),["stop"])},[t("div",os,[t("div",{onClick:P(m=>o.collect(h),["stop"])},[h.isCollect?(l(),r("img",cs)):(l(),r("img",rs))],8,ls),t("div",us,a(h.name),1)]),t("div",hs,a(h.close),1),t("div",{class:y(["ratio text-right",[h.change_ratio>0?"color-up":"color-down"]])},a(h.change_ratio>0?"+":"")+a(h.change_ratio),3)],8,ns))),128))])])),t("div",ds,[t("div",ms,[t("div",{class:y({active:s.currentDeal==="new"}),onClick:i[5]||(i[5]=h=>o.checkTab("new"))},a(e.$t("message.home.zuixinchengjiao")),3),t("div",{class:y({active:s.currentDeal==="my"}),onClick:i[6]||(i[6]=h=>o.checkTab("my"))},a(e.$t("message.home.wodechengjiao")),3)]),t("div",gs,[t("div",ps,[t("div",null,a(e.$t("message.home.jiage"))+"("+a(n.unit)+")",1),t("div",ys,a(e.$t("message.home.shuliang")),1),t("div",_s,a(e.$t("message.home.shijian")),1)]),t("div",bs,[s.currentDeal==="new"?(l(!0),r(f,{key:0},v(n.dealList,(h,p)=>(l(),r("div",{class:"deal-item",key:p},[t("div",{class:y(["price",[h.direction=="sell"?"color-up":"color-down"]])},a(h.price),3),t("div",fs,a(h.amount),1),t("div",vs,a(h.current_time),1)]))),128)):b("",!0),s.currentDeal==="my"?(l(),r(f,{key:1},[e.existToken?(l(),r(f,{key:1},[(l(!0),r(f,null,v(s.myDataList,(h,p)=>(l(),r("div",{class:"deal-item",key:p},[t("div",{class:y(["price",[h.offset=="open"?"color-up":"color-down"]])},a(h.price),3),t("div",{class:y(["number text-right",[h.offset=="open"?"color-up":"color-down"]])},a(h.offset=="open"?"+"+h.volume:"-"+h.volume),3),t("div",As,a(h.create_time.substring(11,h.create_time.length)),1)]))),128)),s.myDataList.length==0?(l(),r("div",Ts,a(e.$t("message.home.noData")),1)):b("",!0)],64)):(l(),r("div",ks,a(e.$t("message.home.dengluhouchakan")),1))],64)):b("",!0)])])])])}const De=I(Ft,[["render",Cs],["__scopeId","data-v-b016404c"]]);function Ss(e){return ge.fetch("/api/item/itemSummary/get",e)}function xs(e){return ge.fetch("/api/projectBreed/getConstituentStockList",e)}const we={getStock:xs,getSummary:Ss};const Ds={class:"wrapper"},ws={class:"baseinfo"},$s={class:"label"},Fs={class:"value"},js={__name:"BaseInfo",setup(e){const i=pe(),{t:n}=Z(),d=[{label:"chengliri",key:"foundDate",value:"2021-08-03"},{label:"shangshiriqi",key:"listingDate",value:"2021-08-03"},{label:"jijinguimo",key:"fundSize",value:"2021-08-03"},{label:"jijinfene",key:"fundShares",value:"2021-08-03"},{label:"genzongzhishu",key:"indexTracking",value:"2021-08-03"},{label:"hangyegainian",key:"belongingConcept",value:"2021-08-03"},{label:"jijinjingli",key:"managingDirector",value:"2021-08-03"},{label:"jijingongsi",key:"orgName",value:"2021-08-03"},{label:"jijinleixing",key:"securityType",value:"2021-08-03"},{label:"fengxiandengji",key:"riskLevel",value:"2021-08-03"},{label:"yejibijiaojizhun",key:"performanceBenchmark",value:"2021-08-03"},{label:"touzileixing",key:"investmentType",value:"2021-08-03"},{label:"jiaoyifangshi",key:"tradingMethod",value:"2021-08-03"},{label:"jiaoyifeiyong",key:"transactionFee",value:"2021-08-03"},{label:"jiaoyiyongjin",key:"tradingCommission",value:"2021-08-03"}],s=$(d);ye(()=>{o()});const o=async()=>{var u;const g=((u=i.params)==null?void 0:u.id)||"GlobalETF500";let c=await we.getSummary({symbol:g});if(c.code=="0"){const h=d.map(p=>(p.value=c.data[p.key]||"--",p));s.value=h}};return(g,c)=>(l(),r("div",Ds,[t("div",ws,a(_(n)("message.user.jibenxinxi")),1),(l(!0),r(f,null,v(_(s),(u,h)=>(l(),r("div",{class:"list-item",key:h},[t("div",$s,a(_(n)(`message.user.${u.label}`)),1),t("div",Fs,a(u.value),1)]))),128))]))}},$e=I(js,[["__scopeId","data-v-dec8f439"]]);const Is={class:"ticker-table-box"},Bs={class:"title"},Ls={class:"title-item"},Ns={class:"to-sort"},Vs={class:"title-item"},Us={class:"to-sort"},Ms={class:"title-item"},Os={class:"to-sort"},Rs={class:"title-item"},zs={class:"to-sort"},Ys={class:"list-wrapper over-auto"},Es={class:"symbol"},Ps={class:"desc"},Qs={__name:"ShareInfo",props:{CurrencySort:{type:Function}},setup(e){const i=$(""),n=$([]),d=$(0),s=$(null),o=pe();Z();const g=$([]);ye(async()=>{await c(),s.value&&clearInterval(s),u()});const c=async()=>{var m;const h=((m=o.params)==null?void 0:m.id)||"GlobalETF500";let p=await we.getStock({symbol:h});if(p.code=="0"){const S=p.data.map(A=>A.relatedStockSymbol);n.value=p.data,i.value=S.join(",")}},u=()=>{const h=i.value||"TSLA,SZ300750,00941";D.getRealtime({symbol:h}).then(p=>{p.code=="0"&&(g.value=p.data.map(m=>{const S=n.value.filter(A=>A.relatedStockSymbol===m.symbol);return m={...m,...S[0]},m}))})};return(h,p)=>(l(),r("div",null,[t("div",Is,[t("div",Bs,[t("div",Ls,[t("span",null,a(h.$t("message.user.mingchengdaima")),1),t("div",Ns,[t("i",{class:y(["el-icon-caret-top",[_(d)==1?"color-red":""]]),onClick:p[0]||(p[0]=m=>e.CurrencySort(1))},null,2),t("i",{class:y(["el-icon-caret-bottom",[_(d)==2?"color-red":""]]),onClick:p[1]||(p[1]=m=>e.CurrencySort(2))},null,2)])]),t("div",Vs,[t("span",null,a(h.$t("message.user.zhanbichicang")),1),t("div",Us,[t("i",{class:y(["el-icon-caret-top",[_(d)==3?"color-red":""]]),onClick:p[2]||(p[2]=m=>e.CurrencySort(3))},null,2),t("i",{class:y(["el-icon-caret-bottom",[_(d)==4?"color-red":""]]),onClick:p[3]||(p[3]=m=>e.CurrencySort(4))},null,2)])]),t("div",Ms,[t("span",null,a(h.$t("message.user.zuixin")),1),t("div",Os,[t("i",{class:y(["el-icon-caret-top",[_(d)==5?"color-red":""]]),onClick:p[4]||(p[4]=m=>e.CurrencySort(5))},null,2),t("i",{class:y(["el-icon-caret-bottom",[_(d)==6?"color-red":""]]),onClick:p[5]||(p[5]=m=>e.CurrencySort(6))},null,2)])]),t("div",Rs,[t("span",null,a(h.$t("message.user.zhangdiefu")),1),t("div",zs,[t("i",{class:y(["el-icon-caret-top",[_(d)==5?"color-red":""]]),onClick:p[6]||(p[6]=m=>e.CurrencySort(5))},null,2),t("i",{class:y(["el-icon-caret-bottom",[_(d)==6?"color-red":""]]),onClick:p[7]||(p[7]=m=>e.CurrencySort(6))},null,2)])])])]),t("div",Ys,[(l(!0),r(f,null,v(_(g),(m,S)=>(l(),r("div",{class:"list-item",key:S},[t("div",null,[t("div",Es,a(m==null?void 0:m.name),1),t("div",Ps,a(m==null?void 0:m.symbol),1)]),t("div",null,a(m==null?void 0:m.positionProportion)+"%",1),t("div",null,a(m==null?void 0:m.close),1),t("div",{class:y(["ratio",[(m==null?void 0:m.net_change)>0?"color-up":"color-down"]])},a((m==null?void 0:m.net_change)>0?"+":"")+a(m==null?void 0:m.net_change),3)]))),128))])]))}},Fe=I(Qs,[["__scopeId","data-v-e624bdd6"]]);const Js={class:"market-box"},Gs={class:"flexlayout__layout order-history-layout"},Ws={class:"flexlayout__tab tab-layout",style:{left:"0",width:"100%",height:"100%",position:"absolute","border-right":"1px solid rgb(36, 39, 44)"}},qs={class:"order-book-box"},Hs={class:"order-book-wrap"},Xs={class:"order-book-head"},Ks={class:"position-wrap"},Zs=["onClick"],ei=["src"],ti=["src"],si={class:"ladder-wrap"},ii={class:"okui-select text-select"},ai={class:"okui-select-value-box",style:{display:"flex"}},ni={class:"value-select"},oi=["onClick"],li=t("div",{class:"value",style:{"margin-right":"10px"}},null,-1),ri={class:"order-book-body"},ci={class:"title-wrap"},ui={class:"price"},hi={class:"amount",style:{"text-align":"center"}},di={style:{"text-align":"right"}},mi={class:"book-body-wrap"},gi={class:"virtual-list",style:{position:"relative",width:"100%","will-change":"transform",direction:"ltr"}},pi={style:{height:"auto",width:"100%"}},yi={key:0,class:"ticker-box",style:{height:"32px",width:"100%"}},_i={class:"ticker-wrap"},bi={class:"ticker-price"},fi={class:"local-price"},vi={class:"current-local-price"},ki={key:1,class:"top-hight-box-two"},Ai=["onClick"],Ti={"data-position":"price",class:"content price"},Ci={style:{"text-align":"center"},"data-position":"amount",class:"content amount"},Si={style:{"text-align":"right"},class:"content turnover"},xi={key:2,class:"ticker-box",style:{height:"32px",width:"100%"}},Di={class:"ticker-wrap"},wi={class:"ticker-price"},$i={class:"local-price"},Fi={class:"current-local-price"},ji={key:3,class:"top-hight-box"},Ii=["onClick"],Bi={"data-position":"price",class:"content price"},Li={style:{"text-align":"center"},"data-position":"amount",class:"content amount"},Ni={style:{"text-align":"right"},class:"content turnover"},je={__name:"OrderBook",props:{pageData:{type:Object,default:{}},changeClickData:{type:Function},filterDown:{type:Array,default:[]},filterTop:{type:Array,default:[]},bigIndex:{type:[String,Number],default:""},unit:{type:String}},setup(e){const i=e,{t:n}=Z(),d=$([!0,!1,!1]),s=$(0),o=$(!1),g=["0.01","0.1","1","10","0.50","100"],c=$("0.01"),u=A=>{d.value.map((B,F)=>{d.value[F]=!1}),d.value[A]=!0,s.value=A},h=()=>{o.value=!o.value},p=A=>{changeClickData(A.price)},m=A=>{changeClickData(A.price)},S=A=>{var B=A/i.bigIndex/100;return B+Math.random()*100+"%"};return(A,B)=>{var F,N,G,O,R,z,Y,E;return l(),r("div",Js,[t("div",Gs,[t("div",Ws,[t("div",qs,[t("div",Hs,[t("div",Xs,[t("div",Ks,[(l(!0),r(f,null,v(_(d),(k,x)=>(l(),r("div",{class:"position-item",key:x,onClick:M=>u(x)},[k?(l(),r("img",{key:1,src:A.$getImages(`quotes/graphics-${x+1}-avtive.png`),alt:""},null,8,ti)):(l(),r("img",{key:0,src:A.$getImages(`quotes/graphics-${x+1}.png`),alt:""},null,8,ei))],8,Zs))),128))]),t("div",si,[t("div",ii,[t("div",ai,[t("div",{class:"okui-select-text-value input-md align-right",style:{position:"relative"},onClick:h},[j(t("div",ni,[(l(),r(f,null,v(g,(k,x)=>t("p",{class:y({"is-cycle":k===_(c)}),key:x,onClick:M=>_(c).value=k},a(k),11,oi)),64))],512),[[Re,_(o)]]),li])])])])]),t("div",ri,[t("div",ci,[t("span",ui,a(_(n)("message.home.jiage"))+"("+a(e.unit)+")",1),t("span",hi,a(_(n)("message.home.shuliang")),1),t("span",di,a(_(n)("message.home.chengjiaoe")),1)]),t("div",mi,[t("div",gi,[t("ul",pi,[_(s)==1||_(s)==2?(l(),r("div",yi,[t("div",_i,[t("div",{class:y(["ticker-last-box",((F=e.pageData)==null?void 0:F.change_ratio)>0||_(s)==2?"color-up":"color-down"])},[t("span",bi,a((N=e.pageData)==null?void 0:N.close),1),t("i",{class:y(["icon","iconfont","icon-Mul_Arrowup",((G=e.pageData)==null?void 0:G.change_ratio)>0?"icon-up":"icon-down"])},null,2),t("span",fi,[t("span",vi,a((O=e.pageData)==null?void 0:O.close),1)])],2)])])):b("",!0),_(s)==0||_(s)==1?(l(),r("div",ki,[(l(!0),r(f,null,v(e.filterDown,(k,x)=>(l(),r("li",{class:"order-book-item asks",style:{},key:"a"+x,onClick:M=>p(k)},[t("span",Ti,[t("em",null,a(k.price),1)]),t("span",Ci,a(k.amount),1),t("span",Si,a((k.price*k.amount).toFixed(2)),1),t("div",{class:"process-bar",style:Q("transform:translateX(-"+S(k.amount)+")")},null,4)],8,Ai))),128))])):b("",!0),_(s)==0?(l(),r("div",xi,[t("div",Di,[t("div",{class:y(["ticker-last-box",((R=e.pageData)==null?void 0:R.change_ratio)>0?"color-up":"color-down"])},[t("span",wi,a((z=e.pageData)==null?void 0:z.close),1),t("i",{class:y(["icon","iconfont","icon-Mul_Arrowup",((Y=e.pageData)==null?void 0:Y.change_ratio)>0?"icon-up":"icon-down"])},null,2),t("span",$i,[t("span",Fi,a((E=e.pageData)==null?void 0:E.close),1)])],2)])])):b("",!0),_(s)==0||_(s)==2?(l(),r("div",ji,[(l(!0),r(f,null,v(e.filterTop,(k,x)=>(l(),r("li",{"data-index":"0",class:"order-book-item bids",style:{height:"20px"},key:"x"+x,onClick:M=>m(k)},[t("span",Bi,[t("em",null,a(k.price),1)]),t("span",Li,a(k.amount),1),t("span",Ni,a((k.price*k.amount).toFixed(2)),1),t("div",{class:"process-bar",style:Q("transform:translateX(-"+S(k.amount)+")")},null,4)],8,Ii))),128))])):b("",!0)])])])])])])])])])}}};const Vi={class:"ticker-top-box"},Ui={class:"ticker-item ml-41"},Mi={class:"value"},Oi={class:"ticker-item ml-41"},Ri={class:"label"},zi={class:"ticker-item ml-41"},Yi={class:"label"},Ei={class:"value"},Pi={class:"ticker-item ml-41"},Qi={class:"label"},Ji={class:"value"},Gi={class:"ticker-item ml-41"},Wi={class:"label"},qi={class:"value"},Hi={class:"ticker-item ml-41"},Xi={class:"label"},Ki={class:"value"},Ie={__name:"TopInfo",props:{pageData:{type:Object,default:{}},pageType:{type:String,default:"etf"}},setup(e){const i=e,{t:n}=Z(),d={amount:{etf:"message.home.wangu",usStocks:"message.home.wangu",twStocks:"message.home.wangu",cnStocks:"message.home.wangu",hkStocks:"message.home.wangu",coin:"",forex:""},volumn:{etf:"message.home.wan",usStocks:"message.home.wan",cnStocks:"message.home.wan",hkStocks:"message.home.wan",twStocks:"message.home.wan",forex:"USD",coin:"USDT"}},s=ee(()=>{var c,u;return i.pageType==="coin"?(c=i.pageData)==null?void 0:c.symbol_data.toUpperCase():["usStocks","etf"].includes(i.pageType)?n(`${d.amount[i.pageType]}`):(u=i.pageData)==null?void 0:u.symbol.toUpperCase()}),o=ee(()=>{var u;const c=(u=i.pageData)==null?void 0:u.volume;if(c){const h=["usStocks","etf"].includes(i.pageType)?c/1e4:c;return Number(h).toFixed(4)}return"--"}),g=ee(()=>{var u;const c=(u=i.pageData)==null?void 0:u.amount;if(c){const h=["usStocks","etf"].includes(i.pageType)?c/1e4:c;return Number(h).toFixed(4)}return"--"});return(c,u)=>{var h,p,m,S,A,B,F,N;return l(),r("div",Vi,[t("div",Ui,[t("span",{class:y(["label","fs-16",((h=e.pageData)==null?void 0:h.change_ratio)>0?"color-up":"color-down"])},a((p=e.pageData)==null?void 0:p.close),3),t("span",Mi,"$"+a((m=e.pageData)==null?void 0:m.close),1)]),t("div",Oi,[t("span",Ri,a(_(n)("message.home.24xiaoshizhangdie")),1),t("span",{class:y(["value",((S=e.pageData)==null?void 0:S.change_ratio)>0?"color-up":"color-down"])},a(((A=e.pageData)==null?void 0:A.change_ratio)>0?"+":"")+a((B=e.pageData)==null?void 0:B.change_ratio)+"%",3)]),t("div",zi,[t("span",Yi,"24h"+a(_(n)("message.home.zuigao")),1),t("span",Ei,a((F=e.pageData)==null?void 0:F.high),1)]),t("div",Pi,[t("span",Qi,"24h"+a(_(n)("message.home.zuidi")),1),t("span",Ji,a((N=e.pageData)==null?void 0:N.low),1)]),t("div",Gi,[t("span",Wi,"24h"+a(_(n)("message.home.liang"))+"("+a(_(s))+")",1),t("span",qi,a(_(g)),1)]),t("div",Hi,[t("span",Xi,"24h"+a(_(n)("message.home.e"))+"("+a(_(n)(`${d.volumn[e.pageType]}`))+")",1),t("span",Ki,a(_(o)),1)])])}}},Zi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADWSURBVHgB7ZexDcIwEEW/nQikVBmBEZJN2IAVnApR4Q5RJRtEbBA2YAMYgRHSpcE29iEQGcBOc7+xz1f8d1f5C3ip/WkDmfcQqABXIrYcBljTdOfDU5B5lt+TGM81wpg6RyZbMnfugmlSXadHRNRn21JDiJ0/ewmILXWs1bHNg8LasV4pKoSo5KyRSJ1uvoOWEguLARiAARiAARiAARiAARiAAUIwoT+6UjpZNKN09ANweNCtKNr/RjTzMGiWHamw9rp4OJUUycyr9g8D0mj0QfgWzIP3Gz1xSzv7CoUYAAAAAElFTkSuQmCC",ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGFSURBVHgB7Zc/S8NAGMafu1idLBkUBBVczdRO4q7gKEgVnfQbGPo5JPgJHAVFqZOCDk6Cky7WtUMHQYdQJykm3st5NGL+GHvJLf1ByA1v8jz33L0HxyCY8cKFCseRGNbEY6NoGFr9T7gvLuuwb/GHUoR/4vcD1HnFgmdAnLApdY4Q6zBHjcMstmkDGBko1EB1ApibhBkDzhRwtwtc7UgjpRpYngVONgbC1fHk2jFoprEIHKzKce8D2DwDuu/J9VoTiBNvv6V/oy2BqHi3lz1zhZYE/itOxCbgLsm3d49MqFbV5xWPNeBMD35IPdy8QWHixK8laL8Cp89y3HBEtCsoTDzWANG8TjehSzzRQJyJy215sOgUJ9j8YRimFdDupl1OUG+r002HOJHZhpSE6gYl/iT2ydrx8OJ/MkCQAWWCxLfOZRo6yFyCKNSWOmYdJddJqFs8t4EiGBngTFyRYBAuWuARpghwwa0Ae4ZS8C1gn3fEFZmLW6q4I7ZQDr44eW7FxOuk/QWFA5BuQ6HNwAAAAABJRU5ErkJggg==";const ta={emits:["refresh","showlist"],name:"currencyTrade",props:{pageData:{type:Object,default:function(){return{}}},clickData:{type:String},unit:{type:String},pageType:{type:String},paramsType:{type:String,default:"indices"}},data(){return{type:"opponent",buyFee:"0",volume:"",buySessionToken:"",sellFee:"0",currencyVolume:"",sellSessionToken:"",symbol:"btc",buyNum:"",buyPrice:"",buyGetVolume:"",sellNum:"",sellPrice:"",sellGetVolume:"",buySliderValue:0,sellSliderValue:0,buyAmount:"",sellAmount:"",dialogFormVisible:!1,isCheck:!1,typeTitle:"",typeSellOrBuy:0,marks:{0:"0",25:"25%",50:"50%",75:"70%",100:"100%"},buyMake:"",sellMake:"",timer:null,timeOutTimer1:null,timeOutTimer2:null}},computed:{...J(K,["existToken"]),getSymbolUpper(){if(typeof this.pageData.symbol_data=="string")return["coin"].includes(this.pageType)?this.pageData.symbol_data.toUpperCase():this.pageData.symbol.toUpperCase()}},unmounted(){clearInterval(this.timer),this.timer=null,this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null),this.timeOutTimer2&&(clearTimeout(this.timeOutTimer2),this.timeOutTimer2=null)},watch:{clickData(e){this.buyPrice=e,this.sellPrice=e},"$route.params.id"(e){this.getSellView()},pageData(e){this.type=="opponent"&&(this.buyPrice=e.close,this.sellPrice=e.close)},buyPrice(e){this.type=="limit"&&this.entrustBtn()}},mounted(){this.type!=="opponent"&&(this.buyPrice=this.pageData.close,this.sellPrice=this.pageData.close),this.isCheck=localStorage.getItem("isCheck")||!1,this.existToken&&(this.timer=setInterval(()=>{this.getBuyView(),this.getSellView()},2e3)),this.getExchangerateuser()},methods:{sellMakeFun(){this.sellMake=this.sellMake.match(/^\d*(\.?\d{0,5})/g)[0],this.sellNum=(this.sellMake/this.sellPrice).toFixed(5),parseFloat(this.sellNum)>=parseFloat(this.currencyVolume)&&(this.sellNum=this.formatDecimal(this.currencyVolume,5),this.sellMake=(parseFloat(this.sellNum)*parseFloat(this.sellPrice)).toFixed(5)),this.sellSliderValue=this.sellNum/this.currencyVolume*100},buyMakeFun(){this.buyMake=this.buyMake.match(/^\d*(\.?\d{0,5})/g)[0],parseFloat(this.buyMake)>=parseFloat(this.volume)&&(this.buyMake=this.volume.toFixed(5)),this.buyNum=this.buyMake,this.buyNum.toString().indexOf(".")!=-1&&this.buyNum.toString().substring(this.buyNum.toString().indexOf("."),this.buyNum.toString().length).length>5&&(this.buyNum=this.formatDecimal(this.buyNum,5)),this.buySliderValue=this.buyNum/parseFloat(this.volume)*100},getExchangerateuser(){Te.getExchangerateuserconfigInfo().then(e=>{})},goRouter(e){this.$router.push(e)},buyAndsell(){this.typeSellOrBuy==0?this.buyFun():this.sellFun()},liveData(e){this.isCheck=e,e?localStorage.setItem("isCheck",!0):localStorage.setItem("isCheck",!1)},entrustBtn(e){e&&(this.type=e),this.buySliderValue=0,this.sellSliderValue=0,this.buyNum="",this.sellNum="",this.buyMake="",this.sellMake=""},getBuyView(){D.BuyOpenView({type:this.paramsType}).then(e=>{this.buyFee=e.data.fee,this.volume=e.data.volume,this.buySessionToken=e.data.session_token})},changeBuyNum(){this.buyNum&&(this.buyNum=this.buyNum.match(/^\d*(\.?\d{0,5})/g)[0]),parseFloat(this.buyNum)>parseFloat(this.volume)&&(this.buyNum=this.formatDecimal(this.volume,5)),this.buySliderValue=(this.buyNum/this.volume*100).toFixed(2)},changeSellNum(){this.sellNum&&(this.sellNum=this.sellNum.match(/^\d*(\.?\d{0,5})/g)[0]),parseFloat(this.sellNum)>parseFloat(this.currencyVolume)&&(this.sellNum=this.formatDecimal(this.currencyVolume,5)),this.sellSliderValue=(this.sellNum/parseFloat(this.currencyVolume)*100).toFixed(2),this.sellMake=this.formatDecimal(this.sellPrice*this.sellNum,5)},buyFun(){if(this.dialogFormVisible){this.buyCurrency();return}this.typeSellOrBuy=0,this.typeTitle=this.type=="opponent"?this.$t("message.jiaoyi.shijiamairuqueren"):this.$t("message.jiaoyi.xianjiamairuqueren"),this.isCheck?this.buyCurrency():this.beforeBuyCheck()},beforeBuyCheck(){if(!this.buyPrice){w.warning(this.$t("message.home.qingshurujiage"));return}if(!this.buyNum){w.warning(this.$t("message.home.qingshurushuliang"));return}if(this.volume<=0){w.warning(this.$t("message.home.yuebuzuqingxianchongzhi"));return}this.dialogFormVisible=!0},sellFun(){if(this.dialogFormVisible){this.sellCurrency();return}this.typeSellOrBuy=1,this.typeTitle=this.type=="opponent"?this.$t("message.jiaoyi.shijiamaichuqueren"):this.$t("message.jiaoyi.xianjiamaichuqueren"),this.isCheck?this.sellCurrency():this.beforeSellCheck()},buyCurrency(){this.beforeBuyCheck(),D.currencyBuy({volume:this.buyNum,session_token:this.buySessionToken,symbol:this.pageData.symbol,price:this.buyPrice,order_price_type:this.type,total:(this.buyNum/this.buyPrice).toFixed(5)}).then(e=>{this.dialogFormVisible=!1,e.code==0&&(w.success(this.$t("message.home.caozuochenggong")),ze.emit("showlist",{type:this.type}),this.timeOutTimer1=setTimeout(()=>{this.$emit("refresh")},1e3))}).finally(()=>{this.dialogFormVisible=!1,this.buySliderValue=0,this.buyNum="",this.buyMake=""})},getSellView(){this.$route.params.id!="undefined"&&D.SellOpenView({symbol:this.$route.params.id}).then(e=>{this.sellFee=e.data.fee,this.currencyVolume=e.data.volume,this.sellSessionToken=e.data.session_token})},beforeSellCheck(){if(!this.sellPrice){w.warning(this.$t("message.home.qingshurujiage"));return}if(!this.sellNum){w.warning(this.$t("message.home.qingshurushuliang"));return}if(this.sellNum==0||this.sellNum==0){w.warning(this.$t("message.home.qingshurushuliang"));return}this.dialogFormVisible=!0},sellCurrency(){this.beforeSellCheck(),D.currencySell({volume:this.sellNum,session_token:this.sellSessionToken,symbol:this.pageData.symbol,price:this.sellPrice,order_price_type:this.type}).then(e=>{e.code==0&&(w.success(this.$t("message.home.caozuochenggong")),this.timeOutTimer2=setTimeout(()=>{this.$emit("refresh")},1e3))}).finally(()=>{this.dialogFormVisible=!1,this.sellSliderValue=0,this.sellNum="",this.sellMake=""})},changeBuyValue(){const e=String(this.volume*this.buySliderValue/100);this.buyNum=e.match(/^\d*(\.?\d{0,5})/g)[0],this.buyMake=this.buyNum},changesSellValue(){this.sellNum=this.currencyVolume*this.sellSliderValue/100,this.sellNum=this.formatDecimal(this.sellNum,5),this.changeSellNum()},openRecharge(){this.$router.push("/recharge")},formatDecimal(e,i){e=e.toString();let n=e.indexOf(".");return n!==-1?e=e.substring(0,i+n+1):e=e.substring(0),parseFloat(e).toFixed(i)}}},Be=e=>(H("data-v-f427cb1c"),e=e(),X(),e),sa={class:"currency-page"},ia={class:"currency-page-title"},aa={class:"place-order-inner-common"},na={class:"okui-tabs",style:{height:"auto"}},oa={class:"tabWrapper okui-tabs-pane-list"},la={class:"tabLeft"},ra={class:"question-icon-wrapper",style:{position:"relative"}},ca={class:"currency"},ua={class:"place-order-form-box"},ha={class:"common-form-box",id:"leftPoForm",style:{"margin-right":"16px"}},da={class:"place-order-input-box"},ma={class:"input-label-box"},ga={style:{color:"#929aa5"}},pa={style:{margin:"0 4px 0 8px"}},ya={class:"input-item-input"},_a={class:"okui-input input-sm input-item-number-input"},ba={class:"okui-input-box"},fa={class:"name"},va={class:"input-wrapper"},ka=["disabled"],Aa={class:"type"},Ta={class:"place-order-input-box mt-12"},Ca={class:"input-item-input"},Sa={class:"okui-input input-sm input-item-number-input"},xa={class:"okui-input-box"},Da=["placeholder"],wa={class:"input-wrapper"},$a={class:"type"},Fa={key:0,class:"input-item-input py-10"},ja={class:"okui-input input-sm input-item-number-input"},Ia={class:"okui-input-box"},Ba=["placeholder"],La={class:"input-wrapper"},Na={class:"type"},Va={class:"submit-btn-box-container"},Ua={class:"submit-btn-box"},Ma={class:"btn-content"},Oa={class:"btn-content"},Ra={class:"common-form-box",id:"rightPoForm",style:{"margin-left":"16px"}},za={class:"place-order-input-box"},Ya={class:"input-label-box"},Ea={style:{color:"#929aa5"}},Pa={style:{margin:"0 4px 0 8px"}},Qa={class:"input-item-input"},Ja={class:"okui-input input-sm input-item-number-input input-has-value"},Ga={class:"okui-input-box no-padding-right"},Wa={class:"name"},qa={class:"input-wrapper"},Ha=["disabled"],Xa={class:"type"},Ka={class:"place-order-input-box mt-12"},Za={class:"input-item-input"},en={class:"okui-input input-sm input-item-number-input"},tn={class:"okui-input-box"},sn=["placeholder"],an={class:"input-wrapper"},nn={class:"type"},on={key:0,class:"input-item-input py-10"},ln={class:"okui-input input-sm input-item-number-input"},rn={class:"okui-input-box"},cn=["placeholder"],un={class:"input-wrapper"},hn={class:"type"},dn={class:"submit-btn-box-container"},mn={class:"submit-btn-box"},gn={class:"btn-content"},pn={class:"btn-content"},yn={class:"dialog-title"},_n={class:"dia-item"},bn={class:"dia-item-left-title"},fn={class:"dia-item-right-title"},vn={class:"dia-item"},kn={class:"dia-item-left-title"},An={class:"dia-item-right-title"},Tn={class:"dia-item"},Cn={class:"dia-item-left-title"},Sn={class:"dia-item-right-title"},xn={class:"dia-item-right-title"},Dn={class:"dia-item"},wn={class:"dia-item-left-title"},$n={class:"dia-item-right-title"},Fn={class:"dia-item-right-title"},jn={class:"tip-box"},In=Be(()=>t("img",{class:"select-img",src:Zi},null,-1)),Bn=[In],Ln=Be(()=>t("img",{class:"select-img",src:ea},null,-1)),Nn=[Ln],Vn={class:"buts-box"};function Un(e,i,n,d,s,o){const g=Ye,c=Ee;return l(),r("div",sa,[t("div",ia,a(e.$t("message.jiaoyi.xianhuo")),1),t("div",aa,[t("div",na,[t("div",oa,[t("div",la,[t("div",{class:y([s.type=="opponent"?"tabLeftActive":"","tabText"]),onClick:i[0]||(i[0]=u=>o.entrustBtn("opponent"))},a(e.$t("message.home.shijia")),3),t("div",{class:y([s.type=="limit"?"tabLeftActive":"","tabText"]),onClick:i[1]||(i[1]=u=>o.entrustBtn("limit"))},a(e.$t("message.home.xianjia")),3)]),t("div",ra,[t("div",ca,a(n.unit),1),t("span",{onClick:i[2]||(i[2]=(...u)=>o.openRecharge&&o.openRecharge(...u))},a(e.$t("message.jiaoyi.maibi")),1),t("i",{onClick:i[3]||(i[3]=(...u)=>o.openRecharge&&o.openRecharge(...u)),class:"el-icon-arrow-right"})])])]),t("div",ua,[t("div",ha,[t("div",da,[t("div",ma,[t("span",ga,a(e.$t("message.home.keyong")),1),t("span",pa,a(s.volume),1),t("span",null,a(n.unit),1)]),t("div",ya,[t("div",_a,[t("div",ba,[t("span",fa,a(e.$t("message.home.jiage")),1),t("div",va,[j(t("input",{"onUpdate:modelValue":i[4]||(i[4]=u=>s.buyPrice=u),inputmode:"decimal",max:"Infinity",step:"0.1",name:"price",autocomplete:"off",min:"0",type:"text",class:"okui-input-input",autocapitalize:"off",autocorrect:"off",disabled:s.type=="opponent",style:{transition:"font-size 100ms ease 0s"}},null,8,ka),[[U,s.buyPrice]]),t("span",Aa,a(n.unit),1)])])])])]),t("div",Ta,[t("div",Ca,[t("div",Sa,[t("div",xa,[j(t("input",{"onUpdate:modelValue":i[5]||(i[5]=u=>s.buyNum=u),onInput:i[6]||(i[6]=(...u)=>o.changeBuyNum&&o.changeBuyNum(...u)),inputmode:"decimal",max:"Infinity",step:"0.01",name:"total",min:"0",placeholder:e.$t("message.home.shuliang"),type:"text",class:"okui-input-input amount-input"},null,40,Da),[[U,s.buyNum]]),t("div",wa,[t("span",$a,a(n.unit),1)])])])]),C(g,{class:"slider-block","tooltip-class":"tooltip-box",onChange:o.changeBuyValue,"format-tooltip":u=>`${u}%`,modelValue:s.buySliderValue,"onUpdate:modelValue":i[7]||(i[7]=u=>s.buySliderValue=u),marks:s.marks},null,8,["onChange","format-tooltip","modelValue","marks"]),s.type=="limit"?(l(),r("div",Fa,[t("div",ja,[t("div",Ia,[j(t("input",{"onUpdate:modelValue":i[8]||(i[8]=u=>s.buyMake=u),onInput:i[9]||(i[9]=(...u)=>o.buyMakeFun&&o.buyMakeFun(...u)),inputmode:"decimal",max:"Infinity",step:"0.01",name:"total",min:"0",placeholder:e.$t("message.jiaoyi.chengjiaoe"),type:"text",class:"okui-input-input amount-input"},null,40,Ba),[[U,s.buyMake]]),t("div",La,[t("span",Na,a(n.unit),1)])])])])):b("",!0)]),t("div",Va,[t("div",Ua,[e.existToken?(l(),r("button",{key:0,onClick:i[10]||(i[10]=(...u)=>o.buyFun&&o.buyFun(...u)),side:"buy",type:"button",class:"okui-btn btn-sm btn-fill-green submit-btn long"},[t("span",Ma,a(e.$t("message.home.mairu")),1)])):(l(),r("button",{key:1,side:"buy",type:"button",class:"okui-btn btn-sm btn-fill-green submit-btn long",onClick:i[11]||(i[11]=u=>o.goRouter("/login"))},[t("span",Oa,a(e.$t("message.home.dengluhoujiaoyi")),1)]))])])]),t("div",Ra,[t("div",za,[t("div",Ya,[t("span",Ea,a(e.$t("message.home.keyong")),1),t("span",Pa,a(s.currencyVolume),1),t("span",null,a(o.getSymbolUpper),1)]),t("div",Qa,[t("div",Ja,[t("div",Ga,[t("span",Wa,a(e.$t("message.home.jiage")),1),t("div",qa,[j(t("input",{"onUpdate:modelValue":i[12]||(i[12]=u=>s.sellPrice=u),inputmode:"decimal",max:"Infinity",step:"0.1",name:"price",autocomplete:"off",min:"0",type:"text",class:"okui-input-input",disabled:s.type=="opponent"},null,8,Ha),[[U,s.sellPrice]]),t("span",Xa,a(n.unit),1)])])])])]),t("div",Ka,[t("div",Za,[t("div",en,[t("div",tn,[j(t("input",{"onUpdate:modelValue":i[13]||(i[13]=u=>s.sellNum=u),onInput:i[14]||(i[14]=(...u)=>o.changeSellNum&&o.changeSellNum(...u)),inputmode:"decimal",max:"Infinity",step:"0.01",name:"total",autocomplete:"off",min:"0",placeholder:e.$t("message.home.shuliang"),type:"text",class:"okui-input-input amount-input",autocapitalize:"off",autocorrect:"off",style:{transition:"font-size 100ms ease 0s"}},null,40,sn),[[U,s.sellNum]]),t("div",an,[t("span",nn,a(o.getSymbolUpper),1)])])])]),C(g,{class:"slider-block","tooltip-class":"tooltip-box",onChange:o.changesSellValue,modelValue:s.sellSliderValue,"onUpdate:modelValue":i[15]||(i[15]=u=>s.sellSliderValue=u),"format-tooltip":u=>`${u}%`,marks:s.marks},null,8,["onChange","modelValue","format-tooltip","marks"]),s.type=="limit"?(l(),r("div",on,[t("div",ln,[t("div",rn,[j(t("input",{"onUpdate:modelValue":i[16]||(i[16]=u=>s.sellMake=u),onInput:i[17]||(i[17]=(...u)=>o.sellMakeFun&&o.sellMakeFun(...u)),inputmode:"decimal",max:"Infinity",step:"0.01",name:"total",min:"0",placeholder:e.$t("message.jiaoyi.chengjiaoe"),type:"text",class:"okui-input-input amount-input"},null,40,cn),[[U,s.sellMake]]),t("div",un,[t("span",hn,a(n.unit),1)])])])])):b("",!0)]),t("div",dn,[t("div",mn,[e.existToken?(l(),r("button",{key:0,onClick:i[18]||(i[18]=(...u)=>o.sellFun&&o.sellFun(...u)),side:"buy",type:"button",class:"okui-btn btn-sm btn-fill-red submit-btn long"},[t("span",gn,a(e.$t("message.home.maichu")),1)])):(l(),r("button",{key:1,side:"buy",type:"button",class:"okui-btn btn-sm btn-fill-red submit-btn long",onClick:i[19]||(i[19]=u=>o.goRouter("/login"))},[t("span",pn,a(e.$t("message.home.dengluhoujiaoyi")),1)]))])])])])]),C(c,{title:s.typeTitle,width:"470px",class:"dialog-box","append-to-body":!0,modelValue:s.dialogFormVisible,"onUpdate:modelValue":i[24]||(i[24]=u=>s.dialogFormVisible=u)},{default:se(()=>[t("div",yn,a(n.pageData.name),1),t("div",_n,[t("div",bn,a(e.$t("message.jiaoyi.dangqianjiage")),1),t("div",fn,a(s.typeSellOrBuy==0?s.buyPrice:s.sellPrice)+" "+a(n.unit),1)]),t("div",vn,[t("div",kn,a(s.typeSellOrBuy==0?e.$t("message.jiaoyi.mairu"):e.$t("message.home.maichu"))+a(e.$t("message.jiaoyi.fangshi")),1),t("div",An,a(s.type=="opponent"?e.$t("message.home.shijia"):e.$t("message.home.xianjia")),1)]),t("div",Tn,[t("div",Cn,a(e.$t("message.jiaoyi.shuliang")),1),t("div",Sn,[t("div",xn,a(`${s.typeSellOrBuy==0?((s.buyNum-s.buyFee)/s.buyPrice).toFixed(8):s.sellNum}  ${o.getSymbolUpper}`),1)])]),t("div",Dn,[t("div",wn,a(e.$t("message.jiaoyi.zongjia")),1),t("div",$n,[t("div",Fn,a(`${s.typeSellOrBuy==0?s.buyNum:s.sellNum*s.sellPrice} ${n.unit}`),1)])]),t("div",jn,[s.isCheck?b("",!0):(l(),r("div",{key:0,onClick:i[20]||(i[20]=u=>o.liveData(!0))},Bn)),s.isCheck?(l(),r("div",{key:1,onClick:i[21]||(i[21]=u=>o.liveData(!1))},Nn)):b("",!0),ie(" "+a(e.$t("message.jiaoyi.xiacibuzaitishi")),1)]),t("div",Vn,[t("button",{class:"but-one",onClick:i[22]||(i[22]=u=>s.dialogFormVisible=!1)},a(e.$t("message.jiaoyi.quxiao")),1),t("button",{class:"but-two",onClick:i[23]||(i[23]=(...u)=>o.buyAndsell&&o.buyAndsell(...u))},a(e.$t("message.jiaoyi.xianhuo"))+a(s.typeSellOrBuy==0?e.$t("message.jiaoyi.mairu"):e.$t("message.home.maichu")),1)])]),_:1},8,["title","modelValue"])])}const Mn=I(ta,[["render",Un],["__scopeId","data-v-f427cb1c"]]),On="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABVSURBVHgB7dO9CUAhEAPgvIdDOY9rWLuG87iVtqLgcfgDSr7uqhTJAa/7sJlLIdf3j8MYeH+gwaR2hdH64fLZIQPVxJVqVyhhhwxkYMes/jMJOyS1AtgGDuTZlp+FAAAAAElFTkSuQmCC",Rn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAdCAYAAAC5UQwxAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGfSURBVHgB7ZRNTsJAFMfflK/EVW9guQGeQDmCR2ABxLihVk0oizKJ0hUfroyw0BvoDeAI3MAeATEuKNDnGxYNMdPaIdUF4ZdAm743/b+ZvvcH2HdYXNDpP+v5wG9oTDtFwBIlzxBhygL20LypTiBNQbf/aCBmxoBgyOJUAG9Z9TYookUF4sQEDJhz131qgCLhDt3eaByKAer0V/ptMdIRa4xNIQHNq2pZXLPhYsQzUISq1VXXafDP7L+gdCzE/BWC5Tvd6nGLqWleWlatAgpId8jNyoy6KPZFwgD8ec4ERSKP1L6uvzF/XaQXT36EZgFg2//MlTmnwhRhSZJcl1ynkDnG1fLD/zrydhFKDVGM+CXNT7RDGR1ha4w51DlhY4km8rU15+aFl6qgsMFIh2Ho4Wp13rq9lFqe8hze94aDWDtDZrBs9lWMliwc7rDTHSL8IbZV22gdvDR1slv3HiTDSJjnyR4qj0WnO3KoFdvxWejZVr0oiygfqW1VOdU5gBixhR+Uo6I7fUMSNXENFbKW7eHemPpinj/hzWinOZA634AdoX/Aqf1BAAAAAElFTkSuQmCC",zn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGFSURBVHgB7ZZLTsMwEEBnbCvrHCFHKCcgnIA1Qgi6rFi0OQHtCaLCogIWKaoqlsAJKDfgCDlCl1BsDzYfqW2a2EAiNn2bSLaTN4knnkHw5OJ6EiOxYw0YA1D0NTxHxGcgupeKPSSdg9z1HPQREfFsSVLFWCk2qBJXCoeX0z4inMFPIMyVxr0yKdYq85BuFJ5fTU/MJYO/YKXB607Sbs+Xh9n6unR0G5k4fvdmyyBFQgbd9eGCkHMdeyaIEyLopVkWVgrNvnWhPkJ4Ea1SoY3GRNWCGuEC90uFQopaZR9ojEqFTUBI1XvYNFvhVugBbs5Se4Z+1r2adQAtW3kKQs7psa4ztCA1ZS4dTeIVoZGF0CBCsN0VoSIaQEMQ0EzKxQ38B84mymIbKZ91Uorc1bkJ8ICI3YGtbQ4E1z1zGVat8foPCUzv6YF8gyfXGi+hVsonocbJ6aEzMC9h0jmamU6gXzZv5nKlFl5Z7pU036SjLOIsSAkhNjeGBJCb7z3WwWK43g6W8Q4wvpA4QY71xAAAAABJRU5ErkJggg==",Yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG1SURBVHgB7dZPTsJAFAbw703RNTeQI3gEPYF16Z/EmpgQ46JyAvUEgGgIsBAWxSVHgBuIN6g3YA8zz6kKVmzpDIqJCV/SNG1m5tdm+mZKsEz5Pth2NtAH00hOeL90cTS06S9gmdwmlfUpD+KCk8MVLGMNxsPEeVjmR+AyWYNr8B+DtWbg3zW6J7BMVr9EsNoMKgxUFHH7thk8wDDVRrc97VdrBVfGIAFbsUvPBI0wIp69mWLeMQblGDf6NDJF5zH9liM1plJSW0obZLYrRAv1Z/TAVOCPp2fwACxevmPYTdtFUsEFaGqysEzQBjXBjEAT1BQzBhehNtgMLNcf9e4tfYLYTmqkFNp+8bAzj8ax23rgUY4SC15/ZKGU4qZ0fhDSG+aoJ2TNEZM3RcUGelH7OAYHWbU60uW2S7VWt88pRZqGxu8ZYu/9QQPSBc2wi65F1YFCnkns6WsvcXBGCIeuScLVP1zu9P4yu4XHLPoa66VhURyHr/2zw45UX1ecHFYUJcm9bwbPE1buPBjqo4DfDsGVgEuxwtNzNxSSuYq/CnNFlIrHFQl5GulYUfTYIStc+sXjzitRRe/cewp03gAAAABJRU5ErkJggg==",En="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADgSURBVHgB7Za9DcIwEIXfMwzACGED2IQaCqigQTJMABvw00HDj8gAbMIIGYEFouMokgIlqewrUD7J1smv+Fz4bBPK8fRYgc4DkiACBF4U7peL8Y3HczrTtQssEFk7Eh5WkN6JYAA7EgdjWqGdULR3dGQhsybh1c8nQx19Pcr7QFmTkNeyQv4MkzUJBaOyFDcNkhUb0atNUCllRspbw0GwTOmiDkoioTO0jf8vwgyGuFzkAEP4nXbn+8yh44n4jzERgcMp3ejXZQsrYZM0mrBOGlVYJY0u/JWaCAupgD1Y8wGJDmoliugkIAAAAABJRU5ErkJggg==";const Pn={name:"index",data(){return{symbol:[{name:"ETHUSDT",change_ratio:"-1.29",price:"1230.82"},{name:"BTCUSDT",change_ratio:"+1.13",price:"1230.82"},{name:"ETHUSDT",change_ratio:"-1.29",price:"1230.82"},{name:"BTCUSDT",change_ratio:"+1.13",price:"1230.82"},{name:"ETHUSDT",change_ratio:"-1.29",price:"1230.82"},{name:"BTCUSDT",change_ratio:"+1.13",price:"1230.82"}]}}},oe=e=>(H("data-v-943c4450"),e=e(),X(),e),Qn={class:"quotes-state"},Jn={class:"left"},Gn=Pe('<div class="signal" data-v-943c4450><img src="'+On+'" alt="" data-v-943c4450></div><div class="line" data-v-943c4450></div><div class="control" data-v-943c4450><img src="'+Rn+'" alt="" data-v-943c4450></div>',3),Wn={class:"name"},qn={class:"price"},Hn={class:"right"},Xn={class:"announcement"},Kn=oe(()=>t("img",{src:zn,alt:""},null,-1)),Zn={class:"download"},eo=oe(()=>t("img",{src:Yn,alt:""},null,-1)),to=oe(()=>t("img",{src:En,alt:""},null,-1));function so(e,i,n,d,s,o){return l(),r("div",Qn,[t("div",Jn,[Gn,(l(!0),r(f,null,v(s.symbol,(g,c)=>(l(),r("div",{key:c,class:"symbol-item"},[t("span",Wn,a(g.name),1),t("span",{class:y(["ratio",[g.change_ratio>0?"color-up":"color-down"]])},a(g.change_ratio),3),t("span",qn,a(g.price),1)]))),128))]),t("div",Hn,[t("div",Xn,[Kn,t("span",null,a(e.$t("message.home.announcement")),1)]),t("div",Zn,[eo,t("span",null,a(e.$t("message.home.download")),1)]),t("div",null,[to,t("span",null,a(e.$t("message.home.service")),1)])])])}const io=I(Pn,[["render",so],["__scopeId","data-v-943c4450"]]);const ao={name:"spot",errorCaptured(e,i,n){return console.log(`错误捕获: ${e.toString()}
info: ${n}`),!0},props:{pageType:{type:String,default:"etf"},paramsType:{type:String,default:"indices"},defaultSymbol:{type:String,default:"GlobalETF500"}},data(){return{times:["分时"],ConfigURL:W,host_url:"",isError:!1,searcIndexhData:[],searchData:"",deep:void 0,deepBuy:[],deepSell:[],mapClass:[this.$t("message.jiaoyi.jibenban")],mapIndex:0,listData:[],left_List_Data:[],currentTimer:void 0,lineTimer:void 0,pageTimer:void 0,pageData:{},Hotcurrency:[],tabArr:[this.$t("message.jiaoyi.quanbu"),this.$t("message.jiaoyi.remenbizhong"),this.$t("message.jiaoyi.zixuan")],Trade:void 0,openTime:void 0,symbolMarketInfo:{},rightData:[],filterTop:[],filterDown:[],bigIndex:void 0,KLInedata:void 0,klineIndex:"",kParamsTime:"",kTimeIndex:"",isShowLoading:!0,unit:"USD",clickData:void 0,kTimeArrCoin:[{data:"minHour",title:this.$t("message.jiaoyi.fenshi")},{data:"1min",title:this.$t("message.jiaoyi.1fenzhong")},{data:"5min",title:this.$t("message.jiaoyi.5fenzhong")},{data:"15min",title:this.$t("message.jiaoyi.15fenzhong")},{data:"30min",title:this.$t("message.jiaoyi.30fenzhong")},{data:"60min",title:this.$t("message.jiaoyi.1xiaoshi")},{data:"4hour",title:this.$t("message.jiaoyi.4xiaoshi")},{data:"1day",title:this.$t("message.jiaoyi.1ri")},{data:"1week",title:this.$t("message.jiaoyi.1zhou")},{data:"1mon",title:this.$t("message.jiaoyi.1yue")}],kTimeArrETF:[{data:"minHour",title:this.$t("message.jiaoyi.fenshi")},{data:"1day",title:this.$t("message.jiaoyi.1ri")},{data:"5day",title:this.$t("message.jiaoyi.5ri")},{data:"1week",title:this.$t("message.jiaoyi.1zhou")},{data:"1mon",title:this.$t("message.jiaoyi.1yue")},{data:"1quarter",title:this.$t("message.jiaoyi.season")},{data:"1year",title:this.$t("message.jiaoyi.year")}],kTimeArrMore:[{data:"1min",title:this.$t("message.jiaoyi.1fenzhong")},{data:"5min",title:this.$t("message.jiaoyi.5fenzhong")},{data:"15min",title:this.$t("message.jiaoyi.15fenzhong")},{data:"30min",title:this.$t("message.jiaoyi.30fenzhong")},{data:"60min",title:this.$t("message.jiaoyi.60fenzhong")},{data:"120min",title:this.$t("message.jiaoyi.120fenzhong")}],kTimeArr:[],allListData:[],collectList:[],sortIndex:0,isFullscreen:!1,loading:!0,chartIndex:1,isFilter:!1,filterValue:"",searchValue:"",timeOutTimer1:null,timeOutTimer2:null,currencySymbol:""}},components:{klineBox:We,deepChart:fe,klineDialog:ve,currencyTrade:Mn,BaseInfo:$e,ShareInfo:Fe,makeADeal:De,SpotPosition:xe,quotesState:io,deepChartFullScreen:ke,TopInfo:Ie,OrderBook:je},computed:{...J(me,["etfCurrency","usStocksCurrency","coinCurrency","forexCurrency","hkStocksCurrency","cnStocksCurrency","twStocksCurrency"]),...J(K,["existToken"])},watch:{searchData(e){e?this.isError=!0:this.isError=!1},etfCurrency(e,i){this.pageType==="etf"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},usStocksCurrency(e,i){this.pageType==="usStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},hkStocksCurrency(e,i){this.pageType==="hkStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},twStocksCurrency(e,i){this.pageType==="twStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},cnStocksCurrency(e,i){this.pageType==="cnStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},coinCurrency(e,i){this.pageType==="coin"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},forexCurrency(e,i){this.pageType==="forex"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},KLInedata(e){e.length>0&&(this.isShowLoading=!1)}},async created(){console.log("meigu"),this.host_url=window.location.hostname,await this.getAllCurrency(),this.initWebSocket()},mounted(){this.pageType==="forex"||this.pageType==="coin"?(this.kTimeArr=this.kTimeArrCoin,this.kTimeIndex="15min",this.kParamsTime="15min"):(this.kTimeArr=this.kTimeArrETF,this.kTimeIndex="1day",this.kParamsTime="1day"),this.pageType==="coin"&&(this.unit="USDT",this.mapClass=[this.$t("message.jiaoyi.jibenban"),this.$t("message.jiaoyi.shendutu")]),this.existToken&&this.getItemOptionalList(),clearInterval(this.lineTimer),this.getKlineData(),this.lineTimer=setInterval(()=>{this.getKlineData()},1e3)},unmounted(){clearInterval(this.currentTimer),clearInterval(this.lineTimer),this.Trade.close(),this.deep.close(),this.openTime.close(),this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null),this.timeOutTimer2&&(clearTimeout(this.timeOutTimer2),this.timeOutTimer2=null)},methods:{...Qe(me,["updateCurrency"]),async getAllCurrency(){let e=await D.getAllSymbolDetails({type:this.paramsType});e.code=="0"&&(await this.getSymbolData("",e.data),this.updateCurrency(e.data,this.pageType))},handleChartType(e){this.chartIndex=e},filterFun(e){this.isFilter=!0,this.filterValue=e},refreshApi(){this.$refs.refresh.refreshApi()},getSelectList(e){this.isCollectShow=e},checkCurrency(e){this.clickData=e.close,this.tabItemLeft(e)},collectFun(e){let i={symbol:e.symbol};D.addItemUserOptiona(i).then(n=>{n.code=="0"&&(w({message:this.$t("message.jiaoyi.shoucangchenggong"),type:"success"}),e.isCollect=!0,this.getItemOptionalList())})},deleteCollectFun(e){let i={symbol:e.symbol};D.deleteItemUserOptiona(i).then(n=>{n.code=="0"&&(w({message:this.$t("message.jiaoyi.quxiaoshoucangchenggong"),type:"success"}),e.isCollect=!1,this.getItemOptionalList())})},CurrencySort(e){this.sortIndex=e},fullScreen(){this.isFullscreen=!this.isFullscreen},searchFun(e){this.searchValue=e,this.left_List_Data=this.allListDataTwo.filter(i=>i.name.indexOf(this.searchValue.toUpperCase())!==-1)},getItemOptionalList(){D.getItemOptionalStatus().then(e=>{this.collectList=e.data})},sortLetterList(e){return function(n,d){const s=n[e],o=d[e];return o<s?1:o>s?-1:0}},sortLetterTwoList(e){return function(n,d){const s=n[e],o=d[e];return o>s?1:o<s?-1:0}},orderListAsc(e,i="asc"){return(n,d)=>i=="asc"?n[e]>d[e]?1:-1:n[e]>d[e]?-1:1},addTime(e){if(!this.times.includes(e))this.times.push(e);else{const i=this.times.findIndex(n=>n===e);this.times.splice(i,1)}},async getSymbolData(e,i){const n=i||this[`${this.pageType}Currency`];this.listData=n.map(d=>d==null?void 0:d.symbol).join(","),this.Hotcurrency=n.filter(d=>d.isTop=="1"),clearInterval(this.currentTimer),await this.getRealTimeData(this.listData,e),this.currentTimer=setInterval(()=>{this.getRealTimeData(this.listData,e)},1e3)},async getRealTimeData(e,i){const n=await D.getRealtime({symbol:e});if(n.code=="0"){var d=n.data;if(this.$route.params.id==="undefined"&&n.data.length){this.currencySymbol=n.data[0].symbol;let g=this.$route.fullPath.replace(/undefined/,this.currencySymbol);this.$router.push(g)}else this.currencySymbol=this.$route.params.id;console.log(1);const o=this.currencySymbol||this.defaultSymbol;var s=d.filter(g=>g.symbol==o);this.pageData=s[0],this.allListData=d,this.allListDataTwo=d;for(let g=0;g<this.allListData.length;g++)this.allListData[g].isCollect=!1;this.allListData.map(g=>{this.collectList.map(c=>{g.symbol==c.symbol&&(g.isCollect=!0)})});for(let g=0;g<this.allListDataTwo.length;g++)this.allListData[g].isCollect=!1;this.allListDataTwo.map(g=>{this.collectList.map(c=>{g.symbol==c.symbol&&(g.isCollect=!0)})}),this.isFilter&&(this.allListData=this.allListData.filter(g=>g.name.indexOf(this.filterValue.toUpperCase())!==-1)),this.sortIndex==1&&(this.allListData=this.allListData.sort(this.sortLetterList("symbol"))),this.sortIndex==2&&(this.allListData=this.allListData.sort(this.sortLetterTwoList("symbol"))),this.sortIndex==3&&(this.allListData=this.allListData.sort(this.orderListAsc("close"))),this.sortIndex==4&&(this.allListData=this.allListData.sort(this.orderListAsc("close","ask"))),this.sortIndex==5&&(this.allListData=this.allListData.sort(this.orderListAsc("change_ratio"))),this.sortIndex==6&&(this.allListData=this.allListData.sort(this.orderListAsc("change_ratio","ask"))),this.isCollectShow&&(this.allListData=this.allListData.filter(g=>g.isCollect))}},search(){this.searchData&&(this.listData.indexOf(this.searchData.toLowerCase())==-1?(clearInterval(this.currentTimer),this.left_List_Data.length=0):this.getSymbolData(this.searchData.toLowerCase()))},technoIndex(){this.$refs.kline_dialog.close()},tabMap(e){this.mapIndex=e,this.loading=!0},tabItemLeft(e){this.Trade.close(),this.deep.close(),this.openTime.close(),this.initWebSocket(e.symbol),this.$router.push(`/${this.pageType}/spot/${e.symbol}`)},changeKTime(e){this.loading=!0,e.data!="minHour"?(this.kParamsTime=e.data,this.klineIndex=""):this.klineIndex="minHour",this.kTimeIndex=e.data},getKlineData(){let e=this.$route.params.id||this.defaultSymbol;e!="undefined"&&qe.getKline({symbol:e,line:this.kParamsTime}).then(i=>{this.mapIndex==0&&(this.timeOutTimer1=setTimeout(()=>{this.loading=!1},500)),i.code=="0"&&(this.KLInedata=i.data.map(n=>({close:n.close,high:n.high,low:n.low,open:n.open,timestamp:n.ts,volume:n.volume})))})},getTradeMessage({data:e}){if(e){var i=JSON.parse(e);if(i.code=="0"){this.rightData=[...i.data.data,...this.rightData];var n=this.rightData.map(d=>d.amount);this.bigIndex=Math.max(...n)}}},getDeepMessage({data:e}){var n,d;this.timeOutTimer2=setTimeout(()=>{this.loading=!1},500);var i=JSON.parse(e);i.code=="0"&&(this.deepBuy=(n=i==null?void 0:i.data)==null?void 0:n.bids,this.deepSell=(d=i==null?void 0:i.data)==null?void 0:d.asks)},mathDatarandomFun(e){var i=Number(e),n=Math.round(Math.random()*10)/100,d=math.format(i+n,6);return d},initWebSocket(e){console.log(2);const i=this.currencySymbol||this.defaultSymbol,n=e||i;console.log(this.currencySymbol,"val",n),this.Trade=new te({path:`${W.WS_URL}/2/${n}`,onmessage:this.getTradeMessage}),this.deep=new te({path:`${W.WS_URL}/3/${n}`,onmessage:this.getDeepMessage}),this.Trade.init(),this.deep.init(),this.openTime=new te({path:`${W.WS_URL}/1/${n}`,onmessage:this.getOpenTmeMessage}),this.openTime.init()},getOpenTmeMessage({data:e}){var i=JSON.parse(e);i.code=="0"&&(this.symbolMarketInfo=i.data[0])},handleChangeClickData(e){this.clickData=e},deepDataSort(e){if(e&&e.length)return[...e].sort((n,d)=>d.price-n.price)}}},no={class:"spot-page"},oo={class:"home-container"},lo={class:"trade-box"},ro={class:"trade-box-wrapper"},co={style:{flex:"1"}},uo={class:"ticker-xl-box"},ho={class:"watch-drop-box"},mo={class:"ticker-title",style:{width:"259px"}},go=t("div",{class:"line"},null,-1),po={class:"trade-panel-box"},yo={class:"react-grid-layout layout-xl-box",style:{display:"flex"}},_o={style:{flex:"1"}},bo={key:0,class:"chart-wrapper"},fo={key:3,class:"kline-box comb-trade-kline-box",style:{"z-index":"99",width:"100%"}},vo={class:"kline-table"},ko={class:"chart-tr"},Ao={class:"chart-td",id:"parent_trade_k1"},To={class:"chart-box"},Co={class:"chart-kline",id:"trade_k1"},So={class:"kline-wrap"},xo={class:"k-toolbar dark"},Do={class:"k-toolbar-btn"},wo={class:"k-toolbar-left"},$o={key:0,class:"periods"},Fo=["onClick"],jo={key:0,class:"kTimeDivider"},Io={key:1},Bo=["onClick"],Lo={class:"k-toolbar-right"},No={key:0,class:"status-info"},Vo={class:"time"},Uo={class:"toggle"},Mo=["onClick"],Oo=t("img",{style:{width:"20px"},src:He,alt:""},null,-1),Ro=[Oo],zo={class:"kline-body-wrap",id:"okline-wrap"},Yo={key:3,class:"kline-loading",style:{width:"100%",height:"100%",position:"absolute","background-color":"#000000",top:"0%",left:"16px","z-index":"99"}},Eo=t("div",{class:"kline-loading-dot"},null,-1),Po=[Eo],Qo={style:{width:"280px","border-left":"1px solid #24272c"}};function Jo(e,i,n,d,s,o){var O,R,z,Y,E,k,x,M,le,re,ce,ue,he;const g=Ie,c=je,u=Fe,h=$e,p=q("kline-box"),m=fe,S=ke,A=q("currencyTrade"),B=De,F=xe,N=ve,G=Je;return l(),r("div",no,[t("div",oo,[t("div",lo,[t("div",ro,[t("div",co,[t("div",{class:y([[s.isFullscreen?"trade-header-box-full":""],"trade-header-box"])},[t("div",uo,[t("div",ho,[t("span",mo,a((O=s.pageData)==null?void 0:O.name),1)]),go,C(g,{"page-data":s.pageData,"page-type":n.pageType},null,8,["page-data","page-type"])])],2),t("div",po,[t("div",yo,[C(c,{style:{width:"280px"},"page-data":s.pageData,changeClickData:o.handleChangeClickData,filterDown:o.deepDataSort(s.deepSell),filterTop:o.deepDataSort(s.deepBuy),bigIndex:s.bigIndex,unit:s.unit},null,8,["page-data","changeClickData","filterDown","filterTop","bigIndex","unit"]),t("div",_o,[n.pageType==="etf"?(l(),r("div",bo,[t("div",{class:y(`chart-item ${s.chartIndex==1&&"chart-item-active"}`),onClick:i[0]||(i[0]=T=>o.handleChartType(1))},a(e.$t("message.user.tubiao")),3),t("div",{class:y(`chart-item ${s.chartIndex==2&&"chart-item-active"}`),onClick:i[1]||(i[1]=T=>o.handleChartType(2))},a(e.$t("message.user.chengfengu")),3),t("div",{class:y(`chart-item ${s.chartIndex==3&&"chart-item-active"}`),onClick:i[2]||(i[2]=T=>o.handleChartType(3))},a(e.$t("message.user.jiankuangF10")),3)])):b("",!0),s.chartIndex==2&&n.pageType==="etf"?(l(),L(u,{key:1,onCurrencySort:o.CurrencySort,style:{height:"500px"}},null,8,["onCurrencySort"])):b("",!0),s.chartIndex==3&&n.pageType==="etf"?(l(),L(h,{key:2})):b("",!0),s.chartIndex==1?(l(),r("div",fo,[t("div",vo,[t("div",ko,[t("div",Ao,[t("div",To,[t("div",Co,[t("div",So,[t("div",{class:y([s.isFullscreen?"k-toolbar-wrap-full":"k-toolbar-wrap "])},[t("div",xo,[t("div",Do,[t("div",wo,[s.mapIndex==0?(l(),r("div",$o,[t("ul",null,[(l(!0),r(f,null,v(s.kTimeArr,(T,V)=>(l(),r("li",{key:V,class:y(s.kTimeIndex==T.data?"selected":""),onClick:de=>o.changeKTime(T)},a(T.title),11,Fo))),128)),n.pageType=="etf"||n.pageType=="usStocks"?(l(),r("li",jo)):b("",!0),n.pageType=="etf"||n.pageType=="usStocks"?(l(),r("div",Io,[(l(!0),r(f,null,v(s.kTimeArrMore,(T,V)=>(l(),r("li",{key:V,class:y(s.kTimeIndex==T.data?"selected":""),onClick:de=>o.changeKTime(T)},a(T.title),11,Bo))),128))])):b("",!0)])])):b("",!0)]),t("div",Lo,[(z=(R=s.symbolMarketInfo)==null?void 0:R.market)!=null&&z.status?(l(),r("p",No,[t("span",null,a(((E=(Y=s.symbolMarketInfo)==null?void 0:Y.market)==null?void 0:E.status)&&e.$t(`message.jiaoyi.${(x=(k=s.symbolMarketInfo)==null?void 0:k.market)==null?void 0:x.status}`))+" ",1),t("span",Vo,a((le=(M=s.symbolMarketInfo)==null?void 0:M.market)==null?void 0:le.time_str),1),ie("  "),t("span",null,a(((ce=(re=s.symbolMarketInfo)==null?void 0:re.market)==null?void 0:ce.time_zone)&&e.$t(`message.jiaoyi.${(he=(ue=s.symbolMarketInfo)==null?void 0:ue.market)==null?void 0:he.time_zone}`)),1)])):b("",!0),t("div",Uo,[(l(!0),r(f,null,v(s.mapClass,(T,V)=>(l(),r("span",{style:{"margin-right":"5px"},class:y(s.mapIndex==V?"selected":""),onClick:de=>o.tabMap(V),key:V},a(T),11,Mo))),128)),t("div",{onClick:i[3]||(i[3]=(...T)=>o.fullScreen&&o.fullScreen(...T))},Ro)])])])])],2),t("div",zo,[j((l(),r("div",{id:"kline-Box","element-loading-spinner":"el-icon-loading","element-loading-background":"#171a1e",class:y(["kline-closest-wrapper",s.isFullscreen?"fullscreen-box":""])},[s.mapIndex==0?(l(),L(p,{key:0,isSpotGoods:!0,isFullscreen:s.isFullscreen,data:s.KLInedata,klineIndex:s.klineIndex,kTimeIndex:s.kTimeIndex},null,8,["isFullscreen","data","klineIndex","kTimeIndex"])):s.mapIndex==1&&!s.isFullscreen?(l(),L(m,{key:1,isSpotGoods:!0,deepBuy:s.deepBuy,deepSell:s.deepSell},null,8,["deepBuy","deepSell"])):s.mapIndex==1&&s.isFullscreen?(l(),L(S,{key:2,deepBuy:s.deepBuy,deepSell:s.deepSell},null,8,["deepBuy","deepSell"])):b("",!0),s.isShowLoading?(l(),r("div",Yo,Po)):b("",!0)],2)),[[G,s.loading]])])])])])])])])])):b("",!0),s.isFullscreen?b("",!0):(l(),r("div",{key:4,class:y(["place-order-container-common place-order-xl-box",s.chartIndex==1?"mt-200":""])},[C(A,{onRefresh:o.refreshApi,pageData:s.pageData,clickData:s.clickData,unit:s.unit,pageType:n.pageType,paramsType:n.paramsType},null,8,["onRefresh","pageData","clickData","unit","pageType","paramsType"])],2))])])])]),t("div",Qo,[C(B,{style:Q({display:s.isFullscreen?"none":"block"}),onCheckCurrency:o.checkCurrency,onFilterFun:o.filterFun,onCurrencySort:o.CurrencySort,onCollectFun:o.collectFun,onDeleteCollectFun:o.deleteCollectFun,listData:s.left_List_Data,AllListData:s.allListData,onSearchFun:o.searchFun,dealList:s.rightData,unit:s.unit,onGetSelectList:o.getSelectList},null,8,["style","onCheckCurrency","onFilterFun","onCurrencySort","onCollectFun","onDeleteCollectFun","listData","AllListData","onSearchFun","dealList","unit","onGetSelectList"])])])]),C(F,{unit:s.unit,paramsType:n.paramsType,pageType:n.pageType,ref:"refresh",style:Q({display:s.isFullscreen?"none":"block"})},null,8,["unit","paramsType","pageType","style"])]),C(N,{ref:"kline_dialog",style:Q({display:s.isFullscreen?"none":"block"})},null,8,["style"])])}const al=I(ao,[["render",Jo]]);export{al as S};
