import{_ as w,l as ie,q as Ge,b6 as I,o as l,c,a as t,t as o,F as C,j as T,b as S,aq as B,n as b,U as p,b3 as Xe,b4 as Ze,b2 as O,ab as N,aG as R,f as x,aX as q,d as m,w as _,aZ as ne,E as et,p as M,k as Q,u as tt,ao as Te,be as ae,an as j,r as le,h as $,L as D,z as V,aP as Y,bf as re,b7 as st,aJ as P,b5 as H,H as Se,I as Ie,ba as it,y as xe,D as W,G,b1 as U,b0 as ot,ag as je,ah as Le,A as E,C as X,ap as we,b8 as nt,bg as Ae,b9 as at}from"./index-747f5440.js";import{_ as lt,a as rt,b as ct,k as ut,c as Oe,d as Ne,e as Pe,A as dt,W as oe,f as ht}from"./Group2892-e34f964a.js";/* empty css                *//* empty css                   *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                    *//* empty css                        *//* empty css               */import{_ as J}from"./pagination-27540cbb.js";/* empty css                       *//* empty css                  */import{q as mt}from"./quotes-bb1032a7.js";const gt={class:"market-box"},pt={class:"order-book-title"},_t={class:"order-book-box"},yt={class:"order-book-wrap"},ft={class:"order-book-head"},vt={class:"position-wrap"},bt=["onClick"],kt=["src"],Dt=["src"],Ct={class:"order-book-body"},Tt={key:0,class:"title-wrap"},wt={class:"price"},At={class:"price"},St={class:"amount"},It={key:1,class:"title-wrap"},xt={class:"price"},jt={class:"amount"},Lt={class:"amount"},Ot={class:"book-body-wrap"},Nt={class:"virtual-list",style:{width:"100%",overflow:"auto","will-change":"transform",direction:"ltr"}},Pt={style:{height:"auto",width:"100%"}},Bt={key:0,class:"ticker-box",style:{height:"32px",width:"100%"}},Vt={class:"ticker-wrap"},zt={class:"ticker-price"},Et={style:{"padding-left":"20px"},class:"local-price"},Ut={class:"current-local-price"},Ft=["onClick"],Rt={"data-position":"price",class:"content price"},Mt={"data-position":"amount",class:"content amount"},Qt={"data-position":"amount",class:"content amount"},Yt={class:"ticker-box",style:{height:"32px",width:"100%"}},qt={class:"ticker-wrap"},Ht={class:"ticker-price"},Jt={style:{"padding-left":"20px"},class:"local-price"},Kt={class:"current-local-price"},Wt=["onClick"],Gt={"data-position":"price",class:"content price"},Xt={"data-position":"amount",class:"content amount"},Zt={"data-position":"amount",class:"content amount"},es={class:"new-order-price ticker-wrap"},ts={class:"title-wrap"},ss={class:"price recent-header"},is={class:"amount recent-header"},os={class:"amount recent-header"},ns={style:{height:"150px","overflow-y":"scroll"}},as=["onClick"],ls={"data-position":"amount",class:"content amount"},rs={"data-position":"amount",class:"content amount"},cs={__name:"orderBookNew",props:{pageData:{type:Object,default:{}},pageType:{type:String},changeClickData:{type:Function},sellList:{type:Array,default:[]},buyList:{type:Array,default:[]},bigIndex:{type:[String,Number],default:""},unit:{type:String},recentList:{type:Array,default:[]}},setup(e){const s=e,n=ie(!1),u=ie([{value:"both",check:!0},{value:"sell",check:!1},{value:"buy",check:!1}]);Ge(()=>{I.on("closeTrade",h=>{n.value=h})});const i=ie("both"),a=h=>{u.value.map(d=>{d.check=!1}),u.value[h].check=!0,i.value=u.value[h].value},g=h=>{var d=h/s.bigIndex/100;return d+Math.random()*100+"%"};return(h,d)=>(l(),c("div",gt,[t("div",pt,o(h.$t("message.home.dingdanbu")),1),t("div",_t,[t("div",yt,[t("div",ft,[t("div",vt,[(l(!0),c(C,null,T(S(u),(r,y)=>(l(),c("div",{class:"position-item",key:y,onClick:f=>a(y)},[r.check?(l(),c("img",{key:1,src:h.$getImages(`quotes/graphics-${y+1}-avtive.png`),alt:""},null,8,Dt)):(l(),c("img",{key:0,src:h.$getImages(`quotes/graphics-${y+1}.png`),alt:""},null,8,kt))],8,bt))),128))])]),t("div",Ct,[e.pageType==="usStocks"?(l(),c("div",Tt,[t("span",wt,o(h.$t("message.jiaoyi.jiaoyishijian")),1),t("span",At,o(h.$t("message.home.jiage"))+"("+o(e.unit)+")",1),t("span",St,o(h.$t("message.home.shuliang")),1)])):(l(),c("div",It,[t("span",xt,o(h.$t("message.home.jiage"))+"("+o(e.unit)+")",1),t("span",jt,o(h.$t("message.home.shuliang")),1),t("span",Lt,o(h.$t("message.jiaoyi.chengjiaoe")),1)])),t("div",Ot,[t("div",Nt,[t("ul",Pt,[S(i)!=="buy"?(l(),c("div",{key:0,style:B(S(i)==="sell"?"height: 470px":"height: 220px")},[S(u)[0].check?p("",!0):(l(),c("div",Bt,[t("div",Vt,[t("div",{class:b(["ticker-last-box",e.pageData.change_ratio>0?"color-up":"color-down"])},[t("span",zt,o(e.pageData.close),1),t("span",Et,[t("span",Ut,o(e.pageData.close),1)])],2)])])),(l(!0),c(C,null,T(S(i)==="sell"?e.sellList.slice(0,20):e.sellList.slice(0,10),(r,y)=>(l(),c("li",{class:"order-book-item asks",style:{},key:"a"+y,onClick:f=>e.changeClickData(r)},[t("span",Rt,[t("em",null,o(e.pageType==="usStocks"?r==null?void 0:r.current_time:r.price),1)]),t("span",Mt,o(e.pageType==="usStocks"?r.price:r.amount),1),t("span",Qt,o(e.pageType==="usStocks"?r.amount:(r.amount*r.price).toFixed(2)),1),t("div",{class:"process-bar",style:B({transform:S(n)?"":"translateX(-"+g(r.amount)+")"})},null,4)],8,Ft))),128))],4)):p("",!0),S(i)!=="sell"?(l(),c("div",{key:1,style:B(S(i)==="buy"?"height: 470px":"height: 250px")},[t("div",Yt,[t("div",qt,[t("div",{class:b(["ticker-last-box",e.pageData.change_ratio>0?"color-up":"color-down"])},[t("span",Ht,o(e.pageData.close),1),t("span",Jt,[t("span",Kt,o(e.pageData.close),1)])],2)])]),(l(!0),c(C,null,T(S(i)==="buy"?e.buyList.slice(0,20):e.buyList.slice(0,10),(r,y)=>(l(),c("li",{class:"order-book-item bids",key:"x"+y,onClick:f=>e.changeClickData(r)},[t("span",Gt,[t("em",null,o(e.pageType==="usStocks"?r==null?void 0:r.current_time:r.price),1)]),t("span",Xt,o(e.pageType==="usStocks"?r.price:r.amount),1),t("span",Zt,o(e.pageType==="usStocks"?r.amount:(r.amount*r.price).toFixed(2)),1),t("div",{class:"process-bar",style:B({transform:S(n)?"":"translateX(-"+g(r.amount)+")"})},null,4)],8,Wt))),128))],4)):p("",!0),t("div",es,o(h.$t("message.jiaoyi.zuixinchengjiao")),1),t("div",ts,[t("span",ss,o(h.$t("message.home.jiage"))+"("+o(e.unit)+")",1),t("span",is,o(h.$t("message.home.shuliang")),1),t("span",os,o(h.$t("message.home.kaicangshijian")),1)]),t("div",ns,[(l(!0),c(C,null,T(e.recentList,(r,y)=>(l(),c("li",{class:"order-book-item asks",key:"a"+y,onClick:f=>e.changeClickData(r)},[t("span",{"data-position":"price",class:b(["content",r.direction=="sell"?"active":"actives"])},[t("em",null,o(r.price),1)],2),t("span",ls,o(r.amount),1),t("span",rs,o(r.current_time),1)],8,as))),128))])])])])])])])]))}},Be=w(cs,[["__scopeId","data-v-0fda852d"]]);const us={},ds={class:"draw-line-box",style:{width:"auto"}},hs=t("ul",{class:"tool-panel hide-bottom"},[t("li",{class:"arrow arrow-top"},[t("i",{class:"iconfont icon-fold"})]),t("li",{key:"CURSOR",class:"",name:"光标"},[t("i",{class:"iconfont icon-kline-cursor"})]),t("li",{key:"CROSS_CURSOR",class:"selected",name:"十字光标"},[t("i",{class:"iconfont icon-kline_tool_a"})]),t("li",{key:"SEG",class:"",name:"线段"},[t("i",{class:"iconfont icon-kline_tool_b"})]),t("li",{key:"STRAIGHT",class:"",name:"直线"},[t("i",{class:"iconfont icon-kline_tool_c"})]),t("li",{key:"RAY",class:"",name:"射线"},[t("i",{class:"iconfont icon-kline_tool_d"})]),t("li",{key:"ARROW",class:"",name:"箭头"},[t("i",{class:"iconfont icon-kline_tool_e"})]),t("li",{key:"H_SEG",class:"",name:"水平线段"},[t("i",{class:"iconfont icon-kline_tool_f"})]),t("li",{key:"H_STRAIGHT",class:"",name:"水平直线"},[t("i",{class:"iconfont icon-kline_tool_g"})]),t("li",{key:"H_RAY",class:"",name:"水平射线"},[t("i",{class:"iconfont icon-kline_tool_h"})]),t("li",{key:"PRICE",class:"",name:"价格线"},[t("i",{class:"iconfont icon-kline_tool_j"})]),t("li",{key:"TRI_PARALLEL",class:"",name:"价格通道线"},[t("i",{class:"iconfont icon-kline_tool_k"})]),t("li",{key:"BI_PARALLEL",class:"",name:"平行直线"},[t("i",{class:"iconfont icon-kline_tool_l"})]),t("li",{key:"BI_PARALLEL_RAY",class:"",name:"平行射线"},[t("i",{class:"iconfont icon-kline_tool_m"})]),t("li",{key:"FIB_RETRACE",class:"",name:"斐波纳契回调"},[t("i",{class:"iconfont icon-kline_tool_n"})]),t("li",{key:"FIB_FANS",class:"tool-bottom-end",name:"斐波纳契扇形"},[t("i",{class:"iconfont icon-kline_tool_o"})]),t("li",{key:"SHOW_ALL",class:"tool-bottom hide",name:"显示所有绘图工具"},[t("i",{class:"iconfont icon-Mul_hide"})]),t("li",{key:"HIDE_ALL",class:"tool-bottom",name:"隐藏所有绘图工具"},[t("i",{class:"iconfont icon-Mul_show"})]),t("li",{key:"DELETE_ALL",class:"tool-bottom",name:"删除所有绘图工具"},[t("i",{class:"iconfont icon-Mul_delete"})]),t("li",{class:"arrow arrow-bottom"},[t("i",{class:"iconfont icon-Unfold"})])],-1),ms=[hs];function gs(e,s){return l(),c("div",ds,ms)}const Ve=w(us,[["render",gs]]);const ps={emits:["searchFun","CurrencySort","collectFun","deleteCollectFun","checkCurrency"],name:"coinSearchCollect",props:["listData","AllListData","pageType"],components:{CaretTop:Xe,CaretBottom:Ze},data(){return{showSearch:!1,searchValue:"",sortIndex:0}},computed:{...O(N,["existToken"])},methods:{selectChcek(e,s){e.checked=s},onInput(){this.$emit("searchFun",this.searchValue)},CurrencySort(e){this.sortIndex=e,this.$emit("CurrencySort",e)},collect(e){e.isCollect?this.deleteCollectFun(e):this.collectFun(e)},collectFun(e){this.$emit("collectFun",e)},deleteCollectFun(e){this.$emit("deleteCollectFun",e)},checkCurrency(e){this.$emit("checkCurrency",e)}}},_s=e=>(M("data-v-a65b433d"),e=e(),Q(),e),ys={class:"makeADeal-wrapper"},fs={class:"search-wrapper",style:{display:"flex","align-items":"center",position:"relative"}},vs={class:"search",style:{flex:"1"}},bs=_s(()=>t("div",{class:"search-img"},[t("img",{src:ct,alt:""})],-1)),ks=["placeholder"],$s={class:"title-wrapper"},Ds={class:"title-item"},Cs={class:"to-sort"},Ts={class:"title-item"},ws={class:"to-sort"},As={class:"title-item"},Ss={class:"to-sort"},Is={key:0,class:"title-item"},xs={class:"to-sort"},js={class:"list-wrapper"},Ls=["onClick"],Os={class:"name"},Ns=["onClick"],Ps={key:0,src:lt,width:"12",height:"12"},Bs={key:1,src:rt,width:"12",height:"12"},Vs={class:"symbol"},zs={class:"price text-right"},Es={key:0,class:"amount text-right"};function Us(e,s,n,u,i,a){const g=R("CaretTop"),h=et,d=R("CaretBottom");return l(),c("div",ys,[t("div",fs,[t("div",vs,[bs,x(t("input",{type:"text",placeholder:e.$t("message.home.chaxun"),onFocus:s[0]||(s[0]=r=>i.showSearch=!0),onBlur:s[1]||(s[1]=r=>i.showSearch=!1),onInput:s[2]||(s[2]=(...r)=>a.onInput&&a.onInput(...r)),"onUpdate:modelValue":s[3]||(s[3]=r=>i.searchValue=r)},null,40,ks),[[q,i.searchValue]])])]),t("div",$s,[t("div",Ds,[t("span",null,o(e.$t("message.home.jiaoyidui")),1),t("div",Cs,[m(h,null,{default:_(()=>[m(g,{class:b(["el-icon-caret-top",[i.sortIndex==1?"icon-active-color":""]]),onClick:s[4]||(s[4]=r=>a.CurrencySort(1))},null,8,["class"])]),_:1}),m(h,null,{default:_(()=>[m(d,{class:b(["el-icon-caret-bottom",[i.sortIndex==2?"icon-active-color":""]]),onClick:s[5]||(s[5]=r=>a.CurrencySort(2))},null,8,["class"])]),_:1})])]),t("div",Ts,[t("span",null,o(e.$t("message.home.jiage")),1),t("div",ws,[m(h,null,{default:_(()=>[m(g,{class:b(["el-icon-caret-top",[i.sortIndex==3?"icon-active-color":""]]),onClick:s[6]||(s[6]=r=>a.CurrencySort(3))},null,8,["class"])]),_:1}),m(h,null,{default:_(()=>[m(d,{class:b(["el-icon-caret-bottom",[i.sortIndex==4?"icon-active-color":""]]),onClick:s[7]||(s[7]=r=>a.CurrencySort(4))},null,8,["class"])]),_:1})])]),t("div",As,[t("span",null,o(e.$t("message.home.zhangdie")),1),t("div",Ss,[m(h,null,{default:_(()=>[m(g,{class:b(["el-icon-caret-top",[i.sortIndex==5?"icon-active-color":""]]),onClick:s[8]||(s[8]=r=>a.CurrencySort(5))},null,8,["class"])]),_:1}),m(h,null,{default:_(()=>[m(d,{class:b(["el-icon-caret-bottom",[i.sortIndex==6?"icon-active-color":""]]),onClick:s[9]||(s[9]=r=>a.CurrencySort(6))},null,8,["class"])]),_:1})])]),n.pageType!=="forex"?(l(),c("div",Is,[t("span",null,o(e.$t("message.home.chengjiaoliang")),1),t("div",xs,[m(h,null,{default:_(()=>[m(g,{class:b(["el-icon-caret-top",[i.sortIndex==7?"icon-active-color":""]]),onClick:s[10]||(s[10]=r=>a.CurrencySort(7))},null,8,["class"])]),_:1}),m(h,null,{default:_(()=>[m(d,{class:b(["el-icon-caret-bottom",[i.sortIndex==8?"icon-active-color":""]]),onClick:s[11]||(s[11]=r=>a.CurrencySort(8))},null,8,["class"])]),_:1})])])):p("",!0)]),t("div",js,[(l(!0),c(C,null,T(i.searchValue?n.listData:n.AllListData,(r,y)=>(l(),c("div",{class:"list-item",key:y,onClick:ne(f=>a.checkCurrency(r),["stop"])},[t("div",Os,[t("div",{onClick:ne(f=>a.collect(r),["stop"])},[r.isCollect?(l(),c("img",Bs)):(l(),c("img",Ps))],8,Ns),t("div",Vs,o(r.name),1)]),t("div",zs,o(r.close),1),t("div",{class:b(["ratio text-right",[r.change_ratio>0?"color-up":"color-down"]])},o(r.change_ratio>0?"+":"")+o(r.change_ratio)+"% ",3),n.pageType!=="forex"?(l(),c("div",Es,o(Number(r.amount||0).toFixed(4)),1)):p("",!0)],8,Ls))),128))])])}const ze=w(ps,[["render",Us],["__scopeId","data-v-a65b433d"]]);const Fs=e=>(M("data-v-20288d92"),e=e(),Q(),e),Rs={class:"ticker-xl-box"},Ms={class:"ticker-title"},Qs=Fs(()=>t("i",{class:"icon iconfont icon-Mul_Dropdown arrow-icon"},null,-1)),Ys={class:"ticker-top-box flex-wrap"},qs={class:"ticker-item"},Hs={class:"ticker-item"},Js={class:"label"},Ks={class:"value"},Ws={class:"ticker-item"},Gs={class:"label"},Xs={class:"value"},Zs={class:"ticker-item"},ei={class:"label"},ti={class:"ticker-item"},si={class:"label"},ii={class:"value"},oi={class:"ticker-item"},ni={class:"label"},ai={class:"value"},li={key:0,class:"ticker-item"},ri={class:"label"},ci={class:"value"},ui={key:1,class:"ticker-item"},di={class:"label"},hi={class:"value"},mi={__name:"singleCurrencyInfo",props:{pageData:{type:Object,default:{}},isFullscreen:{type:Boolean,default:!1},pageType:{type:String,default:"etf"}},emits:["showSerachCollect"],setup(e,{emit:s}){const n=e,{t:u}=tt(),i=()=>{s("showSerachCollect")},a={amount:{etf:"message.home.wangu",usStocks:"message.home.wangu",twStocks:"message.home.wangu",cnStocks:"message.home.wangu",hkStocks:"message.home.wangu",coin:"",forex:""},volumn:{etf:"message.home.wan",usStocks:"message.home.wan",cnStocks:"message.home.wan",hkStocks:"message.home.wan",twStocks:"message.home.wan",forex:"USD",coin:"USDT"}},g=Te(()=>{var r;const d=(r=n.pageData)==null?void 0:r.volume;if(d){const y=["usStocks","etf"].includes(n.pageType)?d/1e4:d;return Number(y).toFixed(4)}return"--"}),h=Te(()=>{var r;const d=((r=n.pageData)==null?void 0:r.amount)||0;if(d){const y=["usStocks","etf"].includes(n.pageType)?d/1e4:d;return Number(y).toFixed(4)}return"--"});return(d,r)=>{var y,f;return l(),c("div",{class:b(["trade-header-box",[e.isFullscreen?"trade-header-box-full":""]])},[t("div",Rs,[t("div",{class:"watch-drop-box",onClick:i},[t("span",Ms,o(e.pageData.name),1),Qs]),t("div",Ys,[t("div",qs,[t("span",{class:"label last",style:B({color:e.pageData.change_ratio>=0?"#0db27c":"#db4355"})},o(e.pageData.close),5),t("span",{class:"value",style:B({color:e.pageData.change_ratio>=0?"#0db27c":"#db4355"})},o(S(ae)(e.pageData.change_ratio)),5)]),t("div",Hs,[t("span",Js,o(d.$t("message.home.biaojijiage")),1),t("span",Ks,o(e.pageData.close),1)]),t("div",Ws,[t("span",Gs,o(d.$t("message.home.zhishujiage")),1),t("span",Xs,o(e.pageData.close),1)]),t("div",Zs,[t("span",ei,o(d.$t("message.hangqing.24hzhangfu")),1),t("span",{class:b(["value",["text-end",e.pageData.change_ratio>=0?"color-up":"color-down"]])},o(e.pageData.close)+"  "+o(e.pageData.change_ratio)+"%",3)]),t("div",ti,[t("span",si,"24h "+o(d.$t("message.home.zuidi")),1),t("span",ii,o(e.pageData.low),1)]),t("div",oi,[t("span",ni,"24h "+o(d.$t("message.home.zuigao")),1),t("span",ai,o(e.pageData.high),1)]),e.pageType!=="forex"?(l(),c("div",li,[t("span",ri,"24h"+o(S(u)("message.home.liang"))+"("+o(a.amount[e.pageType]?S(u)(`${a.amount[e.pageType]}`):(f=(y=e.pageData)==null?void 0:y.symbol_data)==null?void 0:f.toUpperCase())+")",1),t("span",ci,o(S(h)),1)])):p("",!0),e.pageType!=="forex"?(l(),c("div",ui,[t("span",di,"24h"+o(S(u)("message.home.e"))+"("+o(S(u)(`${a.volumn[e.pageType]}`))+")",1),t("span",hi,o(S(g)),1)])):p("",!0)])])],2)}}},Ee=w(mi,[["__scopeId","data-v-20288d92"]]);function gi(e){return j.fetch("/api/contractApplyOrder!openview.action",e)}function pi(e){return j.fetch("/api/contractApplyOrder!closeview.action",e)}function _i(){return j.fetch("/api/contractApplyOrder!cancelAll.action")}function yi(e){return j.fetch("/api/contractApplyOrder!cancel.action",e)}function fi(e){return j.fetch("/api/contractApplyOrder!open.action",e)}function vi(e){return j.fetch("/api/contractOrder!list.action",e)}function bi(e){return j.fetch("/api/contractApplyOrder!close.action",e)}function ki(e){return j.fetch("/api/contractOrder!close.action",e)}function $i(e){return j.fetch("/api/contractOrder!closeAll.action",e)}function Di(e){return j.fetch("/api/contractApplyOrder!closeview.action",e)}function Ci(e){return j.fetch("/api/wallet/getAll.action",e)}function Ti(e){return j.fetch("/api/contractApplyOrder!list.action",e)}function wi(e){return j.fetch("/api/contractOrder!stopLossAndProfit.action",e)}const L={_initClose:pi,_initOpen:gi,contractApplyOrderOpen:fi,orderPartClose:bi,contractApplyOrderOpenList:Ti,cancelAll:_i,cancel:yi,contractOrderList:vi,orderClose:ki,allOrderClose:$i,orderOpenview:Di,getAssets:Ci,stopLossAndProfit:wi};const Ai={name:"openDialog",props:{type:{type:String,default:""},sellOrBuy:{type:String,default:""},unit:{type:String,default:""},pageData:{type:Object,default:{}},newPrice:{type:[String,Number],default:""},info:{type:Object,default(e){return{price:"",lever_rate:"",amount:"",symbol:"",session_token:""}}}},data(){return{isShow:!1}},computed:{...O(N,["existToken"]),getTitle:function(){const e={"limit buy":"xianjiakaiduo","limit sell":"xianjiakaikong","opponent buy":"shijiakaiduo","opponent sell":"shijiakaikong"},s=`${this.type} ${this.sellOrBuy}`;return this.$t(`message.home.${e[s]}`)},showInfoData:function(){return[{label:this.$t("message.user.kaicangjiage"),value:`${this.newPrice} ${this.unit}`},{label:this.$t("message.home.gangganbeishu"),value:`${this.info.lever_rate}X`},{label:this.$t("message.home.fangxiang"),value:this.sellOrBuy==="buy"?this.$t("message.jiaoyi.zuoduomairu"):this.$t("message.jiaoyi.zuokongmairu"),class:this.sellOrBuy==="buy"?"buy-color":"sell-color"},{label:this.$t("message.home.zhangshu"),value:`${this.info.amount}${this.$t("message.home.zhang")} `}]}},methods:{open(){this.isShow=!0},close(){this.isShow=!1},handleSubmit(){const e={direction:this.sellOrBuy,price_type:this.type,...this.info};e.price=this.newPrice,L.contractApplyOrderOpen(e).then(s=>{I.emit("getSesstionToken","open"),s.code=="0"&&(this.$message({message:this.$t("message.home.gongxini")+`，${this.sellOrBuy=="buy"?this.$t("message.home.kaiduo"):this.$t("message.home.kaikong")}  ${this.$t("message.user.chenggong")}`,type:"success"}),this.close(),I.emit("cleanOrderData"))})}}},Si={class:"body-wrapper"},Ii={class:"coin-info"},xi={class:"name"},ji={class:"submit-info"},Li={class:"btns"};function Oi(e,s,n,u,i,a){const g=V,h=Y,d=le("click");return l(),c("div",null,[m(h,{title:a.getTitle,class:"dialog-box",modelValue:i.isShow,"onUpdate:modelValue":s[0]||(s[0]=r=>i.isShow=r),width:"450px","append-to-body":!0,"before-close":a.close},{default:_(()=>{var r,y;return[t("div",Si,[t("div",Ii,[t("span",xi,o((y=(r=n.pageData)==null?void 0:r.name)==null?void 0:y.toUpperCase())+" "+o(e.$t("message.home.yongxu")),1)]),t("div",ji,[(l(!0),c(C,null,T(a.showInfoData,(f,v)=>(l(),c("div",{class:"submit-info-item",key:v},[t("div",null,o(f.label),1),t("div",{class:b(f.class)},o(f.value),3)]))),128))]),t("div",Li,[m(g,{onClick:a.close,class:"btn-cancle"},{default:_(()=>[$(o(e.$t("message.home.quxiao")),1)]),_:1},8,["onClick"]),x((l(),D(g,{class:b(["btn-submit",n.sellOrBuy==="buy"?"buy-btn":"sell-btn"])},{default:_(()=>[$(o(a.getTitle),1)]),_:1},8,["class"])),[[d,a.handleSubmit]])])])]}),_:1},8,["title","modelValue","before-close"])])}const Ue=w(Ai,[["render",Oi],["__scopeId","data-v-8a706591"]]);const Ni={name:"closeDialog",props:{type:{type:String,default:""},sellOrBuy:{type:String,default:""},newPrice:{type:[String,Number],default:""},unit:{type:String,default:""},info:{type:Object,default(e){return{price:"",lever_rate:"",amount:"",symbol:"",session_token:"",volume:""}}},pageData:{type:Object,default:{}}},data(){return{isShow:!1}},computed:{...O(N,["existToken"]),getTitle:function(){const e={"limit buy":"xianjiapingduo","limit sell":"xianjiapingkong","opponent buy":"shijiapingduo","opponent sell":"shijiapingkong"},s=`${this.type} ${this.sellOrBuy}`;return this.$t(`message.home.${e[s]}`)},showLimitInfoData:function(){return[{label:this.$t("message.user.pingcangjiage"),value:`${this.info.price} ${this.unit}`},{label:this.$t("message.home.zhangshu"),value:`${this.info.amount} ${this.$t("message.home.zhang")}`},{label:this.$t("message.home.caozuo"),value:this.getTitle,class:this.sellOrBuy==="buy"?"buy-color":"sell-color"},{label:this.$t("message.home.chengjiaojunjia"),value:`${this.info.price} ${this.unit}`},{label:this.$t("message.home.zuixinjiage"),value:`${this.newPrice} ${this.unit}`},{label:this.$t("message.home.yujiyingkui"),value:`${bigDecimal.round(this.newPrice*this.info.amount,4)} ${this.unit}`,class:this.sellOrBuy==="buy"?"buy-color":"sell-color"}]},showInfoData:function(){return[{label:this.$t("message.home.chengjiaojunjia"),value:`${this.newPrice} ${this.unit}`},{label:this.$t("message.home.zuixinjiage"),value:`${this.newPrice} ${this.unit}`},{label:this.$t("message.home.zhangshu"),value:`${this.info.amount} ${this.$t("message.home.zhang")}`}]}},methods:{open(){this.isShow=!0},close(){this.isShow=!1},handleSubmit(){const{amount:e,symbol:s,price:n,session_token:u}=this.info,i={direction:this.sellOrBuy,price_type:this.type,amount:e,symbol:s,price:n,session_token:u};L.orderPartClose(i).then(a=>{I.emit("getSesstionToken","close"),a.code=="0"&&(this.$message({message:this.$t("message.home.gongxini")+`，${this.sellOrBuy=="buy"?this.$t("message.home.pingduo"):this.$t("message.home.pingkong")} ${this.$t("message.user.chenggong")}`,type:"success"}),this.close(),I.emit("cleanOrderData"))})}}},Pi={class:"body-wrapper"},Bi={class:"coin-info"},Vi={class:"name"},zi={key:0},Ei={class:"submit-info"},Ui={class:"btns"},Fi={key:1},Ri={class:"submit-info"},Mi={class:"btns"};function Qi(e,s,n,u,i,a){const g=V,h=Y,d=le("click");return l(),D(h,{title:a.getTitle,class:"dialog-box",modelValue:i.isShow,"onUpdate:modelValue":s[0]||(s[0]=r=>i.isShow=r),width:"450px","append-to-body":!0,"before-close":a.close},{default:_(()=>{var r,y;return[t("div",Pi,[t("div",Bi,[t("span",Vi,o((y=(r=n.pageData)==null?void 0:r.name)==null?void 0:y.toUpperCase())+" "+o(e.$t("message.home.yongxu")),1),t("span",{class:b(["direction",`${n.sellOrBuy}-direction`])},o(n.sellOrBuy=="buy"?e.$t("message.home.pingduo"):e.$t("message.home.pingkong")),3)]),n.type==="limit"?(l(),c("div",zi,[t("div",Ei,[(l(!0),c(C,null,T(a.showLimitInfoData,(f,v)=>(l(),c("div",{class:"submit-info-item",key:v},[t("div",null,o(f.label),1),t("div",{class:b(f.class)},o(f.value),3)]))),128))]),t("div",Ui,[m(g,{onClick:a.close,class:"btn-cancle"},{default:_(()=>[$(o(e.$t("message.home.quxiao")),1)]),_:1},8,["onClick"]),x((l(),D(g,{class:"btn-limit-submit"},{default:_(()=>[$(o(e.$t("message.home.queren")),1)]),_:1})),[[d,a.handleSubmit]])])])):(l(),c("div",Fi,[t("div",Ri,[(l(!0),c(C,null,T(a.showInfoData,(f,v)=>(l(),c("div",{class:"submit-info-item",key:v},[t("div",null,o(f.label),1),t("div",{class:b(f.class)},o(f.value),3)]))),128))]),t("div",Mi,[x((l(),D(g,{class:"btn-submit"},{default:_(()=>[$(o(e.$t("message.home.queren")),1)]),_:1})),[[d,a.handleSubmit]])])]))])]}),_:1},8,["title","modelValue","before-close"])}const Z=w(Ni,[["render",Qi],["__scopeId","data-v-3a03ba0e"]]);const Yi={emits:["getAmount"],name:"amountSlider",props:{maxAmount:{type:Number,default:1},symbol:{type:String,default:""},lever_rate:{type:[Number,String],default:1},typeNum:{type:Number,default:0},closeSellAmount:{type:Number,default:0},closeBuyAmount:{type:Number,default:0}},data(){return{amount:void 0,sliderAmount:void 0,marks:{0:"0",25:"25%",50:"50%",75:"70%",100:"100%"}}},computed:{...O(N,["existToken"])},watch:{amount(e){this.sliderAmount=e/this.maxAmount*100}},methods:{inputChange(e){this.$emit("getAmount",e)},cleanAmount(){this.amount=void 0},sliderAmountChange(e){let s;if(this.maxAmount){if(e==0)this.amount=void 0;else{const n=e/100;s=this.maxAmount*n,this.amount=parseInt(s)}this.$emit("getAmount",this.amount)}},emptyValue(){this.sliderAmount=void 0}}},qi={class:"place-order-input-box"},Hi={class:"amount-label"},Ji={key:0},Ki={key:0,class:"submit-info-item"},Wi={key:1,class:"submit-info-item"},Gi={key:2,class:"submit-info-item"},Xi={key:1,class:"submit-info-item"};function Zi(e,s,n,u,i,a){const g=re,h=st;return l(),c("div",null,[t("div",qi,[t("div",Hi,o(e.$t("message.home.zhangshu"))+" ",1),m(g,{class:"slider-input-amount",modelValue:i.amount,"onUpdate:modelValue":s[0]||(s[0]=d=>i.amount=d),"step-strictly":!0,min:0,max:n.maxAmount,onChange:a.inputChange},null,8,["modelValue","max","onChange"]),m(h,{class:"slider-block","tooltip-class":"tooltip-box",onChange:a.sliderAmountChange,modelValue:i.sliderAmount,"onUpdate:modelValue":s[1]||(s[1]=d=>i.sliderAmount=d),"format-tooltip":d=>`${d.toFixed(2)}%`,marks:i.marks},null,8,["onChange","modelValue","format-tooltip","marks"])]),e.existToken?(l(),c("div",Ji,[n.typeNum==0?(l(),c("div",Ki,[t("div",null,o(e.$t("message.home.kekaizhangshu")),1),t("div",null,o(`${n.maxAmount} ${e.$t("message.home.zhang")}`),1)])):p("",!0),n.typeNum==1?(l(),c("div",Wi,[t("div",null,o(e.$t("message.home.kepingduo")),1),t("div",null,o(`${n.closeBuyAmount} ${e.$t("message.home.zhang")}`),1)])):p("",!0),n.typeNum==1?(l(),c("div",Gi,[t("div",null,o(e.$t("message.home.kepingkong")),1),t("div",null,o(`${n.closeSellAmount} ${e.$t("message.home.zhang")}`),1)])):p("",!0)])):p("",!0),n.typeNum==2?(l(),c("div",Xi,[t("div",null,o(e.$t("message.home.kepingzhangshu")),1),t("div",null,o(`${n.maxAmount} ${e.$t("message.home.zhang")}`),1)])):p("",!0)])}const ee=w(Yi,[["render",Zi]]);const eo={name:"leverDialog",props:{current_lever:{type:[Number,String]},symbol:{type:String,default:"--"},lever_rate:{type:Array,default:function(){return["1"]}},sessionObj:{type:Object,default:function(){return{}}},unit:{type:String}},data(){return{isShow:!1,inputLever:this.current_lever*1,sliderLever:this.current_lever,maxLever:1,marks:e=>e%lever_rate.length===0}},watch:{current_lever(e){this.inputLever=e*1,this.sliderLever=e}},computed:{...O(N,["existToken"]),getMaxLever:function(){if(this.lever_rate.length){const s=Math.max(...this.lever_rate);return Math.max(s,1)}return 1}},methods:{getActive(e){return this.sliderLever==e?"active-step":""},getMaxAmountByLever(e){return e?parseInt(e/1):`-- ${unit}`},handleClose(){this.isShow=!1,this.inputLever=this.lever_rate[0]*1,this.sliderLever=this.lever_rate[0]},open(){this.isShow=!0},inputChange(e){this.inputLever=e*1,this.sliderLever=e},inputNumber(){},sliderChangeRate(e){this.inputLever=Number(e),this.sliderLever=Number(e)},handleSubmit(){this.$parent.changeLever(this.inputLever),this.handleClose()}}},to=e=>(M("data-v-838c0e19"),e=e(),Q(),e),so={class:"body-wrapper"},io={class:"coin-info"},oo={class:"name"},no={class:"margin-mode"},ao={class:"slider"},lo={class:"step"},ro=to(()=>t("div",{class:"step-line"},null,-1)),co=["onClick"],uo={class:"text"},ho={class:"submit-info"},mo={class:"submit-info-item"},go={class:"submit-info-item"},po={class:"btns"};function _o(e,s,n,u,i,a){const g=re,h=V,d=Y,r=le("click");return l(),c("div",null,[m(d,{title:e.$t("message.home.tiaozhengganggan"),class:"dialog-box",modelValue:i.isShow,"onUpdate:modelValue":s[1]||(s[1]=y=>i.isShow=y),"append-to-body":!0,width:"450px","before-close":a.handleClose},{default:_(()=>{var y;return[t("div",so,[t("div",io,[t("span",oo,o(n.symbol.toUpperCase())+o(e.$t("message.home.yongxu")),1),t("span",no,o(e.$t("message.home.quancang")),1)]),t("div",null,[t("div",null,o(e.$t("message.home.gangganbeishu")),1),m(g,{class:"input-lever",modelValue:i.inputLever,"onUpdate:modelValue":s[0]||(s[0]=f=>i.inputLever=f),min:0,max:a.getMaxLever,onChange:a.inputChange,onInput:a.inputNumber},null,8,["modelValue","max","onChange","onInput"]),t("div",ao,[(l(!0),c(C,null,T(n.lever_rate,(f,v)=>(l(),c("div",{class:b(["slider-item",a.getActive(f)]),style:B({width:`${100/n.lever_rate.length}%`}),key:v},[t("div",lo,[ro,t("div",{class:"step-round",onClick:k=>a.sliderChangeRate(f)},null,8,co)]),t("div",uo,o(f),1)],6))),128))])]),t("div",ho,[t("div",mo,[t("div",null,o(e.$t("message.home.kekaizhangshu"))+":",1),t("div",null,o(a.getMaxAmountByLever((y=n.sessionObj)==null?void 0:y.volume))+o(e.$t("message.home.zhang")),1)]),t("div",go,[t("div",null,o(e.$t("message.home.baozhengjin"))+":",1),t("div",null,"1000.00 "+o(n.unit),1)])]),t("div",po,[x((l(),D(h,{class:"btn-submit"},{default:_(()=>[$(o(e.$t("message.home.queren")),1)]),_:1})),[[r,a.handleSubmit]])])])]}),_:1},8,["title","modelValue","before-close"])])}const yo=w(eo,[["render",_o],["__scopeId","data-v-838c0e19"]]);const fo={name:"perpeCreateOrder",props:{pageData:{type:Object,default:function(){return{}}},unit:{type:String},clickData:{type:String}},data(){return{title:[this.$t("message.home.kaiduo1"),this.$t("message.home.kaikong1")],newPageData:{},isActive:0,openIndex:0,activeName:"opponent",directionName:"",price:void 0,sessionObj:{},lever_rate:["1.00X"],origin_lever:[],current_lever_rate:"",current_lever_rate_num:1,initClose:{},initOpen:{},inputAmount:"0.00",availableMoney:"0.00",closeBuyAmount:0,closeSellAmount:0,isNewPrice:0,timer:null,isChecked:!1,takeProfitPrice:"",stopProfitPrice:"",timeOutTimer1:null,timeOutTimer2:null}},components:{leverDialogVue:yo,closeDialog:Z,openDialog:Ue,amountSlider:ee},mounted(){this.existToken&&(this.initContractparams(),this.timer=setInterval(()=>{this.initContractparams()},2e3)),this.price=this.newPageData.close,I.on("cleanOrderData",()=>{var e,s;(e=this.$refs.sliderRef)==null||e.cleanAmount(),(s=this.$refs.sliderRef)==null||s.emptyValue(),this.sliderAmount=void 0,this.takeProfitPrice=void 0,this.stopProfitPrice=void 0}),I.on("getSesstionToken",e=>{this.timeOutTimer1=setTimeout(()=>{this.initContractparams({type:e})},2e3)}),I.on("moneyContract",e=>{this.availableMoney=e})},unmounted(){clearInterval(this.timer),this.timer=null,this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null),this.timeOutTimer2&&(clearTimeout(this.timeOutTimer2),this.timeOutTimer2=null)},computed:{...O(N,["existToken"]),getSubmitInfo:function(){let e=this;const s=this.$route.params.id;return function(n){var u,i;return{price:e.price,lever_rate:e.current_lever_rate_num,amount:e.inputAmount,symbol:s,session_token:n==="close"?(u=e.initClose)==null?void 0:u.session_token:(i=e.initOpen)==null?void 0:i.session_token,stop_price_profit:e.takeProfitPrice,stop_price_loss:e.stopProfitPrice}}},getContractAmount:function(){var n,u,i;const e=this.inputAmount;let s="0.00";return e!=null&&this.lever_rate!=null&&(((n=this.lever_rate)==null?void 0:n.length)>0?s=((u=this.sessionObj)==null?void 0:u.amount)*e*this.current_lever_rate_num:this.lever_rate.length==0&&(s=((i=this.sessionObj)==null?void 0:i.amount)*e*1)),bigDecimal.round(s,2)},getMargin:function(){const e=this.inputAmount;let s="0.00";return this.isActive===0&&e!=null&&this.lever_rate.length!=null&&this.sessionObj.amount&&(this.lever_rate.length>0?s=this.sessionObj.amount*e*this.current_lever_rate_num:this.lever_rate.length==0&&(s=this.sessionObj.amount*e*1)),bigDecimal.round(s,2)},getFee:function(){const e=this.inputAmount;let s="0.00";return e&&this.isActive==0&&(s=e*this.sessionObj.fee*this.current_lever_rate_num),bigDecimal.round(s,2)}},watch:{current_lever_rate(e){var s,n;(s=this.$refs.sliderRef)==null||s.emptyValue(),(n=this.$refs.sliderRef)==null||n.cleanAmount(),this.inputAmount="0.00"},clickData(e){this.activeName=="opponent"&&(this.price=e)},pageData(e){this.newPageData=e,this.isNewPrice==0&&(this.getNewPrice(),this.isNewPrice=this.isNewPrice+1)},"$route.params.id"(e){this.timeOutTimer2=setTimeout(()=>{this.handleTabClick()},1e3),this.initContractparams({needClearLever:!0})}},methods:{getAmount(e){this.inputAmount=e},handleTabClick(e){var s,n;this.price=this.newPageData.close,(s=this.$refs.sliderRef)==null||s.cleanAmount(),(n=this.$refs.sliderRef)==null||n.emptyValue(),this.inputAmount="0.00"},getNewPrice(){this.price=this.newPageData.close},changeTitle(e,s){var n,u;this.openIndex=s,(n=this.$refs.sliderRef)==null||n.cleanAmount(),(u=this.$refs.sliderRef)==null||u.emptyValue()},getVolumnByLever(){let e=this.initOpen.volume;return this.isActive==1&&(e=Math.max(this.closeSellAmount,this.closeBuyAmount)),e?e*1:0},gologin(e){e==1?this.$router.push("/register"):e==2&&this.$router.push("/login")},buyAndSell(e){var s,n;if(this.directionName=e,!this.existToken)this.$router.push("/login");else{if(!this.price){const u=this.$t("message.home.qingshurujine");P(u);return}if(!((s=this.$refs.sliderRef)!=null&&s.amount)||((n=this.$refs.sliderRef)==null?void 0:n.amount)==0){const u=this.$t("message.home.qingshurushuliang");P(u);return}this.isActive===0?this.$refs.openDialog.open():this.$refs.closeDialog.open()}},initContractparams({type:e,needClearLever:s=!1}={}){if(this.$route.params.id=="undefined")return;const n=this.$route.params.id;(e==="close"||!e)&&(L._initClose({symbol:n,direction:"sell"}).then(u=>{this.initClose=u.data,this.closeSellAmount=u.data.amount}),L._initClose({symbol:n,direction:"buy"}).then(u=>{this.closeBuyAmount=u.data.amount})),(e==="open"||!e)&&L._initOpen({symbol:this.$route.params.id}).then(u=>{var i;if(u.code=="0"){this.initOpen=u.data,this.sessionObj=u.data,I.emit("closeTrade",(i=u.data)==null?void 0:i.open);const{lever:a}=u.data,g=a&&a.length;g&&(this.lever_rate=a.map(h=>Number(h.lever_rate).toFixed(2)+"X"),this.origin_lever=a.map(h=>h.lever_rate)),(!this.current_lever_rate||s)&&(this.current_lever_rate=g?this.lever_rate[0]:"1.00X",this.current_lever_rate_num=g?this.origin_lever[0]:"1")}})},openLeverDialog(){this.$refs.leverDialog.open()},changeLever(e){const s=`${e}.00X`;this.current_lever_rate=s,this.current_lever_rate_num=e}}},vo=e=>(M("data-v-450b73fe"),e=e(),Q(),e),bo={class:"perpeCreateOrder"},ko={class:"titles"},$o=["onClick"],Do={class:"crossSettingBox"},Co={class:"crossSettingItem",style:{"margin-right":"20px"}},To=vo(()=>t("i",{class:"icon iconfont icon-Mul_triangle lever-icon"},null,-1)),wo={class:"place-order-form-box"},Ao={class:"common-form-box",id:"leftPoForm"},So={class:"avaliable-USD"},Io={class:"place-order-input-box"},xo={class:"input-label-box"},jo={class:"input-item-input"},Lo={class:"okui-input input-sm input-item-number-input input-has-value"},Oo={class:"priceInput okui-input-box no-padding-right"},No={class:"cols"},Po={class:"trading-session-box"},Bo={class:"trading-input-box"},Vo={class:"input-box"},zo=["placeholder"],Eo={class:"trading-session-box",style:{"margin-top":"12px"}},Uo={class:"trading-input-box"},Fo={class:"input-box"},Ro=["placeholder"],Mo={key:0,class:"btns"},Qo={key:0,class:"btn-wrapper"},Yo={class:"submit-btn-box"},qo={class:"btn-content"},Ho={key:1,class:"btn-wrapper"},Jo={class:"submit-btn-box"},Ko={class:"btn-content"},Wo={key:1,class:"submit-info"},Go={class:"submit-info-item"},Xo={class:"submit-info-item"},Zo={class:"submit-info-item"},en={key:2,class:"noLogin"};function tn(e,s,n,u,i,a){const g=Se,h=Ie,d=ee,r=it,y=R("lever-dialog-vue"),f=Z,v=Ue;return l(),c("div",null,[t("div",bo,[t("div",ko,[(l(!0),c(C,null,T(i.title,(k,F)=>(l(),c("span",{key:F,class:b({active:i.openIndex==F}),onClick:ue=>a.changeTitle(k,F)},o(k),11,$o))),128))]),t("div",Do,[t("div",Co,o(e.$t("message.home.quancang")),1),t("div",{class:"crossSettingItem",style:B({cursor:i.isActive==0&&i.origin_lever.length>1?"pointer":"not-allowed"})},[t("div",{onClick:s[0]||(s[0]=(...k)=>a.openLeverDialog&&a.openLeverDialog(...k))},[t("span",null,o(i.current_lever_rate),1),To])],4)]),e.existToken?(l(),D(h,{key:0,modelValue:i.activeName,"onUpdate:modelValue":s[1]||(s[1]=k=>i.activeName=k),onTabClick:a.handleTabClick},{default:_(()=>[m(g,{label:e.$t("message.home.shijia"),name:"opponent"},null,8,["label"]),m(g,{label:e.$t("message.home.xianjia"),name:"limit"},null,8,["label"])]),_:1},8,["modelValue","onTabClick"])):p("",!0),t("div",wo,[t("div",Ao,[t("div",So,[t("div",null,o(e.$t("message.jiaoyi.heyuezongzican")),1),t("div",null,o(i.availableMoney)+" "+o(n.unit),1)]),x(t("div",Io,[t("div",xo,o(e.$t("message.home.jiage")),1),t("div",jo,[t("div",Lo,[t("div",Oo,[x(t("input",{inputmode:"decimal",max:"Infinity",step:"0.1",placeholder:"",name:"price",autocomplete:"off",min:"0",type:"text",class:"okui-input-input","onUpdate:modelValue":s[2]||(s[2]=k=>i.price=k)},null,512),[[q,i.price,void 0,{number:!0,trim:!0}]]),t("span",No,[t("span",{onClick:s[3]||(s[3]=(...k)=>a.getNewPrice&&a.getNewPrice(...k))},o(e.$t("message.home.zuixinjia1")),1),$(" "+o(n.unit),1)])])])])],512),[[H,i.activeName==="limit"]]),m(d,{ref:"sliderRef",maxAmount:a.getVolumnByLever(),closeBuyAmount:i.closeBuyAmount,closeSellAmount:i.closeSellAmount,symbol:i.newPageData.symbol,lever_rate:i.current_lever_rate_num,typeNum:i.isActive,onGetAmount:a.getAmount},null,8,["maxAmount","closeBuyAmount","closeSellAmount","symbol","lever_rate","typeNum","onGetAmount"]),x(t("div",null,[m(r,{modelValue:i.isChecked,"onUpdate:modelValue":s[4]||(s[4]=k=>i.isChecked=k),type:"checkbox"},{default:_(()=>[$(o(e.$t("message.jiaoyi.zhiyingzhisun")),1)]),_:1},8,["modelValue"]),x(t("div",null,[t("div",Po,[t("div",Bo,[t("div",Vo,[x(t("input",{class:"trading-input","onUpdate:modelValue":s[5]||(s[5]=k=>i.takeProfitPrice=k),type:"text",placeholder:e.$t("message.jiaoyi.zhiying")},null,8,zo),[[q,i.takeProfitPrice,void 0,{number:!0}]])])])]),t("div",Eo,[t("div",Uo,[t("div",Fo,[x(t("input",{class:"trading-input","onUpdate:modelValue":s[6]||(s[6]=k=>i.stopProfitPrice=k),type:"text",placeholder:e.$t("message.jiaoyi.zhisun")},null,8,Ro),[[q,i.stopProfitPrice,void 0,{number:!0}]])])])])],512),[[H,i.isChecked]])],512),[[H,i.isActive===0]]),e.existToken?(l(),c("div",Mo,[i.openIndex==0?(l(),c("div",Qo,[t("div",Yo,[t("button",{side:"buy",type:"button",class:"okui-btn btn-sm btn-fill-green submit-btn long",onClick:s[7]||(s[7]=k=>a.buyAndSell("buy"))},[t("span",qo,o(e.existToken?i.isActive==0?e.$t("message.home.kaiduo1"):e.$t("message.home.pingduo"):e.$t("message.home.dengluhoujiaoyi")),1)])])])):p("",!0),i.openIndex==1?(l(),c("div",Ho,[t("div",Jo,[t("button",{side:"sell",type:"button",class:"okui-btn btn-sm btn-fill-red submit-btn short",onClick:s[8]||(s[8]=k=>a.buyAndSell("sell"))},[t("span",Ko,o(e.existToken?i.isActive==0?e.$t("message.home.kaikong1"):e.$t("message.home.pingkong"):e.$t("message.home.dengluhoujiaoyi")),1)])])])):p("",!0)])):p("",!0),e.existToken&&i.isActive==0?(l(),c("div",Wo,[t("div",Go,[t("div",null,o(e.$t("message.home.heyuejine"))+":",1),t("div",null,o(a.getMargin)+" "+o(n.unit),1)]),t("div",Xo,[t("div",null,o(e.$t("message.home.baozhengjin"))+":",1),t("div",null,o(a.getMargin)+" "+o(n.unit),1)]),t("div",Zo,[t("div",null,o(e.$t("message.home.shouxufei"))+":",1),t("div",null,o(a.getFee)+" "+o(n.unit),1)])])):p("",!0),e.existToken?p("",!0):(l(),c("div",en,[t("div",{onClick:s[9]||(s[9]=k=>a.gologin(1))},o(e.$t("message.home.lijizhuce")),1),t("div",{onClick:s[10]||(s[10]=k=>a.gologin(2))},o(e.$t("message.home.denglu")),1)]))])])]),i.isActive==0&&i.origin_lever.length>1?(l(),D(y,{key:0,current_lever:i.current_lever_rate_num,ref:"leverDialog",symbol:i.newPageData.symbol,lever_rate:i.origin_lever,sessionObj:i.sessionObj,unit:n.unit},null,8,["current_lever","symbol","lever_rate","sessionObj","unit"])):p("",!0),m(f,{ref:"closeDialog",type:i.activeName,sellOrBuy:i.directionName,info:a.getSubmitInfo("close"),newPrice:i.newPageData.close,unit:n.unit,pageData:n.pageData},null,8,["type","sellOrBuy","info","newPrice","unit","pageData"]),m(v,{ref:"openDialog",type:i.activeName,sellOrBuy:i.directionName,info:a.getSubmitInfo("open"),newPrice:i.newPageData.close,unit:n.unit,pageData:n.pageData},null,8,["type","sellOrBuy","info","newPrice","unit","pageData"])])}const sn=w(fo,[["render",tn],["__scopeId","data-v-450b73fe"]]);const on={name:"asset",props:{symbol:{type:String,default:""}},data(){return{timer:null,tables:[{prop:"volume",label:"message.jiaoyi.qianbaoyue",formatter:this.priceFormatter},{prop:"usable",label:"message.user.xian14",formatter:this.priceFormatter},{prop:"lock_amount",label:"message.jiaoyi.suocang",formatter:this.priceFormatter},{prop:"freeze_amount",label:"message.jiaoyi.dongjiejine",formatter:this.priceFormatter}],tableData:[]}},mounted(){this.getList(),this.timer=setInterval(()=>{this.getList()},2e3)},unmounted(){clearInterval(this.timer)},methods:{handleSymbolImg:xe,getList(){const e={symbol:""};L.getAssets(e).then(s=>{var u;const n=(u=s.data)==null?void 0:u.extends;this.tableData=n,this.tableData.map(i=>{i.freeze_amount=i.freeze_amount+i.frozenAmount}),this.tableData=n.filter(i=>i.volume>0)})},priceFormatter(e,s,n,u){return bigDecimal.round(n,8)}}},nn={class:"symbol_name"},an=["src"];function ln(e,s,n,u,i,a){const g=W,h=G;return l(),D(h,{class:"asset",data:i.tableData,"empty-text":e.$t("message.home.noData")},{default:_(()=>[m(g,{label:e.$t("message.home.bizhong")},{default:_(d=>[t("div",nn,[t("div",null,[t("img",{class:"symbol-img",src:a.handleSymbolImg(d.row.symbol)},null,8,an)]),t("div",null,o(d.row.symbol.toUpperCase()),1)])]),_:1},8,["label"]),(l(!0),c(C,null,T(i.tables,(d,r)=>(l(),D(g,{key:r,prop:d.prop,label:e.$t(d.label),formatter:d.formatter},null,8,["prop","label","formatter"]))),128))]),_:1},8,["data","empty-text"])}const Fe=w(on,[["render",ln],["__scopeId","data-v-59fecce0"]]);const rn={name:"dateSearch",data(){return{datedata:[{txt:this.$t("message.home.oneDay"),value:1},{txt:this.$t("message.home.aWeek"),value:7},{txt:this.$t("message.home.aMonth"),value:30},{txt:this.$t("message.home.threeMonths"),value:90}],isActive:-1,dateValue:"",endTime:"",startTime:""}},methods:{handleSearch(){this.$parent.getList(this.startTime,this.endTime,!0)},handleReset(){this.dateValue=[],this.startTime=void 0,this.endTime=void 0,this.isActive=-1,this.handleSearch()},dataPickerChange(e){e&&e.length>1?(this.startTime=U(e[0]).format("YYYY-MM-DD"),this.endTime=U(e[1]).format("YYYY-MM-DD")):(this.startTime="",this.endTime="")},changeDate(e,s){this.isActive=s;const n=U().format("YYYY-MM-DD");switch(this.endTime=n,e.value){case 1:this.startTime=n;break;case 7:this.startTime=U().subtract(7,"day").format("YYYY-MM-DD");break;case 30:this.startTime=U().subtract(1,"month").format("YYYY-MM-DD");break;case 90:this.startTime=U().subtract(3,"month").format("YYYY-MM-DD");break}this.handleSearch()}}},cn={class:"search-header"},un=["onClick"],dn={class:"datepicker"},hn={class:"time-text"};function mn(e,s,n,u,i,a){const g=ot;return l(),c("div",cn,[(l(!0),c(C,null,T(i.datedata,(h,d)=>(l(),c("div",{class:b(["changdate",{active:i.isActive==d}]),key:d,onClick:r=>a.changeDate(h,d)},o(h.txt),11,un))),128)),t("div",dn,[t("div",hn,o(e.$t("message.home.shijian")),1),m(g,{modelValue:i.dateValue,"onUpdate:modelValue":s[0]||(s[0]=h=>i.dateValue=h),type:"daterange","range-separator":e.$t("message.home.to"),"start-placeholder":e.$t("message.user.xuanzekaishishijian"),"end-placeholder":e.$t("message.user.xuanzejiehsushijian"),onChange:a.dataPickerChange},null,8,["modelValue","range-separator","start-placeholder","end-placeholder","onChange"])]),t("span",{class:"btn",onClick:s[1]||(s[1]=(...h)=>a.handleSearch&&a.handleSearch(...h))},o(e.$t("message.home.chaxun")),1),t("span",{class:"btn",onClick:s[2]||(s[2]=(...h)=>a.handleReset&&a.handleReset(...h))},o(e.$t("message.home.chongzhi")),1)])}const te=w(rn,[["render",mn],["__scopeId","data-v-88fec9de"]]),gn={name:"historyOrder",props:{symbol:{type:String},paramsType:{type:String,default:"indices"}},data(){return{pageNum:1,timer:null,startTime:"",endTime:"",noNext:!1,noPre:!1,tables:[{prop:"create_time",label:"message.home.shijian"},{prop:"name",label:"message.jiaoyi.heyue"},{prop:"direction",label:"message.home.fangxiang",formatter:this.directionFormatter},{prop:"trade_avg_price",label:"message.home.chengjiaojunjia"},{prop:"volume_open",label:"message.home.shuliang"},{prop:"fee",label:"message.home.shouxufei"},{prop:"stop_price_loss",label:"message.jiaoyi.price_loss"},{prop:"stop_price_profit",label:"message.jiaoyi.price_profit"},{prop:"profit",label:"message.home.yishixianyingkui",formatter:this.profitFormatter}],tableData:[]}},components:{dateSearch:te,Pagination:J},mounted(){this.getList(),this.timer=setInterval(()=>{this.getList()},2e3)},unmounted(){clearInterval(this.timer),this.timer=null},methods:{profitFormatter(e){return Number(e.profit).toFixed(4)},changePageNum(e){e=="next"?this.noNext||(this.pageNum=this.pageNum+1):!this.noPre&&this.pageNum>1&&(this.pageNum=this.pageNum-1),this.getList()},cellStyle({row:e,column:s,rowIndex:n,columnIndex:u}){if(u==2)return e.direction=="sell"?{color:"#E05561"}:{color:"#62C885"};if(u==6)return e.profit<0?{color:"#E05561"}:{color:"#62C885"}},directionFormatter(e){const{direction:s}=e;return s=="buy"?this.$t("message.home.pingduo"):this.$t("message.home.pingkong")},getList(e="",s="",n){(e||s||n)&&(this.startTime=e,this.endTime=s);const u={page_no:this.pageNum,type:"hisorders",symbol:this.symbol,endTime:this.endTime,startTime:this.startTime,symbolType:this.paramsType};L.contractOrderList(u).then(i=>{this.tableData=i.data;const a=i.data.length==0||i.data.length<10;this.noNext=a})}}};function pn(e,s,n,u,i,a){const g=te,h=W,d=G,r=J;return l(),c("div",null,[m(g),m(d,{class:"history-order",data:i.tableData,"cell-style":a.cellStyle,"empty-text":e.$t("message.home.noData")},{default:_(()=>[(l(!0),c(C,null,T(i.tables,(y,f)=>(l(),D(h,{key:f,prop:y.prop,label:e.$t(y.label),formatter:y.formatter},null,8,["prop","label","formatter"]))),128))]),_:1},8,["data","cell-style","empty-text"]),m(r,{class:"pagitation-wrapper",noPre:i.noPre,noNext:i.noNext,pageNum:i.pageNum,onChangePageNum:a.changePageNum},null,8,["noPre","noNext","pageNum","onChangePageNum"])])}const Re=w(gn,[["render",pn]]);const _n={emits:["getCurNum"],name:"currentApplyPosition",props:{symbol:{type:String}},data(){return{pageNum:1,timer:null,options:[{value:"all",label:"message.home.quanbu"},{value:"limit",label:"message.home.xianjia"},{value:"opponent",label:"message.home.shijia"}],tables:[{prop:"create_time_ts",label:"message.home.shijian",formatter:e=>U.unix(e.create_time_ts).format("YYYY-MM-DD HH:mm:ss")},{prop:"name",label:"message.jiaoyi.heyue"},{prop:"order_price_type",label:"message.home.type",formatter:this.priceFormatter},{prop:"direction",label:"message.home.fangxiang",formatter:this.directionFormatter},{prop:"price",label:"message.home.jiage"},{prop:"volume_open",label:"message.home.weituoshuliang"},{prop:"volume",label:"message.user.chengjiaoshuliang",formatter:this.volumnFormatter}],selectVal:"all",tableData:[],showData:[]}},mounted(){this.getList(),this.timer=setInterval(()=>{this.getList()},2e3)},unmounted(){clearInterval(this.timer),this.timer=null},methods:{cellStyle({row:e,column:s,rowIndex:n,columnIndex:u}){if(u==3)return e.direction=="sell"?{color:"#E05561"}:{color:"#62C885"}},getList(){const e={page_no:this.pageNum,type:"orders",symbol:this.symbol};L.contractApplyOrderOpenList(e).then(s=>{var n;this.tableData=s.data,this.filterData(),this.$emit("getCurNum",((n=s.data)==null?void 0:n.length)||"0")})},priceFormatter(e){const s=e.order_price_type==="limit"?"xianjiaweituo":"shijiaweituo";return this.$t(`message.home.${s}`)},directionFormatter(e){const s={"close buy":"pingduo","open buy":"kaiduo","close sell":"pingkong","open sell":"kaikong"},{direction:n,offset:u}=e,i=`${u} ${n}`,a=s[i];return this.$t(`message.home.${a}`)},volumnFormatter(e){const{volume:s,volume_open:n}=e;return n-s},filterData(){if(this.selectVal=="all"||!this.selectVal){this.showData=this.tableData;return}this.showData=this.tableData.filter(e=>e.order_price_type==this.selectVal)},selectChange(){this.filterData()},handleClose(e){const n={order_no:this.tableData[e].order_no},u=`${this.$t("message.home.chedan")} ${this.$t("message.user.chenggong")}`;L.cancel(n).then(i=>{P({message:u,type:"success"}),this.getList()})}}};function yn(e,s,n,u,i,a){const g=W,h=je,d=Le,r=V,y=G;return l(),D(y,{class:"current-apply-position",data:i.showData,"cell-style":a.cellStyle,"empty-text":e.$t("message.home.noData")},{default:_(()=>[(l(!0),c(C,null,T(i.tables,(f,v)=>(l(),D(g,{key:v,prop:f.prop,label:e.$t(f.label),formatter:f.formatter},null,8,["prop","label","formatter"]))),128)),m(g,{align:"right"},{header:_(()=>[m(d,{modelValue:i.selectVal,"onUpdate:modelValue":s[0]||(s[0]=f=>i.selectVal=f),"popper-class":"position-select",placeholder:"Select",size:"small",onChange:a.selectChange},{default:_(()=>[(l(!0),c(C,null,T(i.options,f=>(l(),D(h,{key:f.value,label:e.$t(f.label),value:f.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),default:_(f=>[m(r,{class:"btn",size:"small",onClick:v=>a.handleClose(f.$index)},{default:_(()=>[$(o(e.$t("message.home.chedan")),1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","cell-style","empty-text"])}const Me=w(_n,[["render",yn],["__scopeId","data-v-f52b91a6"]]);const fn={name:"closeDialog",data(){return{isShow:!1,rowData:{}}},components:{amountSlider:ee},computed:{...O(N,["existToken"]),showInfoData:function(){return[{label:this.$t("message.home.chengjiaojunjia"),value:`${this.rowData.close_avg_price} USD`},{label:this.$t("message.home.zuixinjiage"),value:`${this.rowData.mark_price} USD`}]}},methods:{open(e){this.rowData=e,this.isShow=!0},close(){this.isShow=!1,this.$refs.sliderRef.cleanAmount()},async getCloseSession(){var s;return(s=(await L._initClose({symbol:this.$route.params.id})).data)==null?void 0:s.session_token},async handleSubmit(){if(!this.$refs.sliderRef.amount){const n=this.$t("message.home.qingshuruzhangshu");P(n);return}const e=await this.getCloseSession(),s={direction:this.rowData.direction,price_type:"opponent",amount:this.$refs.sliderRef.amount,symbol:this.rowData.symbol,price:this.rowData.mark_price,session_token:e};L.orderPartClose(s).then(n=>{I.emit("getSesstionToken","close"),n.code=="0"&&(this.$message({message:this.$t("message.home.gongxini")+`，${this.rowData.direction=="buy"?this.$t("message.home.pingduo"):this.$t("message.home.pingkong")}`,type:"success"}),this.close(),this.$refs.sliderRef.cleanAmount())})}}},vn={class:"body-wrapper"},bn={class:"coin-info"},kn={class:"name"},$n={class:"submit-info"},Dn={class:"btns"};function Cn(e,s,n,u,i,a){const g=ee,h=V,d=Y;return l(),D(d,{title:e.$t("message.home.shijia")+e.$t("message.home.pingcang"),class:"settable setcash",modelValue:i.isShow,"onUpdate:modelValue":s[0]||(s[0]=r=>i.isShow=r),width:"450px","before-close":a.close},{default:_(()=>{var r,y,f,v;return[t("div",vn,[t("div",bn,[t("span",kn,o((y=(r=i.rowData)==null?void 0:r.symbol)==null?void 0:y.toUpperCase())+"USD "+o(e.$t("message.home.yongxu")),1),t("span",{class:b(["direction",`${(f=i.rowData)==null?void 0:f.direction}-direction`])},o(((v=i.rowData)==null?void 0:v.direction)==="buy"?e.$t("message.home.pingduo"):e.$t("message.home.pingkong")),3)]),t("div",$n,[(l(!0),c(C,null,T(a.showInfoData,(k,F)=>(l(),c("div",{class:"submit-info-item",key:F},[t("div",null,o(k.label),1),t("div",{class:b(k.class)},o(k.value),3)]))),128)),m(g,{ref:"sliderRef",maxAmount:Math.min(i.rowData.volume,1),symbol:i.rowData.symbol,lever_rate:i.rowData.lever_rate,typeNum:2},null,8,["maxAmount","symbol","lever_rate"])]),t("div",Dn,[m(h,{onClick:a.handleSubmit,class:"btn-submit"},{default:_(()=>[$(o(e.$t("message.home.queren")),1)]),_:1},8,["onClick"])])])]}),_:1},8,["title","modelValue","before-close"])}const Qe=w(fn,[["render",Cn],["__scopeId","data-v-ce1d8138"]]);const Tn={emits:["confirmOrder","closeDialog"],props:{dialogVisible:{type:Boolean,default:!1}},data(){return{orderData:{},profitAmount:void 0,lossAmount:void 0,isShow:!1}},computed:{},methods:{confirmOrder(){const e={order_no:this.orderData.row.order_no,stop_price_profit:this.profitAmount,stop_price_loss:this.lossAmount};L.stopLossAndProfit(e).then(s=>{this.$message({message:this.$t("message.user.tijiaochenggong"),type:"success"}),this.isShow=!1})},open(e){this.orderData=e,this.isShow=!0,this.profitAmount=this.orderData.row.stop_price_profit===0?void 0:this.orderData.row.stop_price_profit,this.lossAmount=this.orderData.row.stop_price_loss===0?void 0:this.orderData.row.stop_price_loss}}},wn={class:"dialog-box"},An={class:"delivery-text margin-top20"},Sn={class:"delivery-text-left"},In={class:"delivery-text margin-top20"},xn={class:"delivery-text-left"},jn={class:"dialog-footer"};function Ln(e,s,n,u,i,a){const g=re,h=V,d=Y;return l(),c("div",null,[m(d,{title:e.$t("message.jiaoyi.zhiyingzhisun"),modelValue:i.isShow,"onUpdate:modelValue":s[2]||(s[2]=r=>i.isShow=r),"close-on-click-modal":!1,width:"500px",center:"","append-to-body":!0,class:"confirmWrapper"},{footer:_(()=>[t("span",jn,[m(h,{type:"info",onClick:a.confirmOrder,class:"continueOrder"},{default:_(()=>[$(o(e.$t("message.home.queren")),1)]),_:1},8,["onClick"])])]),default:_(()=>[t("div",wn,[t("div",An,[t("div",Sn,o(e.$t("message.jiaoyi.price_profit")),1),m(g,{class:"slider-input-amount",modelValue:i.profitAmount,"onUpdate:modelValue":s[0]||(s[0]=r=>i.profitAmount=r),min:0},null,8,["modelValue"])]),t("div",In,[t("div",xn,o(e.$t("message.jiaoyi.price_loss")),1),m(g,{class:"slider-input-amount",modelValue:i.lossAmount,"onUpdate:modelValue":s[1]||(s[1]=r=>i.lossAmount=r)},null,8,["modelValue"])])])]),_:1},8,["title","modelValue"])])}const Ye=w(Tn,[["render",Ln],["__scopeId","data-v-0b8928c3"]]);const On={name:"closeAllDialog",data(){return{isShow:!1,obj:{}}},filters:{fliterDir(e){if(e=="buy")return $t("message.home.kaiduo");if(e=="sell")return $t("message.home.kaikong")},leverFilter(e){if(e){var s=Number(e).toFixed(2);return s+"X"}else return"1X"}},methods:{open(e){this.obj=e,console.log(e),this.isShow=!this.isShow},submit(){const e={order_no:this.obj.order_no};L.orderClose(e).then(s=>{I.emit("getSesstionToken","close"),s.code=="0"&&(this.$message({message:this.$t("message.home.pingcangchengong"),type:"success"}),this.isShow=!this.isShow)})}}},qe=e=>(M("data-v-01fd1ea2"),e=e(),Q(),e),Nn={key:0},Pn={class:"okui-transition-fade okui-dialog market-close-dialog okui-tip-dialog okui-dialog-float okui-transition-fade-entered",style:{"transition-duration":"100ms","z-index":"10053"}},Bn={class:"okui-dialog-window okui-dialog-window-float bottom-align"},Vn=qe(()=>t("div",{class:"okui-dialog-top-l okui-dialog-top-action-fixed okui-dialog-top-action-hidden"},[t("i",{class:"icon iconfont okui-dialog-top-action-hidden iconicn-left-arrow-glyph-sm-copy okui-dialog-b-btn"})],-1)),zn={class:"okui-dialog-top-r okui-dialog-top-action-fixed"},En={id:"scroll-box",class:"okui-dialog-scroll-box"},Un={class:"okui-dialog-container"},Fn=qe(()=>t("div",{class:"okui-dialog-tip-content"},[t("div",{class:"okui-dialog-tip-icon-bg info-icon-bg"},[t("i",{class:"icon iconfont tip-icon iconinfo info-icon"})])],-1)),Rn={class:"market-close-tip"},Mn={class:"market-close-title"},Qn={class:"close-all"},Yn={class:"market-close-subtitle"},qn={class:"okui-dialog-footer-box"},Hn={class:"okui-dialog-btn-box layout-full"},Jn={class:"btn-content"};function Kn(e,s,n,u,i,a){return i.isShow?(l(),c("div",Nn,[t("div",Pn,[t("div",Bn,[Vn,t("div",zn,[t("i",{class:"icon iconfont iconicn-close-outline-lg-copy okui-dialog-c-btn",onClick:s[0]||(s[0]=(...g)=>a.open&&a.open(...g))})]),t("div",En,[t("div",Un,[Fn,t("div",Rn,[t("span",Mn,[$(o(e.$t("message.home.querendui"))+" "+o(i.obj.name)+" "+o(e.$t("message.home.yongxu"))+" ",1),t("em",{class:b(["position-side",[i.obj.direction==="buy"?"green":"red"]])},o(i.obj.direction==="buy"?e.$t("message.home.kaiduo"):e.$t("message.home.kaikong"))+" ",3),$(" "+o(i.obj.lever_rate|e.leverFilter)+" "+o(e.$t("message.home.cangweijinxing"))+" ",1),t("em",Qn,o(e.$t("message.home.pingcang")),1),$("？ ")]),t("span",Yn,o(e.$t("message.home.ruguofashengpingcangguadan")),1)])])]),t("div",qn,[t("div",Hn,[t("button",{type:"button",class:"okui-btn btn-sm btn-fill-primary dialog-btn",onClick:s[1]||(s[1]=(...g)=>a.submit&&a.submit(...g))},[t("span",Jn,o(e.$t("message.home.queren")),1)])])])])])])):p("",!0)}const He=w(On,[["render",Kn],["__scopeId","data-v-01fd1ea2"]]);const Wn={emits:["getPositionNum","CurrencySort","getSelectList","checkCurrency","filterFun","deleteCollectFun"],name:"position",props:{symbol:{type:String},paramsType:{type:String,default:"indices"}},data(){return{pageNum:1,timer:null,tables:[{prop:"volume",label:"message.home.zhangshu"},{prop:"trade_avg_price",label:"message.user.kaicangjiage"},{prop:"direction",label:"message.home.fangxiang",formatter:this.directionFormatter},{prop:"deposit",label:"message.home.baozhengjin"},{prop:"stop_price_loss",label:"message.jiaoyi.price_loss"},{prop:"stop_price_profit",label:"message.jiaoyi.price_profit"},{prop:"profit",label:"message.user.weishixianyingkui(shouyilv)",formatter:this.formatterData}],tableData:[],confirmVisible:!1}},mounted(){this.getList(),this.timer=setInterval(()=>{this.getList()},2e3)},components:{profitLossDialog:Ye,CloseAllDialog:He,CloseDialog:Qe},unmounted(){clearInterval(this.timer),this.timer=null},methods:{onProfitDialog(e){this.$refs.closeProfitDialog.open(e)},ratioFormatter(e){const{change_ratio:s}=e;return`${s}%`},directionFormatter(e,s,n){return n==="buy"?this.$t("message.home.kaiduo"):this.$t("message.home.kaikong")},formatterData(e){const s=this.ratioFormatter(e);return`${Number(e.profit).toFixed(4)}(${s})`},cellStyle({row:e,column:s,rowIndex:n,columnIndex:u}){if(u==6)return Number(e.profit)>0?{color:"#62C885"}:{color:"#E05561"};if(u==3)return e.direction==="buy"?{color:"#62C885"}:{color:"#E05561"}},getList(){const e={page_no:this.pageNum,type:"orders",symbol:this.symbol,symbolType:this.paramsType};L.contractOrderList(e).then(s=>{this.tableData=s.data,this.$emit("getPositionNum",s.data.length);const n=s.data.reduce((g,h)=>Number(g)+Number(h.profit),0),u=bigDecimal.round(n,2),i=s.data.reduce((g,h)=>Number(g)+Number(h.change_ratio),0),a=`${bigDecimal.round(i,2)}%`;I.emit("ProfitLossRefresh",u),I.emit("MarginRefresh",a)})},handleClose(e){const s=this.tableData[e];this.$refs.closeDialog.open(s)},handleAllClose(e){this.$refs.closeAllDialog.open(e.row)}}},Gn={class:"first-column"},Xn={class:"name"},Zn={class:"lever_rate"};function ea(e,s,n,u,i,a){const g=W,h=V,d=G,r=He,y=Z,f=Ye;return l(),c("div",null,[m(d,{data:i.tableData,class:"position","cell-style":a.cellStyle,"empty-text":e.$t("message.home.noData")},{default:_(()=>[m(g,{label:e.$t("message.jiaoyi.heyue"),width:"280"},{default:_(v=>[t("div",Gn,[t("span",{class:b(["direction",`direction-${v.row.direction}`])},null,2),t("span",Xn,o(v.row.name)+" "+o(e.$t("message.home.yongxu")),1),t("span",Zn,o(v.row.lever_rate?`${v.row.lever_rate}x`:"1x"),1)])]),_:1},8,["label"]),(l(!0),c(C,null,T(i.tables,(v,k)=>(l(),D(g,{key:k,prop:v.prop,label:e.$t(v.label),formatter:v.formatter},null,8,["prop","label","formatter"]))),128)),m(g,{label:e.$t("message.home.caozuo"),"min-width":"100"},{default:_(v=>[m(h,{class:"btn",size:"small",onClick:k=>a.handleAllClose(v)},{default:_(()=>[$(o(e.$t("message.home.pingcang")),1)]),_:2},1032,["onClick"]),t("div",null,[m(h,{class:"btn margin-top20",size:"small",onClick:k=>a.onProfitDialog(v)},{default:_(()=>[$(o(e.$t("message.jiaoyi.zhiyingzhisun")),1)]),_:2},1032,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data","cell-style","empty-text"]),m(r,{ref:"closeAllDialog"},null,512),m(y,{ref:"closeDialog"},null,512),m(f,{ref:"closeProfitDialog"},null,512)])}const ta=w(Wn,[["render",ea],["__scopeId","data-v-2ecaed15"]]),sa={name:"historyApplyPosition",props:{symbol:{type:String},paramsType:{type:String,default:"indices"}},data(){return{pageNum:1,noNext:!1,noPre:!1,timer:null,startTime:"",endTime:"",tables:[{prop:"create_time",label:"message.home.shijian"},{prop:"name",label:"message.jiaoyi.heyue"},{prop:"direction",label:"message.home.fangxiang",formatter:this.directionFormatter},{prop:"trade_avg_price",label:"message.home.chengjiaojunjia"},{prop:"volume_open",label:"message.home.weituoshuliang"},{prop:"volume",label:"message.user.chengjiaoshuliang",formatter:this.volumnFormatter}],tableData:[],showData:[],options:[{value:"all",label:"message.home.quanbu"},{value:"submitted",label:"message.home.yitijiao"},{value:"created",label:"message.home.weituowancheng"},{value:"canceled",label:"message.home.yichexiao"}],selectVal:"all"}},components:{dateSearch:te,Pagination:J},mounted(){this.getList(),this.timer=setInterval(()=>{this.getList()},2e3)},unmounted(){clearInterval(this.timer),this.timer=null},methods:{changePageNum(e){e=="next"?this.noNext||(this.pageNum=this.pageNum+1):!this.noPre&&this.pageNum>1&&(this.pageNum=this.pageNum-1),this.getList()},cellStyle({row:e,column:s,rowIndex:n,columnIndex:u}){if(u==2)return e.direction=="sell"?{color:"#E05561"}:{color:"#62C885"}},getList(e="",s="",n){(e||s||n)&&(this.startTime=e,this.endTime=s);const u={page_no:this.pageNum,type:"hisorders",symbol:this.symbol,endTime:this.endTime,startTime:this.startTime,symbolType:this.paramsType};L.contractOrderList(u).then(i=>{this.tableData=i.data;const a=i.data.length==0||i.data.length<10;this.noNext=a,this.filterData()})},stateFormatter(e){const s={submitted:"message.home.yitijiao",canceled:"message.home.yichexiao",created:"message.home.weituowancheng"};return this.$t(`${s[e]}`)},directionFormatter(e){const{direction:s}=e;return s=="buy"?this.$t("message.home.pingduo"):this.$t("message.home.pingkong")},volumnFormatter(e){const{volume:s,volume_open:n}=e;return n-s},filterData(){if(this.selectVal=="all"||!this.selectVal){this.showData=this.tableData;return}this.showData=this.tableData.filter(e=>e.state==this.selectVal)},selectChange(){this.filterData()}}};function ia(e,s,n,u,i,a){const g=te,h=W,d=je,r=Le,y=G,f=J;return l(),c("div",null,[m(g),m(y,{class:"history-apply-position",data:i.showData,"cell-style":a.cellStyle,"empty-text":e.$t("message.home.noData")},{default:_(()=>[(l(!0),c(C,null,T(i.tables,(v,k)=>(l(),D(h,{key:k,prop:v.prop,label:e.$t(v.label),formatter:v.formatter},null,8,["prop","label","formatter"]))),128)),m(h,{align:"right"},{header:_(()=>[m(r,{modelValue:i.selectVal,"onUpdate:modelValue":s[0]||(s[0]=v=>i.selectVal=v),"popper-class":"position-select",placeholder:"Select",size:"small",onChange:a.selectChange},{default:_(()=>[(l(!0),c(C,null,T(i.options,v=>(l(),D(d,{key:v.value,label:e.$t(v.label),value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),default:_(v=>[t("div",null,o(a.stateFormatter(v.row.state)),1)]),_:1})]),_:1},8,["data","cell-style","empty-text"]),m(f,{class:"pagitation-wrapper",noPre:i.noPre,noNext:i.noNext,pageNum:i.pageNum,onChangePageNum:a.changePageNum},null,8,["noPre","noNext","pageNum","onChangePageNum"])])}const oa=w(sa,[["render",ia]]);const na={name:"posotion",props:{keys:{type:String},symbol:{type:String},paramsType:{type:String,default:"indices"}},computed:{...O(N,["existToken"])},components:{Position:ta,CurrentApplyPosition:Me,HistoryApplyPosition:oa,HistoryOrder:Re,Asset:Fe,CloseDialog:Qe},data(){return{showher:!1,checked7:!1,checked8:!1,checked9:!1,activeName:"first",positionNum:"0",curNum:"0"}},filters:{fliterDir(e){if(e=="buy")return this.$t("message.home.kaiduo");if(e=="sell")return this.$t("message.home.kaiduo")},leverFilter(e){if(e){var s=Number(e).toFixed(2);return s+"X"}else return"1.00X"},directionFilter(e){if(e=="buy")return this.$t("message.home.kaiduo");if(e=="sell")return this.$t("message.home.kaikong")},stateFilter(e){switch(e){case"submitted":return this.$t("message.home.yichengjiao");case"canceled":return this.$t("message.home.yichexiao");case"created":return this.$t("message.home.weituowancheng")}}},mounted(){this.host_url=window.location.hostname,this.existToken&&this.symbol&&this.getCurList()},watch:{checkedIndexType(e){e!="currentOrders"?clearInterval(this.timerCurre):this.initcurrentGetListTimer()},symbol(e){this.existToken&&this.symbol&&this.getCurList()}},methods:{getCurList(){const e={page_no:1,type:"orders",symbol:this.symbol};L.contractApplyOrderOpenList(e).then(s=>{this.curNum=s.data.length||"0"})},getCurNum(e){this.curNum=e},getPositionNum(e){this.positionNum=e},gotoPage(e){this.$router.push(e)}},computed:{...O(N,["existToken"])},unmounted(){clearInterval(this.timerCurre)}},aa={class:"position-block"},la={key:1,class:"logins"};function ra(e,s,n,u,i,a){const g=R("position",!0),h=Se,d=Me,r=Re,y=Fe,f=Ie,v=Z;return l(),c("div",null,[t("div",aa,[e.existToken?(l(),D(f,{key:0,modelValue:i.activeName,"onUpdate:modelValue":s[0]||(s[0]=k=>i.activeName=k)},{default:_(()=>[m(h,{label:e.$t("message.jiaoyi.cangwei")+`( ${i.positionNum}  )`,name:"first"},{default:_(()=>[i.activeName==="first"?(l(),D(g,{key:0,ref:"positionRef",symbol:n.symbol,onGetPositionNum:a.getPositionNum,paramsType:n.paramsType},null,8,["symbol","onGetPositionNum","paramsType"])):p("",!0)]),_:1},8,["label"]),m(h,{label:e.$t("message.home.dangqianweituo")+`(${i.curNum})`,name:"second"},{default:_(()=>[i.activeName==="second"?(l(),D(d,{key:0,symbol:n.symbol,onGetCurNum:a.getCurNum,paramsType:n.paramsType},null,8,["symbol","onGetCurNum","paramsType"])):p("",!0)]),_:1},8,["label"]),m(h,{label:e.$t("message.home.lishichengjiao"),name:"fourth"},{default:_(()=>[i.activeName=="fourth"?(l(),D(r,{key:0,symbol:n.symbol,paramsType:n.paramsType},null,8,["symbol","paramsType"])):p("",!0)]),_:1},8,["label"]),m(h,{label:e.$t("message.jiaoyi.zichan"),name:"fifth"},{default:_(()=>[i.activeName=="fifth"?(l(),D(y,{key:0,symbol:n.symbol},null,8,["symbol"])):p("",!0)]),_:1},8,["label"])]),_:1},8,["modelValue"])):p("",!0),e.existToken?p("",!0):(l(),c("div",la,[t("span",{onClick:s[1]||(s[1]=k=>a.gotoPage("/login"))},o(e.$t("message.home.denglu")),1),$(" "+o(e.$t("message.home.or")),1),t("span",{onClick:s[2]||(s[2]=k=>a.gotoPage("/register"))},o(e.$t("message.home.lijizhuce")),1),$(" "+o(e.$t("message.home.trading")),1)]))]),m(v)])}const ca=w(na,[["render",ra]]);const ua={emits:["confirmOrder","closeDialog"],props:{dialogVisible:{type:Boolean,default:!1},buyAndSellData:{type:Object,default:function(){return{}}},pageData:{type:Object,default:function(){return{}}}},data(){return{detailData:{}}},watch:{buyAndSellData(e){this.detailData=e}},computed:{...O(N,["existToken"]),visible:{get(){return this.dialogVisible},set(e){this.$emit("closeDialog")}}},methods:{confirmOrder(){this.visible=!1,this.$emit("confirmOrder")}}},da={class:"dialog-box"},ha={class:"delivery-text margin-top20"},ma={class:"delivery-text-left"},ga={class:"delivery-text"},pa={class:"delivery-text-left"},_a={key:0,class:"green"},ya={key:1,class:"red"},fa={class:"delivery-text"},va={class:"delivery-text-left"},ba={class:"delivery-text"},ka={class:"delivery-text-left"},$a={class:"delivery-text"},Da={class:"delivery-text-left"},Ca={class:"dialog-footer"};function Ta(e,s,n,u,i,a){const g=V,h=Y;return l(),c("div",null,[i.detailData?(l(),D(h,{key:0,title:e.$t("message.jiaoyi.dingdanqueren"),modelValue:a.visible,"onUpdate:modelValue":s[0]||(s[0]=d=>a.visible=d),"close-on-click-modal":!1,width:"500px",center:"","append-to-body":!0,class:"confirmWrapper"},{footer:_(()=>[t("span",Ca,[m(g,{type:"info",onClick:a.confirmOrder,class:"continueOrder"},{default:_(()=>[$(o(e.$t("message.home.queren")),1)]),_:1},8,["onClick"])])]),default:_(()=>{var d,r;return[t("div",da,[t("div",ha,[t("div",ma,o(e.$t("message.jiaoyi.jiaoyibizhong")),1),t("div",null,o((r=(d=n.pageData)==null?void 0:d.name)==null?void 0:r.toUpperCase()),1)]),t("div",ga,[t("div",pa,o(e.$t("message.home.fangxiang")),1),i.detailData.direction=="buy"?(l(),c("div",_a,o(e.$t("message.jiaoyi.zuoduomairu")),1)):p("",!0),i.detailData.direction=="sell"?(l(),c("div",ya,o(e.$t("message.jiaoyi.zuokongmairu")),1)):p("",!0)]),t("div",fa,[t("div",va,o(e.$t("message.home.gouamijia")),1),t("div",null,o(i.detailData.nowPrice),1)]),t("div",ba,[t("div",ka,o(e.$t("message.home.shuliang")),1),t("div",null,o(i.detailData.amount),1)]),t("div",$a,[t("div",Da,o(e.$t("message.home.jiaogeshijian")),1),t("div",null,o(i.detailData.time_num)+" "+o(i.detailData.time_unit),1)])])]}),_:1},8,["title","modelValue"])):p("",!0)])}const Je=w(ua,[["render",Ta],["__scopeId","data-v-9eb3e16c"]]);function wa(e){return j.fetch("/api/futuresOrder!openview.action",e)}function Aa(e){return j.fetch("/api/futuresOrder!open.action",e)}function Sa(e){return j.fetch("/api/futuresOrder!list.action",e)}function Ia(e){return j.fetch("/api/futuresOrder!get.action",e)}const K={getFutures:wa,futuresOpen:Aa,futuresList:Sa,futuresDetail:Ia};const xa={emits:["closeDialog"],props:{dialogVisible:{type:Boolean,default:!1},unit:{type:String,default:""},typeValue:{type:Number}},data(){return{percentValue:100,daojishi:30,daojishi_status:null,daojishi_s:0,daojishi_baifenbi:0,showProgress:!0,showProfit:!1,detailData:{},secound:"",minute:"",hour:"",day:"",order_no:"",symbol:"",showBtn:!1,timeout:null}},watch:{visible(e){e&&(this.showProfit=!1,this.showProgress=!0)}},computed:{...O(N,["existToken"]),visible:{get(){return this.dialogVisible},set(){this.$emit("closeDialog")}}},mounted(){I.on("showDetail",e=>{this.order_no=e.order_no,this.symbol=e.symbol,this.order_no&&this.existToken&&this.futuresOrder(this.order_no)})},methods:{clearLoopTimeout(){clearTimeout(this.timeout),this.timeout=null},handleTimeEnd(e){K.futuresDetail({order_no:e}).then(s=>{this.clearLoopTimeout(),this.detailData=s.data,s.data.state!=="created"?this.timeout=setTimeout(()=>{this.handleTimeEnd(e)},1e3):(this.showProfit=!0,this.showBtn=!0)})},countTime(){const e=this;if(e.daojishi>0&&(e.deliveryTime=e.daojishi,e.percentValue=e.percentValue-e.daojishi_baifenbi),e.daojishi==0){e.deliveryTime=0,e.percentValue=0,clearTimeout(e.daojishi_status),e.daojishi_status=void 0,this.showProgress=!1,this.handleTimeEnd(this.order_no);return}let s=e.daojishi,n=parseInt(s/86400),u=parseInt(s%86400/3600),i=parseInt(s%86400%3600/60),a=parseInt(s%86400%3600%60);e.secound=a,e.day=n,e.hour=u,e.minute=i,e.daojishi--,e.daojishi_status=setTimeout(()=>{e.countTime()},1e3)},futuresOrder(e){const s=this;K.futuresDetail({order_no:e}).then(n=>{this.detailData=n.data;let u=n.data.remain_time.split(":"),i=parseInt(u[0])*3600+parseInt(u[1])*60+parseInt(u[2]);s.daojishi_baifenbi=Math.round(100/i*100)/100,s.daojishi=i,clearTimeout(s.daojishi_status),s.daojishi_status=void 0,s.percentValue=100,s.countTime()})}},unmounted(){this.clearLoopTimeout(),clearTimeout(this.daojishi_status),this.daojishi_status=null}},ja={class:"dialog-box"},La={class:"circleBox"},Oa={class:"countdown"},Na={key:0,class:"time-div"},Pa={key:1,class:"dot"},Ba={key:2,class:"time-div"},Va={key:3,class:"dot"},za={key:4,class:"time-div"},Ea={key:5,class:"dot"},Ua={key:6,class:"time-div"},Fa={class:"font-size18 text-center yingkui"},Ra={key:0,class:"green"},Ma={key:1,class:"red"},Qa={class:"delivery-text margin-top20"},Ya={class:"delivery-text-left"},qa={class:"delivery-text"},Ha={class:"delivery-text-left"},Ja={key:0,class:"green"},Ka={key:1,class:"red"},Wa={class:"delivery-text"},Ga={class:"delivery-text-left"},Xa={class:"delivery-text"},Za={class:"delivery-text-left"},el={class:"delivery-text"},tl={class:"delivery-text-left"},sl={key:0,class:"delivery-text"},il={class:"delivery-text-left"},ol={class:"dialog-footer"};function nl(e,s,n,u,i,a){var d;const g=V,h=Y;return l(),c("div",null,[i.detailData?(l(),D(h,{key:0,title:n.typeValue==1?((d=i.detailData.name)==null?void 0:d.toUpperCase())+e.$t("message.user.jiaoge"):e.$t("message.user.dingdanxiangqing"),modelValue:a.visible,"onUpdate:modelValue":s[1]||(s[1]=r=>a.visible=r),"close-on-click-modal":!1,width:"500px",center:"",class:"detailWrapper","append-to-body":!0},{footer:_(()=>[t("span",ol,[m(g,{type:"info",onClick:s[0]||(s[0]=r=>a.visible=!1),class:"continueOrder"},{default:_(()=>[$(o(e.$t("message.home.jixuxiadan")),1)]),_:1})])]),default:_(()=>{var r,y;return[t("div",ja,[x(t("div",La,[t("div",Oa,[i.day?(l(),c("div",Na,o(i.day?i.day+" d ":""),1)):p("",!0),i.day?(l(),c("div",Pa,"ꔷ")):p("",!0),i.hour?(l(),c("div",Ba,o(i.hour?i.hour+" h ":""),1)):p("",!0),i.hour?(l(),c("div",Va,"ꔷ")):p("",!0),i.minute?(l(),c("div",za,o(i.minute?i.minute+" m ":""),1)):p("",!0),i.minute?(l(),c("div",Ea,"ꔷ")):p("",!0),i.secound?(l(),c("div",Ua,o(i.secound+" s"),1)):p("",!0)])],512),[[H,i.showProgress]]),x(t("div",Fa,[i.detailData.profit>0?(l(),c("div",Ra,o(e.$t("message.home.yingkui"))+" "+o(i.detailData.profit)+" "+o(n.unit),1)):(l(),c("div",Ma,o(e.$t("message.home.yingkui"))+" "+o(i.detailData.profit)+" "+o(n.unit),1))],512),[[H,i.showProfit]]),t("div",Qa,[t("div",Ya,o(e.$t("message.jiaoyi.jiaoyibizhong")),1),t("div",null,o((y=(r=i.detailData)==null?void 0:r.name)==null?void 0:y.toUpperCase()),1)]),t("div",qa,[t("div",Ha,o(e.$t("message.home.fangxiang")),1),i.detailData.direction=="buy"?(l(),c("div",Ja,o(e.$t("message.jiaoyi.zuoduomairu")),1)):p("",!0),i.detailData.direction=="sell"?(l(),c("div",Ka,o(e.$t("message.jiaoyi.zuokongmairu")),1)):p("",!0)]),t("div",Wa,[t("div",Ga,o(e.$t("message.home.gouamijia")),1),t("div",null,o(i.detailData.open_price),1)]),t("div",Xa,[t("div",Za,o(e.$t("message.home.shuliang")),1),t("div",null,o(i.detailData.volume),1)]),t("div",el,[t("div",tl,o(e.$t("message.jiaoyi.yujishouyi")),1),t("div",{class:b([i.detailData.profit>0?"green":"red"])},o(i.detailData.profit),3)]),n.typeValue==1?(l(),c("div",sl,[t("div",il,o(e.$t("message.home.jiaogeshijian")),1),t("div",null,o(i.detailData.time_num)+" "+o(i.detailData.time_unit),1)])):p("",!0)])]}),_:1},8,["title","modelValue"])):p("",!0)])}const ce=w(xa,[["render",nl],["__scopeId","data-v-677a0082"]]);const al={components:{DetailDialog:ce,DialogConfirm:Je},name:"deliveryTrade",props:{pageData:{type:Object,default:function(){return{}}},unit:{type:String}},data(){return{currencyData:{},symbol:"btc",volume:"",sessionToken:"",list:[],activeIndex:0,buy_min:"",buyAmount:"",unit_fee:"0",sellAmount:"",sell_unit_fee:"0",para_id:"",open_price:"",now_price:"",detailVisible:!1,confirmVisible:!1,nowType:"",amount:"",deliveryTime:100,deliveryUnit:"",isPopup:!1,deliveryValue:"",fastList:[25,50,75,100],deliveryType:"buy",buyAndSellData:{},canOpen:!0,timeOutTimer1:null}},watch:{"$route.params.id"(e){this.getDeliveryInfo()},pageData(e){this.currencyData=e,this.nowPrice=e.close}},computed:{...O(N,["existToken","userInfo"])},mounted(){this.getDeliveryInfo()},methods:{goRouter(e){this.$router.push(e)},async getDeliveryInfo(){this.$route.params.id!=="undefined"&&K.getFutures({symbol:this.$route.params.id,token:this.userInfo.token}).then(e=>{if(this.volume=e.data.amount,this.sessionToken=e.data.session_token,this.list=e.data.para,this.canOpen=e.data.open,this.deliveryValue="",e.data.para.length>0){this.buy_min=e.data.para[this.activeIndex].buy_min,this.unit_fee=e.data.para[this.activeIndex].unit_fee,this.para_id=e.data.para[this.activeIndex].para_id,this.buyAmount=this.buy_min,this.sellAmount=this.buy_min;let s="";e.data.para[this.activeIndex].time_unit=="second"?s="s":e.data.para[this.activeIndex].time_unit=="minute"?s="m":e.data.para[this.activeIndex].time_unit=="hour"?this.deliveryUnit="h":e.data.para[this.activeIndex].time_unit=="day"&&(s="d"),this.deliveryUnit=s,this.deliveryTime=e.data.para[this.activeIndex].time_num,this.deliveryValue=e.data.para[this.activeIndex].time_num+s+"  "+e.data.para[this.activeIndex].profit_ratio+"%"}})},timeBtn(e,s){this.isPopup=!1,this.activeIndex=s,this.buy_min=e.buy_min,this.unit_fee=e.unit_fee,this.para_id=e.para_id,this.buyAmount=this.buy_min,this.sellAmount=this.buy_min,e.time_unit=="second"?this.deliveryUnit="s":e.time_unit=="minute"?this.deliveryUnit="m":e.time_unit=="hour"?this.deliveryUnit="h":e.time_unit=="day"&&(this.deliveryUnit="d"),this.deliveryTime=e.time_num,this.deliveryValue=e.time_num+this.deliveryUnit+"  "+e.profit_ratio+"%"},blurBuyNum(){this.buyAmount<=this.buy_min&&(this.buyAmount=this.buy_min)},blurSellNum(){this.sellAmount<=this.buy_min&&(this.sellAmount=this.buy_min)},handleOpenOrder(){K.futuresOpen({symbol:this.currencyData.symbol,session_token:this.sessionToken,direction:this.nowType,amount:this.amount,para_id:this.para_id}).then(e=>{if(e.code==0){this.open_price=e.data.open_price,this.nowType=this.type;let s={order_no:e.data.order_no,symbol:this.currencyData.symbol};I.emit("showDetail",s),P({message:this.$t("message.jiaoyi.kaicangchenggong"),type:"success"}),this.timeOutTimer1=setTimeout(()=>{this.detailVisible=!0,this.getDeliveryInfo()},1e3)}})},buyCurrency(){if(!this.buyAmount){P.warning(this.$t("message.home.qingshurujine"));return}if(this.volume<=0||this.volume<this.buy_min){P.warning(this.$t("message.home.yuebuzu"));return}this.nowType="buy",this.amount=this.buyAmount,this.buyAndSellData={symbol:this.currencyData.symbol,session_token:this.sessionToken,direction:this.nowType,amount:this.amount,para_id:this.para_id,time_num:this.deliveryTime,time_unit:this.deliveryUnit,nowPrice:this.nowPrice},this.confirmVisible=!0},sellCurrency(){if(!this.sellAmount){P.warning(this.$t("message.home.qingshurujine"));return}if(this.volume<=0){P.warning(this.$t("message.home.yuebuzuqingxianchongzhi"));return}this.nowType="sell",this.amount=this.sellAmount,this.buyAndSellData={symbol:this.currencyData.symbol,session_token:this.sessionToken,direction:this.nowType,amount:this.amount,para_id:this.para_id,time_num:this.deliveryTime,time_unit:this.deliveryUnit,nowPrice:this.nowPrice},this.confirmVisible=!0},fastFun(e){this.deliveryType=="buy"?this.buyAmount=this.volume*(e/100):this.sellAmount=this.volume*(e/100)},changeDeliveryType(e){this.deliveryType=e},async handleBtnClick(){if(await this.getDeliveryInfo(),!this.canOpen){P.warning(this.$t("message.jiaoyi.closeDeliveryTradeTip"));return}if(!this.deliveryValue){P.warning(this.$t("message.jiaoyi.pls_xuanzejiaoyishiduan"));return}this.deliveryType=="buy"?this.buyCurrency():this.sellCurrency()},handleCloseConfirmDialog(){this.confirmVisible=!1},handleCloseDetailDialog(){this.detailVisible=!1},unbindTimerHandle(){this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null)}},unmounted(){this.unbindTimerHandle()}},Ke=e=>(M("data-v-ab89e109"),e=e(),Q(),e),ll={class:"place-order-inner-common",style:{width:"1043px"}},rl={class:"order-top-box"},cl={class:"but-box"},ul={class:"order-title-item"},dl={class:"order-left-title"},hl={class:"order-right-title"},ml={class:"order-title-item"},gl={class:"order-left-title"},pl={class:"order-right-title"},_l={class:"order-title-item"},yl={class:"order-left-title"},fl={class:"order-right-title"},vl={class:"order-title-item"},bl={class:"order-left-title"},kl={class:"order-right-title"},$l={class:"trading-title"},Dl={class:"trading-input-box"},Cl={class:"input-box"},Tl=Ke(()=>t("div",null,[t("i",{class:"el-icon-caret-bottom"})],-1)),wl={key:0,class:"trading-popup"},Al=["onClick"],Sl={key:0},Il={key:1},xl={key:2},jl={key:3},Ll=Ke(()=>t("div",{style:{margin:"0 5px"}},null,-1)),Ol={class:"trading-session-box"},Nl={class:"trading-title"},Pl={class:"trading-input-box"},Bl={class:"input-box"},Vl={class:"tab-box"},zl=["onClick"],El={class:"btn-content"},Ul={class:"btn-content"},Fl={class:"btn-content"};function Rl(e,s,n,u,i,a){const g=ce,h=Je;return l(),c("div",null,[t("div",ll,[t("div",rl,[t("div",null,o(e.$t("message.jiaoyi.jiaogeheyue")),1),t("div",cl,[t("div",{class:b(["buy-but but",[i.deliveryType=="buy"?"deliveryTypeActive":""]]),onClick:s[0]||(s[0]=d=>a.changeDeliveryType("buy"))},o(e.$t("message.jiaoyi.zuoduomairu")),3),t("div",{class:b(["sell-but but",[i.deliveryType=="sell"?"deliveryTypeActiveRed":""]]),onClick:s[1]||(s[1]=d=>a.changeDeliveryType("sell"))},o(e.$t("message.jiaoyi.zuokongmairu")),3)]),t("div",ul,[t("div",dl,o(e.$t("message.jiaoyi.jiaoyizican")),1),t("div",hl,o(n.unit),1)]),t("div",ml,[t("div",gl,o(e.$t("message.jiaoyi.keyongshuliang")),1),t("div",pl,o(i.volume)+" "+o(n.unit),1)]),t("div",_l,[t("div",yl,o(e.$t("message.jiaoyi.shouxufei")),1),t("div",fl,o(i.deliveryType=="buy"?i.unit_fee*i.buyAmount:i.unit_fee*i.sellAmount),1)]),t("div",vl,[t("div",bl,o(e.$t("message.jiaoyi.zuidimairu")),1),t("div",kl,o(i.buy_min)+" "+o(n.unit),1)])]),t("div",{class:"trading-session-box",onClick:s[2]||(s[2]=d=>i.isPopup=!i.isPopup)},[t("div",$l,o(e.$t("message.jiaoyi.jiaoyishiduan")),1),t("div",Dl,[t("div",Cl,o(i.deliveryValue),1),Tl,i.isPopup?(l(),c("div",wl,[t("ul",null,[(l(!0),c(C,null,T(i.list,(d,r)=>(l(),c("li",{key:r,onClick:ne(y=>a.timeBtn(d,r),["stop"]),class:b([i.activeIndex==r?"active":""])},[$(o(d.time_num)+" ",1),d.time_unit=="second"?(l(),c("span",Sl,"s")):p("",!0),d.time_unit=="minute"?(l(),c("span",Il,"m")):p("",!0),d.time_unit=="hour"?(l(),c("span",xl,"h")):p("",!0),d.time_unit=="day"?(l(),c("span",jl,"d")):p("",!0),Ll,$(" "+o(d.profit_ratio)+" % ",1)],10,Al))),128))])])):p("",!0)])]),t("div",Ol,[t("div",Nl,o(e.$t("message.jiaoyi.shuliang")),1),t("div",Pl,[t("div",Bl,[i.deliveryType=="buy"?x((l(),c("input",{key:0,class:"trading-input",onBlur:s[3]||(s[3]=(...d)=>a.blurBuyNum&&a.blurBuyNum(...d)),"onUpdate:modelValue":s[4]||(s[4]=d=>i.buyAmount=d),type:"text"},null,544)),[[q,i.buyAmount]]):x((l(),c("input",{key:1,class:"trading-input","onUpdate:modelValue":s[5]||(s[5]=d=>i.sellAmount=d),onBlur:s[6]||(s[6]=(...d)=>a.blurSellNum&&a.blurSellNum(...d)),type:"text"},null,544)),[[q,i.sellAmount]])])])]),t("div",Vl,[(l(!0),c(C,null,T(i.fastList,(d,r)=>(l(),c("div",{class:"tab-item",key:r,onClick:y=>a.fastFun(d)},o(d)+"% ",9,zl))),128))]),e.existToken?(l(),c("button",{key:0,onClick:s[7]||(s[7]=(...d)=>a.handleBtnClick&&a.handleBtnClick(...d)),side:"buy",type:"button",class:"buy-but-centent"},[t("span",El,o(e.$t("message.jiaoyi.mairu")),1)])):p("",!0),e.existToken?p("",!0):(l(),c("button",{key:1,side:"buy",type:"button",class:"buy-but-centent",onClick:s[8]||(s[8]=d=>a.goRouter("/register"))},[t("span",Ul,o(e.$t("message.home.zhuce")),1)])),e.existToken?p("",!0):(l(),c("button",{key:2,side:"buy",type:"button",class:"buy-but-cententTwo",onClick:s[9]||(s[9]=d=>a.goRouter("/login"))},[t("span",Fl,o(e.$t("message.home.denglu")),1)]))]),m(g,{typeValue:1,dialogVisible:i.detailVisible,onCloseDialog:a.handleCloseDetailDialog,unit:n.unit},null,8,["dialogVisible","onCloseDialog","unit"]),m(h,{onConfirmOrder:a.handleOpenOrder,buyAndSellData:i.buyAndSellData,dialogVisible:i.confirmVisible,onCloseDialog:a.handleCloseConfirmDialog,pageData:i.currencyData},null,8,["onConfirmOrder","buyAndSellData","dialogVisible","onCloseDialog","pageData"])])}const Ml=w(al,[["render",Rl],["__scopeId","data-v-ab89e109"]]);const Ql={name:"deliveryDelegateList",components:{deliveryDetailDialog:ce,Pagination:J},props:{pageData:{type:Object,default:function(){return{}}}},watch:{pageData(e){this.newPageData=e},"$route.params.id"(){this.existToken&&this.getList()}},computed:{...O(N,["existToken"])},data(){return{type:"orders",currencyData:[],symbol:"btc",currencyDataLength:0,pageNum:1,timer:void 0,timer1:void 0,dialogVisible:!1,moneyInfo:{money_wallet:0,money_futures_profit:0},orderNumber:0,noNext:!1,noPre:!1}},mounted(){this.existToken&&(this.getCurrencyPaypal(),this.getList(this.type))},unmounted(){clearInterval(this.timer),clearInterval(this.timer1)},methods:{handleSymbolImg:xe,getFormatTime(e){return U.unix(e).format("YYYY-MM-DD HH:mm:ss")},goRouter(e){this.$router.push(e)},getCurrencyPaypal(){E.currencyPaypal().then(e=>{e.code==0&&(this.moneyInfo=e.data)})},sortData(e,s){return new Date(s.open_time).getTime()-new Date(e.open_time).getTime()},changeType(e){this.currencyData=[],this.currencyDataLength=0,this.existToken&&(this.type=e,this.pageNum=1,this.type=="orders"?(this.getList(this.type),this.timer=setInterval(()=>{this.getList(this.type)},1e3)):this.type=="hisorders"?(clearInterval(this.timer),this.getList(this.type)):(clearInterval(this.timer),this.getPairsWalletList()))},getList(e){this.$route.params.id!="undefined"&&this.existToken&&K.futuresList({page_no:this.pageNum,type:this.type,symbol:this.$route.params.id}).then(s=>{s.code==0&&(this.type=="orders"&&(this.orderNumber=(s==null?void 0:s.total)||s.data.length),this.currencyData=s.data.sort(this.sortData),this.currencyDataLength=s.data.length,this.currencyDataLength==0||this.currencyDataLength<10?this.noNext=!0:this.noNext=!1)})},getPairsWalletList(){mt.getPairsWallet().then(e=>{const s=e.data.extends;this.currencyData=s.filter(n=>n.symbol&&n.volume>0),this.currencyDataLength=s.length})},openDetail(e){let s={order_no:e.order_no,symbol:e.symbol};I.emit("showDetail",s),this.dialogVisible=!0},changePageNum(e){e=="next"?this.noNext||(this.pageNum=this.pageNum+1,this.getList()):!this.noPre&&this.pageNum>1&&(this.pageNum=this.pageNum-1,this.getList())},handleCloseDetailDialog(){this.dialogVisible=!1}}},Yl={class:"delivery-page"},ql={class:"delegate-left"},Hl={class:"account-box"},Jl={class:"account-tab-box"},Kl={class:"okui-tabs account-tab"},Wl={class:"okui-tabs-pane-list okui-tabs-pane-list-lg okui-tabs-pane-list-grey okui-tabs-pane-list-underline account-tab-header"},Gl={class:"okui-tabs-pane-list-container"},Xl={class:"delegate-title"},Zl={class:"flex-2"},er={class:"flex-2"},tr={key:0,class:"flex-2"},sr={key:0,class:"delegate-content empty-box"},ir={class:"empty-desc"},or={key:1,class:"delegate-content"},nr={class:"flex-2"},ar={key:0,class:"green"},lr={key:1,class:"red"},rr={key:2},cr={key:3,class:"red"},ur={key:4,class:"green"},dr={class:"flex-2"},hr=["onClick"],mr={class:"delegate-title"},gr={key:0,class:"delegate-content empty-box"},pr={class:"empty-desc"},_r={key:1,class:"delegate-content"},yr=["src"],fr={key:3,class:"no-login"},vr={style:{margin:"0 4px"}},br={class:"delegate-right"},kr={class:"assets-title"},$r={class:"assets-btns"},Dr={key:0,class:"money-box"},Cr={class:"money-left"},Tr={class:"money-right"},wr={key:1,class:"money-box"},Ar={class:"money-left"},Sr={class:"money-right"};function Ir(e,s,n,u,i,a){const g=V,h=J,d=R("delivery-detail-dialog");return l(),c("div",null,[t("div",Yl,[t("div",ql,[t("div",Hl,[t("div",Jl,[t("div",Kl,[t("div",Wl,[t("div",Gl,[t("div",{onClick:s[0]||(s[0]=r=>a.changeType("orders")),class:b([i.type=="orders"?"position-tab-active":"","mr-16"])},o(e.$t("message.home.chiyoucangwei"))+"("+o(i.orderNumber)+") ",3),t("div",{onClick:s[1]||(s[1]=r=>a.changeType("hisorders")),class:b([i.type=="hisorders"?"position-tab-active":"","mr-16"])},o(e.$t("message.home.lishicangwei")),3),t("div",{onClick:s[2]||(s[2]=r=>a.changeType("assets")),class:b(i.type=="assets"?"position-tab-active":"")},o(e.$t("message.home.zichanguanli")),3)])]),i.type=="hisorders"||i.type=="orders"?(l(),c("div",{key:0,class:b(["delegate-box",[i.currencyData.length>0?"h400":"h20"]])},[t("div",Xl,[t("div",null,o(e.$t("message.home.bizhong")),1),t("div",Zl,o(e.$t("message.home.kaicangshijian")),1),t("div",null,o(e.$t("message.home.fangxiang")),1),t("div",null,o(e.$t("message.home.zhangshu")),1),t("div",null,o(e.$t("message.home.shouxufei")),1),t("div",null,o(e.$t("message.home.jiaogeshijian")),1),t("div",null,o(e.$t("message.home.goumaijia")),1),t("div",null,o(e.$t("message.home.jiesuanjia")),1),t("div",null,o(e.$t("message.home.yingkui")),1),t("div",er,o(e.$t("message.home.daoqishijian")),1),i.type=="orders"?(l(),c("div",tr,o(e.$t("message.home.caozuo")),1)):p("",!0)]),i.currencyData.length==0?(l(),c("div",sr,[t("span",ir,o(e.$t("message.home.zanwujilu")),1)])):(l(),c("div",or,[(l(!0),c(C,null,T(i.currencyData,(r,y)=>(l(),c("div",{class:"delegate-item",key:y},[t("div",null,o(r.name),1),t("div",nr,o(a.getFormatTime(r.open_time)),1),r.direction=="buy"?(l(),c("div",ar,o(e.$t("message.jiaoyi.zuoduomairu")),1)):p("",!0),r.direction=="sell"?(l(),c("div",lr,o(e.$t("message.jiaoyi.zuokongmairu")),1)):p("",!0),r.direction?p("",!0):(l(),c("div",rr,"--")),t("div",null,o(r.amount),1),t("div",null,o(r.fee),1),t("div",null,o(r.time_num)+" "+o(r.time_unit),1),t("div",null,o(r.open_price),1),t("div",null,o(r.close_price),1),r.profit<0?(l(),c("div",cr,o(r.profit),1)):(l(),c("div",ur,o(r.profit),1)),t("div",dr,o(a.getFormatTime(r.settlement_time)),1),i.type=="orders"?(l(),c("div",{key:5,class:"mouse-cursor",onClick:f=>a.openDetail(r)},[m(g,{class:"btn",size:"min",type:"primary"},{default:_(()=>[$(o(e.$t("message.home.xiangqing")),1)]),_:1})],8,hr)):p("",!0)]))),128))]))],2)):(l(),c("div",{key:1,class:b(["delegate-box",[i.currencyData.length>0?"h400":"h20"]])},[t("div",mr,[t("div",null,o(e.$t("message.jiaoyi.bizhong")),1),t("div",null,o(e.$t("message.jiaoyi.qianbaoyue")),1),t("div",null,o(e.$t("message.jiaoyi.keyongjine")),1),t("div",null,o(e.$t("message.jiaoyi.suocang")),1),t("div",null,o(e.$t("message.jiaoyi.dongjiejine")),1)]),i.currencyData.length==0?(l(),c("div",gr,[t("span",pr,o(e.$t("message.home.zanwujilu")),1)])):(l(),c("div",_r,[(l(!0),c(C,null,T(i.currencyData,(r={},y)=>(l(),c("div",{class:"delegate-item",key:y},[t("img",{class:"symbol-img",src:a.handleSymbolImg(r.symbol)},null,8,yr),t("div",null,o(r.symbol.toUpperCase())+"/USD",1),t("div",null,o(Number(r.volume).toFixed(8)),1),t("div",null,o(Number(r.usable).toFixed(8)),1),t("div",null,o(Number(r.usable).toFixed(8)),1),t("div",null,o((r.frozenAmount+r.frozenAmount).toFixed(8)),1)]))),128))]))],2)),(i.type=="hisorders"||i.type=="orders")&&i.currencyDataLength?(l(),D(h,{key:2,class:"pagitation-wrapper",style:{"margin-top":"-20px"},noPre:i.noPre,noNext:i.noNext,pageNum:i.pageNum,onChangePageNum:a.changePageNum},null,8,["noPre","noNext","pageNum","onChangePageNum"])):p("",!0),e.existToken?p("",!0):(l(),c("div",fr,[t("span",{style:{color:"#1d91ff"},onClick:s[3]||(s[3]=r=>e.$router.push("/login"))},o(e.$t("message.home.denglu")),1),t("span",vr,o(e.$t("message.home.or")),1),t("span",{style:{margin:"0 4px",color:"#1d91ff"},onClick:s[4]||(s[4]=r=>e.$router.push("/register"))},o(e.$t("message.home.lijizhuce")),1),t("span",null,o(e.$t("message.home.trading")),1)]))])])])]),t("div",br,[t("div",kr,o(e.$t("message.jiaoyi.zican")),1),t("div",$r,[m(g,{type:"info",size:"small",onClick:s[5]||(s[5]=r=>a.goRouter("/recharge"))},{default:_(()=>[$(o(e.$t("message.user.chongzhi")),1)]),_:1}),m(g,{type:"info",size:"small",onClick:s[6]||(s[6]=r=>a.goRouter("/exchange"))},{default:_(()=>[$(o(e.$t("message.user.duihuan")),1)]),_:1}),m(g,{type:"info",size:"small",onClick:s[7]||(s[7]=r=>a.goRouter("/withdraw"))},{default:_(()=>[$(o(e.$t("message.user.tixian")),1)]),_:1})]),e.existToken?(l(),c("div",Dr,[t("div",Cr,o(e.$t("message.jiaoyi.qianbaoyue")),1),t("div",Tr,o(i.moneyInfo.money_wallet)+"USD",1)])):p("",!0),e.existToken?(l(),c("div",wr,[t("div",Ar,o(e.$t("message.jiaoyi.weishixianyinkui")),1),t("div",Sr,o(i.moneyInfo.money_futures_profit)+"USD",1)])):p("",!0)])]),m(d,{typeValue:2,dialogVisible:i.dialogVisible,onCloseDialog:a.handleCloseDetailDialog},null,8,["dialogVisible","onCloseDialog"])])}const xr=w(Ql,[["render",Ir],["__scopeId","data-v-8da9f217"]]),jr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADORJREFUeF7tnW2MXFUZx58zZUswYCJJJb5DAsEEo4jauQMhgSCJb4FE02oEDXOngKFJw4uxdGZSl9A7IAklCKKE7p3KqwHlAxpNTBMUbOdOCa1IIEoIouGDQoxVQxDYnccModh2X+Y5z73n7J6cf7/u83/OOb/n/vbe2e3OGMI/EACBRQkYsAEBEFicAATB1QECSxCAILg8QACC4BoAAR0B3EF03JCKhAAEiWTQOKaOAATRcUMqEgIQJJJB45g6AhBExw2pSAhAkEgGjWPqCEAQHTekIiEAQSIZNI6pIwBBdNyQioQABIlk0DimjgAE0XFDKhICECSSQeOYOgIQRMcNqUgIQJBIBo1j6ghAEB03pCIhAEEiGTSOqSMAQXTckIqEAASJZNA4po4ABNFxQyoSAhAkkkHjmDoCEETHDalICECQSAaNY+oIQBAdN6QiIQBBIhk0jqkjAEF03JCKhAAEiWTQOKaOAATRcUMqEgIQJJJB45g6AhBExw2piglsKLITZufofTvP6vy+4tal2kGQUvgQLkOg9UTvLJ4dNU2tljDzaW/3OkBEj5GhfXm9c12Z/lVkIUgVFNHDmkBzb2+TGfGtSwaZ99fM1AU7ks0vWS9QUQCCVAQSbeQE0iJjeTURrzbv7Z/RfsUmU1UtBKmKJPqICKTDbfcSm4tExe8UmV150j7fLlNNNQSphiO6CAikg+zzZOiXgtJ5JYZ440zSvUOTLZOBIGXoIWtFoFlkPzJEl1uF3i42xjwzU29/TJMtk4EgZegha0WgVWT7meh0q9AhxSOunbSzseVFbV6TgyAaashYE2g+1ltjVvPL1sFDAzX6ar6282CpHpZhCGIJDOU6ApcMrj+nZmqP6tIHn7No2vfvRiBIqYkhLCUAQaSkUBclAQgS5dhxaCkBCCIlhbooCUCQKMeOQ0sJQBApKdRFSQCCRDl2HFpKAIJISaEuSgIQJMqx49BSAhBESgp1URKAIFGOHYeWEoAgUlKoi5IABIly7Di0lAAEkZJCXZQEIEiUY8ehpQQgiJQU6qIkAEGiHDsOLSUAQaSkUBclAQgS5dhxaCkBCCIlhbooCUCQKMeOQ0sJQBApKdRFSQCCRDl2HFpKAIJISaEuSgIQJMqx49BSAhBESgp1URKAIFGOHYeWEoAgUlKoi5IABIly7Di0lAAEkZJCXZQEIEiUY8ehpQQgiJQU6qIkAEGiHPvKP3TryRtOnpuj97zxOj1//9lb/rlcO4Ygy0Ue684j0Cyyiw3z1WTMqUT0rkMKXjRET9WM+c5d9fZzPtFBEJ+0sdaiBNKidyUR3zIB0Wtsaq1+fcsDvlBCEF+ksc7icgyyXWToPDEipmbe6OwU15cohCAl4CFankA6yH5Ihr5l28lM1U6Z+dSW521ztvUQxJYY6isjkA6zbxLTj5UNf5UnnS8os+IYBBGjQmHVBNIiu5OILtP2ZZ5L+o2tQ21ekoMgEkqocUKgWfQeNcTnqJsb2pTXO7ep84IgBBFAQokbAukge5kMrVF3N3xfXu9erM4LghBEAAklbgikRcZlOjOZ3/ST9rllekzKQpBJhPB1ZwQgiDO0ZNy1RmdfBCCIO9IQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMQdW2+dIYg71BDEHVtvnSGIO9QQxB1bb50hiDvUEMSSbfpE7wKeHX2UyJxCxpxsiJ/lmvkTMb3Qr7d/YdmuknIIUgnGBZtAECHb6Uenj/rLMVO3G6LLF4+Yh/KkvV7YsrIyCFIZynmNIIiAbXOQnWGI9pChowXlL+VJ50OCuspKIEhlKCGILcqLiul3H01T/7LLmafzpP1xu4y+GoLo2U1K4g4ygVCryH7NROdPAjnv68zb80b3GuucIgBBFNCEEQiyBKgNg96XR4Z/JmQ5v2yVuTD/TPsRdV4YhCBCUIoyCLIEtNYg28aGOgqub0WYeXO/0b1Jm5fmIIiUlH0dBFmCWdlPbmKmHf1G51L7sdglIIgdL5tqCLIErRAuvPH2Q9gnPkDHRstAakO48CCI24sJdxDcQQgfwbb4RQBBIAgEWeIagCAQBIJAEN1zKl6D6LgtlMKL9OpYrphOEKS6UUCQ6liumE4QpLpRQJDqWK6YThCkulFAkOpYrphOEKS6UUCQ6liumE4QpLpRQJDqWK6YThCkulFAkOpYrphOEKS6UUCQkixbw23rRiPTMDVKiKkx/u8PNebdhsy+HY32wyXbq+IQRIVtwRAEUbJct2f7Mcea175vDG1YosVuMnMb8/rWp5TLqGIQRIUNglSFLR32GsS8R9zP0HRe71wnri9ZCEFKAjwkjjuIJct1z0yvPu4/U68S0VE20TffXPWRe86+9q82GW0tBNGSm5+DIJYs0yIbv8naFy1j4z9kfSBPul+3z9knIIg9s8USEMSCZXPY+5Jh/rlF5LBSY3j9TL37kDYvzUEQKanJdRBkMqN3Kpp7e5vMiG+1iBxWyky39Budq7V5aQ6CSElNroMgkxm9U5EW2Q+I6AqLyOGlhgZ5vXOmOi8MQhAhKEEZBBFAOlhS9t1Cxn3ypOP8j70giMVQJ5RCEAuWEMQClqA0BJEhiGCQuINYQLIohSAWsCxLnT+mLLQf3EEspzShHIJUy/PQbhBkCbYhXHjj7YewTzxiWUiMO4gFLEEpBBFAUpbgDoI7CN72Z4lrAIJAEAgCQXT31xAeXfAaRDdbaQp3ENxBcAfBHUT6/eLwOtxBdNwWSuGnWBYs8VMsC1iC0hBEhiCCQR4sgSAWsASlEEQASVmyLK9B0qL3IBGvU+55HPPyWeRpkf2ZiE7U7pOJHu4nna9o89JcOsheJkNrpPXz6gzfl9e7F6vzguCG4fUnjbj2gqB00RI2dGm/3tlRpodtdnkEGWbfJaZp283+v948lCft9fq8LJkWWZ+ILpFVz69i5pv6je5mbV6aK31HNrQpr3duk66nrSv7DWeW6BN3J50/aNfX5JZFkFbR+wYT363Z8DhjDF09U+/cos1Lc2mRbSSi26X1R9YZotZM0sm1eWkuLbI7iegyaf2RdcxzSb+xdajNS3PpsHcvMV8krT+izstTwwIzVG63ROzSvdnpcyN6jIiOU7T5L5m5xMdbADUH2RnGmIKIp6z3yfTKiFedt/PMa5+2zloGmsX1TUM1pYi8K0+651suqSpvDrMNhukuVZjo5jzpfFuZVceW5Q4y3m1rkG1mQzfa7tzXd+WD+0qHvZuJ2f7Pe9lcmDfaj9ieT1ufFtkDRPQ123yNap/ekWx50janrVc+Dv79w6+9+cHpc6dntetqc8smyHjDaZH9lIjEL2KNoedm6p1TtYfV5tIi+xsRnWCRvyNPOuPHM6//0iL7BxEdL1+Ub8yT7hZ5ffnK9I/fO44OzP7bphOzSfqNtvNHwIX2tKyCvCXJnm1XUs1Mfj3BvCtv+HkUWAhUa5htZ6arJg6WeSZvdJd6l8iJLcoUiH+wYHh7Xu9eU2Ytbba5r7fGvEH3E/FnJ/YwZkNeb89MrHNUsOyCjM/11i+RarXe+D15553T0B4a0V15o7PTEQNx29beGz7HPNq62D4N020zSecn4oaOCsfP+jUyVzLzaUcscYCZHjeGb8qT7u8cLS9u2yq2XUGmdsVC+zREvx2RafeT9rPihg4KV4QgB8/V2jN9PJupOtVoLdPocV597L6dn7zqgINzl2oZyj4vGdxwYm3VaC3N8vtXHbVq9wdefX3/cjzHT4K9kve5ogSZBBJfBwHfBCCIb+JYLygCECSocWGzvglAEN/EsV5QBCBIUOPCZn0TgCC+iWO9oAhAkKDGhc36JgBBfBPHekERgCBBjQub9U0AgvgmjvWCIgBBghoXNuubAATxTRzrBUUAggQ1LmzWNwEI4ps41guKAAQJalzYrG8CEMQ3cawXFAEIEtS4sFnfBCCIb+JYLygCECSocWGzvglAEN/EsV5QBCBIUOPCZn0TgCC+iWO9oAhAkKDGhc36JgBBfBPHekERgCBBjQub9U0AgvgmjvWCIgBBghoXNuubAATxTRzrBUUAggQ1LmzWNwEI4ps41guKAAQJalzYrG8CEMQ3cawXFAEIEtS4sFnfBCCIb+JYLygCECSocWGzvglAEN/EsV5QBCBIUOPCZn0TgCC+iWO9oAhAkKDGhc36JgBBfBPHekER+B90idQjkH2zcQAAAABJRU5ErkJggg==",Lr={class:"overbottom"},Or={class:"overtitle"},Nr=t("img",{src:jr},null,-1),Pr=t("span",{class:"twoj"},[t("i",{class:"el-icon-right"}),t("i",{class:"el-icon-back"})],-1),Br={class:"name"},Vr={class:"name"},zr={class:"overright"},Er=t("i",{class:"el-icon-bell"},null,-1),Ur=t("i",{class:"el-icon-download"},null,-1),Fr=t("i",{class:"el-icon-chat-dot-square"},null,-1),Rr={__name:"footer",props:{footerLeftList:{type:Array}},setup(e){return(s,n)=>(l(),c("div",Lr,[t("span",Or,[Nr,$(" "+o(s.$t("message.home.xitonglianjiewending")),1)]),Pr,(l(!0),c(C,null,T(e.footerLeftList,(u,i)=>(l(),c("div",{class:"item","data-type":"COIN","data-id":"AGLD",key:i},[t("span",Br,o(u.name),1),t("span",{class:b(["text-end",u.change_ratio>=0?"color-up":"color-down"])},o(S(ae)(u.change_ratio)),3),t("span",Vr,o(u.close),1)]))),128)),t("div",zr,[t("span",null,[Er,$(" "+o(s.$t("message.home.announcement")),1)]),t("span",null,[Ur,$(" "+o(s.$t("message.home.xiazai")),1)]),t("span",null,[Fr,$(" "+o(s.$t("message.home.service")),1)])])]))}};const Mr={name:"constractPage",errorCaptured(e,s,n){return console.log(`错误捕获: ${e.toString()}
info: ${n}`),!0},props:{pageType:{type:String,default:"etf"},paramsType:{type:String,default:"indices"},defaultSymbol:{type:String,default:"SH513520"}},data(){return{allListData:[],collectList:[],sortIndex:0,footerLeftList:[],searchCoinList:[],isFullscreen:!1,show_cash:!1,showSearchModal:!1,showrule:!1,ConfigURL:X,createOrderKey:"PerpeOrderVue",positionKey:"PerpePositionVue",isError:!1,searcIndexhData:[],searchData:"",tradeData:void 0,deepData:void 0,realData:void 0,symbolMarketInfo:{},deepBuy:[],deepSell:[],mapClass:[this.$t("message.jiaoyi.jibenban")],mapIndex:0,listData:[],currentTimer:void 0,lineTimer:void 0,pageTimer:void 0,pageData:{},showName:"",Hotcurrency:[],unit:"USD",totalAsset:"0.00",walletMoney:"0.00",profitLoss:"0.00",marginRate:"0.0000",maintenanceMargin:"0.0000",wsTradeData:[],buyList:[],sellList:[],bigIndex:void 0,KLInedata:void 0,klineIndex:"",kParamsTime:"",kTimeIndex:"",isShowLoading:!0,clickData:void 0,kTimeArrCoin:[{data:"minHour",title:this.$t("message.jiaoyi.fenshi")},{data:"1min",title:this.$t("message.jiaoyi.1fenzhong")},{data:"5min",title:this.$t("message.jiaoyi.5fenzhong")},{data:"15min",title:this.$t("message.jiaoyi.15fenzhong")},{data:"30min",title:this.$t("message.jiaoyi.30fenzhong")},{data:"60min",title:this.$t("message.jiaoyi.1xiaoshi")},{data:"4hour",title:this.$t("message.jiaoyi.4xiaoshi")},{data:"1day",title:this.$t("message.jiaoyi.1ri")},{data:"1week",title:this.$t("message.jiaoyi.1zhou")},{data:"1mon",title:this.$t("message.jiaoyi.1yue")}],kTimeArrETF:[{data:"minHour",title:this.$t("message.jiaoyi.fenshi")},{data:"1day",title:this.$t("message.jiaoyi.1ri")},{data:"5day",title:this.$t("message.jiaoyi.5ri")},{data:"1week",title:this.$t("message.jiaoyi.1zhou")},{data:"1mon",title:this.$t("message.jiaoyi.1yue")},{data:"1quarter",title:this.$t("message.jiaoyi.season")},{data:"1year",title:this.$t("message.jiaoyi.year")}],kTimeArrMore:[{data:"1min",title:this.$t("message.jiaoyi.1fenzhong")},{data:"5min",title:this.$t("message.jiaoyi.5fenzhong")},{data:"15min",title:this.$t("message.jiaoyi.15fenzhong")},{data:"30min",title:this.$t("message.jiaoyi.30fenzhong")},{data:"60min",title:this.$t("message.jiaoyi.60fenzhong")},{data:"120min",title:this.$t("message.jiaoyi.120fenzhong")}],kTimeArr:[],loading:!1,timer:void 0,currencySymbol:"",timeOutTimer1:null,timeOutTimer2:null,key:"",searchSymbols:"",intervalTimer1:null,controller:new AbortController}},components:{SingleCurrencyInfo:Ee,OrderBookNew:Be,DrawLine:Ve,klineBox:ut,deepChart:Oe,klineDialog:Ne,PerpeOrderVue:sn,PerpePositionVue:ca,DeliveryOrderVue:Ml,DeliveryPositionVue:xr,coinSearchCollect:ze,deepChartFullScreen:Pe,FooterCom:Rr},computed:{...O(N,["existToken"]),...O(we,["etfCurrency","usStocksCurrency","coinCurrency","forexCurrency","hkStocksCurrency","cnStocksCurrency","twStocksCurrency"]),marginBalance:function(){return bigDecimal.add(this.walletMoney,this.profitLoss)}},watch:{"$route.query.RouterName"(e){this.initRouteComponent()},searchData(e){this.isError=!!e},etfCurrency(e,s){this.pageType==="etf"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},usStocksCurrency(e,s){this.pageType==="usStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},twStocksCurrency(e,s){this.pageType==="twStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},hkStocksCurrency(e,s){this.pageType==="hkStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},cnStocksCurrency(e,s){this.pageType==="cnStocks"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},coinCurrency(e,s){this.pageType==="coin"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},forexCurrency(e,s){this.pageType==="forex"&&this.$nextTick(()=>{this.updateCurrency(e,this.pageType)})},KLInedata(e){e.length>0&&(this.isShowLoading=!1)}},async created(){await this.getAllCurrency(),this.initWebSocket()},mounted(){this.pageType==="forex"||this.pageType==="coin"?(this.kTimeArr=this.kTimeArrCoin,this.kTimeIndex="15min",this.kParamsTime="15min"):(this.kTimeArr=this.kTimeArrETF,this.kTimeIndex="1day",this.kParamsTime="1day"),this.pageType==="coin"&&(this.unit="USDT"),this.pageType==="coin"&&(this.mapClass=[this.$t("message.jiaoyi.jibenban"),this.$t("message.jiaoyi.shendutu")]),this.initRouteComponent(),this.existToken&&(this.getItemOptionalList(),this.timer=setInterval(()=>{this.getAssetTotal()},2e3)),this.lineTimer=setInterval(()=>{this.getKlineData()},1e3),I.on("MarginRefresh",(e,s)=>{this.marginRate=e})},unmounted(){clearInterval(this.currentTimer),clearInterval(this.lineTimer),clearInterval(this.timer),this.unbindTimerHandle(),this.controller.abort(),this.tradeData&&this.tradeData.close(),this.deepData.close(),this.realData.close()},methods:{...nt(we,["updateCurrency"]),addAndSubtr:ae,async getAllCurrency(){let e=await E.getAllSymbolDetails({type:this.paramsType});if(e.code=="0"){const s=e.data||this[`${this.pageType}Currency`];if(this.listData=s.map(n=>n==null?void 0:n.symbol).join(","),this.Hotcurrency=s.filter(n=>n.isTop=="1"),this.$route.params.id==="undefined"&&e.data.length){this.currencySymbol=e.data[0].symbol;let n=this.$route.fullPath.replace(/undefined/,this.currencySymbol);this.$router.push(n)}else this.currencySymbol=this.$route.params.id;await this.getRealTimeData(this.listData),this.updateCurrency(e.data,this.pageType)}},getAssetTotal(){E.currencyPaypal().then(e=>{const{total:s,money_wallet:n,money_contract:u,money_contract_profit:i}=e.data;this.totalAsset=s,this.walletMoney=bigDecimal.round(n,2),this.profitLoss=bigDecimal.round(i,2),I.emit("moneyContract",u)})},checkCurrency(e){this.showSerachCollect(),this.pageType!=="forex"&&this.tradeData.close(),this.deepData.close(),this.realData.close(),this.initWebSocket(e.symbol);const s=this.$route.query.RouterName,n=new Date().getTime();this.showName=e.name,this.$router.push(`/${this.pageType}/constract/${e.symbol}?timestamp=${n}&RouterName=${s}`)},showSerachCollect(){this.showSearchModal=!this.showSearchModal,this.showSearchModal?(clearInterval(this.currentTimer),this.currentTimer=setInterval(()=>{this.getRealTimeData(this.listData)},1e3)):clearInterval(this.currentTimer)},collectFun(e){E.addItemUserOptiona({symbol:e.symbol}).then(s=>{P({message:this.$t("message.jiaoyi.shoucangchenggong"),type:"success"}),this.getItemOptionalList()})},deleteCollectFun(e){E.deleteItemUserOptiona({symbol:e.symbol}).then(s=>{P({message:this.$t("message.jiaoyi.quxiaoshoucangchenggong"),type:"success"}),this.getItemOptionalList()})},CurrencySort(e){this.sortIndex=e},searchFun(e){this.searchCoinList=this.allListData.filter(s=>s.name.toUpperCase().indexOf(e.toUpperCase())!==-1)},remoteSearchAllSymbol(e){if(e){const s={type:this.paramsType,name:e};E.getAllSymbolDetails(s).then(n=>{n.code=="0"&&(this.searchSymbols=n.data.map(u=>u==null?void 0:u.symbol).join(","),this.remoteSearchRealTime(this.searchSymbols),clearInterval(this.intervalTimer1),this.intervalTimer1=setInterval(()=>{this.remoteSearchRealTime(this.searchSymbols)},2e3))})}else clearInterval(this.intervalTimer1),this.searchCoinList=[],this.searchSymbols=""},remoteSearchRealTime(e){E.getRealtime({symbol:e},this.controller).then(s=>{s.code=="0"&&(this.searchCoinList=s.data.map(n=>(n.isCollect=!1,n)),this.searchCoinList.map(n=>{this.collectList.map(u=>{n.symbol==u.symbol&&(n.isCollect=!0)})}),this.sortIndex==1&&(this.searchCoinList=this.searchCoinList.sort(this.sortLetterList("symbol"))),this.sortIndex==2&&(this.searchCoinList=this.searchCoinList.sort(this.sortLetterTwoList("symbol"))),this.sortIndex==3&&(this.searchCoinList=this.searchCoinList.sort(this.orderListAsc("close"))),this.sortIndex==4&&(this.searchCoinList=this.searchCoinList.sort(this.orderListAsc("close","ask"))),this.sortIndex==5&&(this.searchCoinList=this.searchCoinList.sort(this.orderListAsc("change_ratio"))),this.sortIndex==6&&(this.searchCoinList=this.searchCoinList.sort(this.orderListAsc("change_ratio","ask"))),this.sortIndex==7&&(this.searchCoinList=this.searchCoinList.sort(this.orderListAsc("amount"))),this.sortIndex==8&&(this.searchCoinList=this.searchCoinList.sort(this.orderListAsc("amount","ask"))))})},getItemOptionalList(){E.getItemOptionalStatus().then(e=>{this.collectList=e.data})},sortLetterList(e){return function(n,u){const i=n[e],a=u[e];return a<i?1:a>i?-1:0}},sortLetterTwoList(e){return function(n,u){const i=n[e],a=u[e];return a>i?1:a<i?-1:0}},orderListAsc(e,s="asc"){return(n,u)=>s=="asc"?n[e]>u[e]?1:-1:n[e]>u[e]?-1:1},fullScreen(){this.isFullscreen=!this.isFullscreen},gotoPage(e){switch(e){case"reCharge":this.$router.push({path:"/recharge"});break;case"exchange":this.$router.push({path:"/exchange"});break;case"withdraw":this.$router.push({path:"/withdraw"});break}},changeRule(){this.showrule=!this.showrule},getInfos(e){this.show_cash=!0},handleChangeClickData(e){this.clickData=e.price},initRouteComponent(){switch(this.$route.query.RouterName){case"sustainable":this.createOrderKey="PerpeOrderVue",this.positionKey="PerpePositionVue";break;case"delivery":this.createOrderKey="DeliveryOrderVue",this.positionKey="DeliveryPositionVue";break}},technoIndex(){this.$refs.kline_dialog.close()},tabMap(e){this.mapIndex=e,this.loading=!0},changeKTime(e){this.loading=!0,e.data!="minHour"?(this.kParamsTime=e.data,this.klineIndex=""):this.klineIndex="minHour",this.kTimeIndex=e.data},getKlineData(){this.$route.params.id!="undefined"&&dt.getKline({symbol:this.$route.params.id,line:this.kParamsTime}).then(e=>{this.timeOutTimer1=setTimeout(()=>{this.loading=!1},500),e.code=="0"&&(this.KLInedata=e.data.map(s=>({close:s.close,high:s.high,low:s.low,open:s.open,timestamp:s.ts,volume:s.volume})))})},initWebSocket(e){const s=this.currencySymbol||this.defaultSymbol,n=e||s;this.pageType!=="forex"&&(this.wsTradeData=[],this.tradeData=new oe({path:`${X.WS_URL}/2/${n}`,onmessage:this.getTradeMessage}),this.tradeData.init()),this.deepData=new oe({path:`${X.WS_URL}/3/${n}`,onmessage:this.getDeepMessage}),this.deepData.init(),this.realData=new oe({path:`${X.WS_URL}/1/${n}`,onmessage:this.getRealMessage}),this.realData.init()},getRealMessage({data:e}){const s=JSON.parse(e);if(s.code=="0"){const n=s.data[0];this.symbolMarketInfo=n,this.pageData={...n,name:this.showName}}},getTradeMessage({data:e}){var s=JSON.parse(e);if(s.code=="0"){this.wsTradeData=[...s.data.data,...this.wsTradeData];var n=this.wsTradeData.map(u=>u.amount);this.bigIndex=Math.max(...n),this.wsTradeData.length>300&&(this.wsTradeData=this.wsTradeData.slice(0,201))}},getDeepMessage({data:e}){var n,u;const s=JSON.parse(e);this.timeOutTimer2=setTimeout(()=>{this.loading=!1},500),s.code=="0"&&(this.deepBuy=(n=s.data)==null?void 0:n.bids,this.deepSell=(u=s.data)==null?void 0:u.asks)},async getRealTimeData(e){var n;const s=await E.getRealtime({symbol:e});if(s.code=="0"){this.footerLeftList=s.data.slice(0,6),this.allListData=s.data,this.allListData.length&&(this.showName=(n=this.allListData.filter(u=>u.symbol==this.$route.params.id)[0])==null?void 0:n.name);for(let u=0;u<this.allListData.length;u++)this.allListData[u].isCollect=!1;this.allListData.map(u=>{this.collectList.map(i=>{u.symbol==i.symbol&&(u.isCollect=!0)})}),this.sortIndex==1&&(this.allListData=this.allListData.sort(this.sortLetterList("symbol"))),this.sortIndex==2&&(this.allListData=this.allListData.sort(this.sortLetterTwoList("symbol"))),this.sortIndex==3&&(this.allListData=this.allListData.sort(this.orderListAsc("close"))),this.sortIndex==4&&(this.allListData=this.allListData.sort(this.orderListAsc("close","ask"))),this.sortIndex==5&&(this.allListData=this.allListData.sort(this.orderListAsc("change_ratio"))),this.sortIndex==6&&(this.allListData=this.allListData.sort(this.orderListAsc("change_ratio","ask"))),this.sortIndex==7&&(this.allListData=this.allListData.sort(this.orderListAsc("amount"))),this.sortIndex==8&&(this.allListData=this.allListData.sort(this.orderListAsc("amount","ask")))}},unbindTimerHandle(){this.timeOutTimer1&&(clearTimeout(this.timeOutTimer1),this.timeOutTimer1=null),this.timeOutTimer2&&(clearTimeout(this.timeOutTimer2),this.timeOutTimer2=null),this.intervalTimer1&&(clearInterval(this.intervalTimer1),this.intervalTimer1=null)},deepDataSort(e){if(e&&e.length)return[...e].sort((n,u)=>u.price-n.price)}}},se=e=>(M("data-v-922970b8"),e=e(),Q(),e),Qr={class:"constract-page"},Yr={class:"home-container",key:"home-containe"},qr={id:"app"},Hr={class:"trade-box trade-panel-box"},Jr={class:"trade-box-top"},Kr={class:"top-left",ref:"topleft"},Wr={class:"top-left-wrapper"},Gr={key:0,class:"allgoods"},Xr=se(()=>t("i",{style:{color:"#e0b525"},class:"icon iconfont icon-Mul_favorite"},null,-1)),Zr={class:"name"},ec={style:{position:"relative"}},tc={class:"search-dialog"},sc={class:"top-left-k"},ic={class:"kline-box comb-trade-kline-box"},oc={class:"kline-table"},nc={class:"chart-tr"},ac={class:"chart-td",id:"parent_trade_k1"},lc={class:"chart-box"},rc={class:"chart-kline",id:"trade_k1"},cc={class:"k-toolbar dark toolbar-bg"},uc={class:"k-toolbar-btn"},dc={class:"k-toolbar-left"},hc={key:0,class:"periods"},mc=["onClick"],gc={key:0,class:"kTimeDivider"},pc={key:1},_c=["onClick"],yc={class:"k-toolbar-right"},fc={key:0,class:"status-info"},vc={class:"time"},bc={class:"toggle"},kc=["onClick"],$c=se(()=>t("img",{style:{width:"20px"},src:ht,alt:""},null,-1)),Dc=[$c],Cc={class:"kline-body-wrap",id:"okline-wrap",style:{display:"flex"}},Tc=["element-loading-text"],wc={key:3,class:"kline-loading",style:{width:"100%",height:"100%",position:"absolute","background-color":"#171a1e",top:"0%",left:"16px","z-index":"2"}},Ac=se(()=>t("div",{class:"kline-loading-dot"},null,-1)),Sc=[Ac],Ic={class:"place-order-container-common place-order-xl-box"},xc={key:0,class:"cashbi margin-block"},jc={class:"cashHead"},Lc={class:"cashbtn"},Oc={class:"cash_left"},Nc={class:"cash_right"},Pc=se(()=>t("i",{class:"el-icon-stopwatch"},null,-1)),Bc={class:"cash_left"},Vc={class:"cash_right"},zc={class:"cash_left"},Ec={class:"cash_right"},Uc={key:0,class:"cashbi asset-block"},Fc={class:"cashHead"},Rc={class:"assets-btns"},Mc={key:0,class:"cashbilist"};function Qc(e,s,n,u,i,a){var de,he,me,ge,pe,_e,ye,fe,ve,be,ke,$e,De;const g=Ee,h=ze,d=R("kline-Box"),r=Oe,y=Pe,f=Ve,v=Be,k=V,F=Ne,ue=R("footer-com"),We=at;return l(),c("div",Qr,[t("div",Yr,[t("div",qr,[t("div",Hr,[t("div",Jr,[t("div",Kr,[t("div",Wr,[i.collectList.length>0?(l(),c("div",Gr,[Xr,(l(!0),c(C,null,T(i.collectList,(A,z)=>(l(),c("div",{class:"item",key:z},[t("span",Zr,o(A.name),1),t("span",{class:b(["text-end",A.change_ratio>=0?"color-up":"color-down"])},o(a.addAndSubtr(A.change_ratio)),3)]))),128))])):p("",!0),t("div",ec,[m(g,{isFullscreen:i.isFullscreen,pageData:i.pageData,pageType:n.pageType,onShowSerachCollect:a.showSerachCollect},null,8,["isFullscreen","pageData","pageType","onShowSerachCollect"]),x(t("div",tc,[m(h,{onCheckCurrency:a.checkCurrency,onCurrencySort:a.CurrencySort,onCollectFun:a.collectFun,onDeleteCollectFun:a.deleteCollectFun,listData:i.searchCoinList,AllListData:i.allListData,onSearchFun:a.remoteSearchAllSymbol,pageType:n.pageType},null,8,["onCheckCurrency","onCurrencySort","onCollectFun","onDeleteCollectFun","listData","AllListData","onSearchFun","pageType"])],512),[[H,i.showSearchModal==!0]])]),t("div",sc,[t("div",ic,[t("div",oc,[t("div",nc,[t("div",ac,[t("div",lc,[t("div",rc,[t("div",{class:b(["kline-wrap",[i.isFullscreen?"wrap-full":""]])},[t("div",{class:b([i.isFullscreen?"k-toolbar-wrap-full":"k-toolbar-wrap "])},[t("div",cc,[t("div",uc,[t("div",dc,[i.mapIndex==0?(l(),c("div",hc,[t("ul",null,[(l(!0),c(C,null,T(i.kTimeArr,(A,z)=>(l(),c("li",{key:z,class:b(i.kTimeIndex==A.data?"selected":""),onClick:Ce=>a.changeKTime(A)},o(A.title),11,mc))),128)),n.pageType=="etf"||n.pageType=="usStocks"?(l(),c("li",gc)):p("",!0),n.pageType=="etf"||n.pageType=="usStocks"?(l(),c("div",pc,[(l(!0),c(C,null,T(i.kTimeArrMore,(A,z)=>(l(),c("li",{key:z,class:b(i.kTimeIndex==A.data?"selected":""),onClick:Ce=>a.changeKTime(A)},o(A.title),11,_c))),128))])):p("",!0)])])):p("",!0)]),t("div",yc,[(he=(de=i.symbolMarketInfo)==null?void 0:de.market)!=null&&he.status?(l(),c("p",fc,[t("span",null,o(((ge=(me=i.symbolMarketInfo)==null?void 0:me.market)==null?void 0:ge.status)&&e.$t(`message.jiaoyi.${(_e=(pe=i.symbolMarketInfo)==null?void 0:pe.market)==null?void 0:_e.status}`))+" ",1),t("span",vc,o((fe=(ye=i.symbolMarketInfo)==null?void 0:ye.market)==null?void 0:fe.time_str),1),$("  "),t("span",null,o(((be=(ve=i.symbolMarketInfo)==null?void 0:ve.market)==null?void 0:be.time_zone)&&e.$t(`message.jiaoyi.${($e=(ke=i.symbolMarketInfo)==null?void 0:ke.market)==null?void 0:$e.time_zone}`)),1)])):p("",!0),t("div",bc,[(l(!0),c(C,null,T(i.mapClass,(A,z)=>(l(),c("span",{class:b(i.mapIndex==z?"selected":""),onClick:Ce=>a.tabMap(z),key:z},o(A),11,kc))),128)),t("div",{onClick:s[0]||(s[0]=(...A)=>a.fullScreen&&a.fullScreen(...A))},Dc)])])])])],2),t("div",Cc,[x((l(),c("div",{"element-loading-spinner":"el-icon-loading","element-loading-background":"#171a1e","element-loading-text":e.$t("message.jiaoyi.jiazaizhong")+"...",class:b([i.isFullscreen?"fullscreen-box":""]),id:"kline-Box",style:{background:"rgb(18, 18, 18)",width:"100%",position:"relative"}},[i.mapIndex==0?(l(),D(d,{key:0,data:i.KLInedata,klineIndex:i.klineIndex,isFullscreen:i.isFullscreen,kTimeIndex:i.kTimeIndex},null,8,["data","klineIndex","isFullscreen","kTimeIndex"])):i.mapIndex==1&&!i.isFullscreen?(l(),D(r,{key:1,isFullscreen:i.isFullscreen,deepBuy:i.deepBuy,deepSell:i.deepSell},null,8,["isFullscreen","deepBuy","deepSell"])):i.mapIndex==1&&i.isFullscreen?(l(),D(y,{key:2,deepBuy:i.deepBuy,deepSell:i.deepSell},null,8,["deepBuy","deepSell"])):p("",!0),m(f),i.isShowLoading?(l(),c("div",wc,Sc)):p("",!0)],10,Tc)),[[We,i.loading]])])],2)])])])])])])])])],512),["hkStocks","forex"].includes(n.pageType)?p("",!0):(l(),c("div",{key:0,class:"top-middle",style:B({display:i.isFullscreen?"none":"block"})},[m(v,{pageData:i.pageData,pageType:n.pageType,changeClickData:a.handleChangeClickData,sellList:a.deepDataSort(i.deepSell),buyList:a.deepDataSort(i.deepBuy),bigIndex:i.bigIndex,recentList:i.wsTradeData,unit:i.unit},null,8,["pageData","pageType","changeClickData","sellList","buyList","bigIndex","recentList","unit"])],4)),t("div",{class:"top-right",onClick:s[1]||(s[1]=(...A)=>a.changeRule&&a.changeRule(...A)),style:B({display:i.isFullscreen?"none":"block",height:n.pageType=="forex"?"822px":"100%"})},[t("div",Ic,[(l(),D(Ae(i.createOrderKey),{paramsType:n.paramsType,pageData:i.pageData,clickData:i.clickData,unit:i.unit},null,8,["paramsType","pageData","clickData","unit"])),e.$route.query.RouterName!="delivery"?(l(),c("div",xc,[t("div",jc,o(e.$t("message.home.baozhengjinbilv")),1),t("div",Lc,o(e.$t("message.home.danbibaozhengjinmoshi")),1),t("ul",null,[t("li",null,[t("div",Oc,o(e.$t("message.home.baozhengjinbilv")),1),t("div",Nc,[Pc,$(" "+o(i.marginRate),1)])]),t("li",null,[t("div",Bc,o(e.$t("message.home.weichibaozhengjin")),1),t("div",Vc,o(i.walletMoney)+" "+o(i.unit),1)]),t("li",null,[t("div",zc,o(e.$t("message.home.baozhengjinyue")),1),t("div",Ec,o(a.marginBalance)+" "+o(i.unit),1)])])])):p("",!0)])],4)]),t("div",{class:"trade-box-bottom",style:B({display:i.isFullscreen?"none":""})},[(l(),D(Ae(i.positionKey),{class:"position-wrapper",onInfos:a.getInfos,keys:i.key,symbol:(De=i.pageData)==null?void 0:De.symbol,pageData:i.pageData,paramsType:n.paramsType,unit:i.unit},null,40,["onInfos","keys","symbol","pageData","paramsType","unit"])),e.$route.query.RouterName!="delivery"?(l(),c("div",Uc,[t("div",Fc,o(e.$t("message.jiaoyi.zichan")),1),t("div",Rc,[m(k,{type:"info",size:"small",onClick:s[2]||(s[2]=A=>a.gotoPage("reCharge"))},{default:_(()=>[$(o(e.$t("message.user.chongzhi")),1)]),_:1}),m(k,{type:"info",size:"small",onClick:s[3]||(s[3]=A=>a.gotoPage("exchange"))},{default:_(()=>[$(o(e.$t("message.user.duihuan")),1)]),_:1}),m(k,{type:"info",size:"small",onClick:s[4]||(s[4]=A=>a.gotoPage("withdraw"))},{default:_(()=>[$(o(e.$t("message.user.tixian")),1)]),_:1})]),e.existToken?(l(),c("div",Mc,[t("p",null,[$(o(e.$t("message.jiaoyi.qianbaoyue")),1),t("span",null,o(i.walletMoney)+" "+o(i.unit),1)]),t("p",null,[$(o(e.$t("message.jiaoyi.weishixianyinkui1")),1),t("span",null,o(i.profitLoss)+" "+o(i.unit),1)])])):p("",!0)])):p("",!0)],4)])])]),m(F,{ref:"kline_dialog"},null,512),m(ue,{footerLeftList:i.footerLeftList},null,8,["footerLeftList"])])}const au=w(Mr,[["render",Qc],["__scopeId","data-v-922970b8"]]);export{au as C};
