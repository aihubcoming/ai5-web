System.register(["./index-legacy-e9cd86e3.js","./el-input-legacy-ee1a0024.js","./Group1884-legacy-154d83f5.js","./c2c-legacy-51d220d6.js"],(function(e,t){"use strict";var l,i,a,n,s,c,r,u,g,o,d,v,h,A,f,m,C,p,I;return{setters:[e=>{l=e.u,i=e.l,a=e.q,n=e.aN,s=e.o,c=e.c,r=e.a,u=e.t,g=e.b,o=e.F,d=e.j,v=e.n,h=e.d,A=e.v,f=e.bo,m=e.J},null,e=>{C=e.a,p=e.b},e=>{I=e.A}],execute:function(){const t={class:"main-right"},F={class:"huihua"},J={class:"hui-top"},K={class:"hui-center",ref:"scroll"},S={class:"list-tiem"},Q=["src"],Y={class:"hui-bottom"};e("_",{__name:"rightChat",props:{detailInfo:{type:Object,default:{}}},setup(e){const j=e,{t:y}=l(),O=i([]),T=i(),U=i(null),B=i();a((()=>{q()}));const q=(e="")=>{let t={messageId:e,orderNo:j.detailInfo?.orderNo||j.detailInfo?.order_no};I.getOtcOnlinechat(t).then((t=>{let l=t.data;if(L(),T.value||(T.value=l.length&&l[l.length-1].id),l.length)if(e)T.value=l[l.length-1].id,O.value=[...l.reverse(),...O.value];else{O.value=[...O.value,...l.reverse()];let e={};O.value=O.value.reduce((function(t,l){return e[l.id]||(e[l.id]=t.push(l)),t}),[])}}))},V=i(null),L=()=>{const e=document.getElementsByClassName("hui-center")[0];V.value=setTimeout((()=>{e.scrollTop=e.scrollHeight}),1e3)},R=e=>{const t=e.target.files[0];x(t)},x=e=>{f(e).then((e=>{G("img",e.httpUrl)}))},k=()=>{U.value.click()},G=(e="text",t="")=>{t?I.sendOtcOnlinechat({orderNo:j.detailInfo.orderNo,type:e,content:t}).then((e=>{B.value="",L(),q()})):this.$message.error(y("message.c2c.tip142"))};return n((()=>{V.value&&(clearTimeout(V.value),V.value=null)})),(e,l)=>{const i=m;return s(),c("div",t,[r("div",F,[r("div",J,u(g(y)("message.home.dibu18")),1),r("div",K,[(s(!0),c(o,null,d(g(O),((e,t)=>(s(),c("div",{class:"hui-li",key:t},[r("div",S,u(e.createtime),1),"text"===e.type?(s(),c("p",{key:0,class:v(["hui-n",["receive"===e.send_receive?"bg-ta":"","receive"===e.send_receive?"left-is-ta":"right-is-ta"]])},u(e.content),3)):(s(),c("img",{key:1,class:v([["receive"===e.send_receive?"bg-ta":"","receive"===e.send_receive?"left-is-ta":"right-is-ta"],"content-img"]),src:e.content},null,10,Q))])))),128))],512),r("div",Y,[r("img",{src:C,alt:"",onClick:k}),r("input",{ref_key:"uploadRef",ref:U,type:"file",hidden:"",onChange:R,accept:"image/png, image/gif, image/jpeg, image/bmp, image/x-icon"},null,544),h(i,{modelValue:g(B),"onUpdate:modelValue":l[0]||(l[0]=e=>A(B)?B.value=e:null),placeholder:g(y)("message.c2c.tip152")},null,8,["modelValue","placeholder"]),r("img",{onClick:l[1]||(l[1]=e=>G("text",g(B))),src:p,alt:""})])])])}}}),e("a","/svg/name-cf636685.svg"),e("b","data:image/png;base64,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")}}}));
