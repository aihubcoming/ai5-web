import{_ as E,bs as A,bt as F,b4 as P,y as Y,aG as g,o as c,c as a,a as s,t as l,d as h,w as r,h as u,U as m,f as U,aX as H,F as j,j as W,E as N,z as R,J as G,p as J,k as X}from"./index-7502ddb7.js";/* empty css                 *//* empty css                */import{A as v}from"./wallet-ed15a6b6.js";const K={components:{Search:A,ArrowLeftBold:F,CaretBottom:P},data(){return{options:[],itemChoose:{},optionShow:!1,itemChoose1:{},optionShow1:!1,InputMoney:null,StateYulan:!1,walletList:[],str1:"",str2:"",str3:"",session_token:"",input1:"",input2:"",showWallet1:[],showWallet2:[]}},mounted(){let e=localStorage.getItem("spToken");this.getWalletList(),e&&this.getExchangeapplyorderView()},watch:{InputMoney(e,t){e>=10&&this.itemChoose!=this.itemChoose1&&this.getFee()}},methods:{handleSymbolImg:Y,OnClickSwap(){let e=this.itemChoose;this.itemChoose=this.itemChoose1,this.itemChoose1=e,this.clearSwapData()},clearSwapData(){this.str1="",this.str2="",this.str3="",this.InputMoney=""},OnClickMax(){var e;this.InputMoney=(e=this.itemChoose)==null?void 0:e.value},getWalletList(){v.getWalletList().then(e=>{var t=e;this.walletList=[{name:"USDT",value:0}];for(var d in t.data)d=="USDT"?this.walletList[0].value=t.data[d].money:this.walletList.push({name:d,value:t.data[d].amount});this.showWallet1=this.walletList,this.showWallet2=this.walletList,this.itemChoose=this.walletList[0],this.itemChoose1=this.walletList[1]})},getFee(){const e={symbol:this.itemChoose.name,symbol_to:this.itemChoose1.name,volume:this.InputMoney};v.getFee(e).then(t=>{const{get_rate:d,get_volume:p}=t.data;this.str1=`1 ${this.itemChoose.name} = ${d} ${this.itemChoose1.name}`,this.str2=`1 ${this.itemChoose1.name} = ${1/d} ${this.itemChoose.name}`,this.str3=`${p} ${this.itemChoose1.name}`}).catch(t=>{})},OnClickPreview(){this.StateYulan=!0,this.getFee()},OnClickDuiHuan(){if(this.InputMoney>this.itemChoose.value){this.$message.error(this.$t("message.user.jinebuzu"));return}this.getTrans()},getExchangeapplyorderView(){v.getExchangeapplyorderView().then(e=>{this.session_token=e.data.session_token})},getTrans(){var t,d;var e={symbol:(t=this.itemChoose)==null?void 0:t.name,symbol_to:(d=this.itemChoose1)==null?void 0:d.name,volume:this.InputMoney,session_token:this.session_token};v.getTrans(e).then(p=>{var o=p;o.code==0&&(this.$message.success(this.$t("message.user.tijiaochenggong")),this.getWalletList()),this.getExchangeapplyorderView()})},OnClickBack(){this.StateYulan=!1},OnclickItem(e){this.itemChoose=e,this.StateYulan=!1,this.optionShow=!1,this.clearSwapData()},OnclickShow(){this.optionShow=!this.optionShow},OnclickItem1(e){this.itemChoose1=e,this.optionShow1=!1,this.StateYulan=!1,this.getFee()},OnclickShow1(){this.optionShow1=!this.optionShow1},OnClickPre(){this.$router.go(-1)},goRouter(e){this.$router.push(e)},handleSearch1(){this.showWallet1=this.walletList.filter(e=>e.name.includes(this.input1))},handleSearch2(){this.showWallet2=this.walletList.filter(e=>e.name.includes(this.input2))}}},T=e=>(J("data-v-d3709cf6"),e=e(),X(),e),Q={id:"__APP"},Z={class:"css-ye7z7w"},$={class:"header css-uliqdc"},ss={class:"main css-vurnku"},es={class:"content css-81xrsn"},ts={class:"title-box-view"},os={class:"css-11y6cix"},is={class:"css-1djsyd6"},ns={class:"css-19he09o"},ls={class:"first-row css-vurnku"},cs={class:"label css-3j2kqe"},as={class:"css-vurnku"},hs={key:0,class:"css-fqmucm"},ds={class:"balance css-vurnku"},rs={class:"css-15owl46"},us={class:"css-16qol6v"},ms=["placeholder"],_s={class:"bn-input-suffix css-vurnku"},ps={class:"css-10nf7hq"},vs={key:0,class:"css-9wgib6 pl-16"},ws=["src"],gs={key:0,class:"search css-1e9tnd"},ks={class:"bn-sdd-dropdown showing css-16j7pg9"},fs={class:"inputWrapper"},Cs={role:"listbox",class:"bn-sdd-list css-2rl2kr"},ys=["onClick"],bs={class:"bn-sdd-option css-4cffwv"},Ss={class:"css-1pysja1"},Is={class:"css-176wmh3"},Os=["src"],Ls={class:"revert able css-4cffwv"},xs={class:"icon css-4cffwv"},Vs=T(()=>s("path",{d:"M7 2l5.5 5.49-1.42 1.41L8 5.81V21H6V5.81L2.92 8.9 1.51 7.49 7 2zM17 22l-5.5-5.5 1.42-1.41L16 18.18V3h2v15.18l3.09-3.09 1.41 1.41L17 22z",fill:"#76808F"},null,-1)),Ms=[Vs],Bs={class:"second-row css-vurnku"},js={class:"label css-4cffwv"},Ws={class:"css-vurnku"},Ts={class:"css-15owl46"},qs={class:"css-16qol6v"},zs=["disabled","placeholder"],Ds={class:"bn-input-suffix css-vurnku"},Es={key:0,class:"css-9wgib6 pl-16"},As=["src"],Fs={key:0,class:"search css-1e9tnd"},Ps={class:"bn-sdd-dropdown showing css-16j7pg9"},Ys={class:"inputWrapper"},Us={role:"listbox",class:"bn-sdd-list css-2rl2kr"},Hs=["onClick"],Ns={class:"bn-sdd-option css-4cffwv"},Rs={class:"css-1pysja1"},Gs={class:"css-176wmh3"},Js=["src"],Xs={key:1,class:"css-11h9ki5"},Ks={class:"css-vurnku"},Qs={class:"css-1fxp3sh"},Zs={class:"css-vurnku"},$s={class:"css-vurnku"},se={class:"css-u2x846"},ee={class:"css-vurnku"},te={class:"css-vurnku"},oe={class:"css-195wmkv"},ie={class:"css-1auudvs"},ne={class:"css-ypadzx"},le=T(()=>s("div",{class:"css-1ufr6xa"},[s("div",{class:"css-fzyuis"})],-1)),ce={class:"css-dr9j81"};function ae(e,t,d,p,o,n){var y,b,S,I,O,L,x,V,M,B;const q=g("ArrowLeftBold"),_=N,z=R,k=g("CaretBottom"),f=g("Search"),C=G;return c(),a("div",Q,[s("div",Z,[s("div",$,[s("h1",ss,l(e.$t("message.user.dui1")),1)]),s("div",es,[s("div",ts,[s("div",os,[h(_,{class:"cursor-pointer"},{default:r(()=>[h(q,{onClick:n.OnClickPre},null,8,["onClick"])]),_:1}),s("div",is,l(e.$t("message.user.dui2")),1)]),h(z,{type:"info",plain:"",size:"small",onClick:t[0]||(t[0]=i=>n.goRouter("/order/exchangeOrder"))},{default:r(()=>[u(l(e.$t("message.user.dui3")),1)]),_:1})]),s("div",ns,[s("div",ls,[s("div",cs,[s("div",as,l(e.$t("message.user.dui4")),1),o.walletList.length>0?(c(),a("div",hs,[u(l(e.$t("message.user.dui5"))+"  ",1),s("div",ds,l((y=o.itemChoose)==null?void 0:y.value)+"   ",1),u(" "+l((b=o.itemChoose)==null?void 0:b.name),1)])):m("",!0)]),s("div",rs,[s("div",us,[U(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=i=>o.InputMoney=i),placeholder:e.$t("message.user.dui6"),class:"css-16fg16t"},null,8,ms),[[H,o.InputMoney]]),s("div",_s,[s("div",ps,[s("div",{class:"css-1qwckn7",onClick:t[2]||(t[2]=(...i)=>n.OnClickMax&&n.OnClickMax(...i))},l(e.$t("message.user.dui7")),1),s("div",{class:"css-tiagpy common-suffix",onClick:t[3]||(t[3]=(...i)=>n.OnclickShow&&n.OnclickShow(...i))},[o.walletList.length>0?(c(),a("div",vs,[s("img",{src:n.handleSymbolImg((S=o.itemChoose)==null?void 0:S.name),class:"css-1bmz5aq"},null,8,ws),u(" "+l((I=o.itemChoose)==null?void 0:I.name),1)])):m("",!0),h(_,null,{default:r(()=>[h(k)]),_:1})])])])]),o.optionShow?(c(),a("div",gs,[s("div",ks,[s("div",fs,[h(C,{modelValue:o.input1,"onUpdate:modelValue":t[4]||(t[4]=i=>o.input1=i),class:"input-with-select",clearable:"",onInput:n.handleSearch1},{prepend:r(()=>[h(_,null,{default:r(()=>[h(f)]),_:1})]),_:1},8,["modelValue","onInput"])]),s("ul",Cs,[(c(!0),a(j,null,W(o.showWallet1,(i,w)=>(c(),a("li",{role:"option",class:"bn-sdd-option-item css-88fj32",key:w,onClick:D=>n.OnclickItem(i)},[s("div",bs,[s("div",Ss,[s("div",Is,[s("img",{src:n.handleSymbolImg(i.name),class:"css-1m0agl6"},null,8,Os),u(" "+l(i.name),1)])])])],8,ys))),128))])])])):m("",!0)])]),s("div",Ls,[s("div",xs,[(c(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",class:"css-ew2l8i",onClick:t[5]||(t[5]=(...i)=>n.OnClickSwap&&n.OnClickSwap(...i))},Ms))])]),s("div",Bs,[s("div",js,[s("div",Ws,l(e.$t("message.user.dui8")),1)]),s("div",Ts,[s("div",qs,[s("input",{type:"number",disabled:o.str3,placeholder:o.str3||e.$t("message.user.dui9"),class:"css-16fg16t"},null,8,zs),s("div",Ds,[s("div",{class:"css-10nf7hq css-tiagpy common-suffix",onClick:t[6]||(t[6]=(...i)=>n.OnclickShow1&&n.OnclickShow1(...i))},[o.walletList.length>0?(c(),a("div",Es,[s("img",{src:n.handleSymbolImg((O=o.itemChoose1)==null?void 0:O.name),class:"css-1bmz5aq"},null,8,As),u(" "+l((L=o.itemChoose1)==null?void 0:L.name),1)])):m("",!0),h(_,null,{default:r(()=>[h(k)]),_:1})])])]),o.optionShow1?(c(),a("div",Fs,[s("div",Ps,[s("div",Ys,[h(C,{modelValue:o.input2,"onUpdate:modelValue":t[7]||(t[7]=i=>o.input2=i),clearable:"",onInput:n.handleSearch2},{prepend:r(()=>[h(_,null,{default:r(()=>[h(f)]),_:1})]),_:1},8,["modelValue","onInput"])]),s("ul",Us,[(c(!0),a(j,null,W(o.showWallet2,(i,w)=>(c(),a("li",{role:"option",id:"BTC",title:"BTC",class:"bn-sdd-option-item css-88fj32",key:w,onClick:D=>n.OnclickItem1(i)},[s("div",Ns,[s("div",Rs,[s("div",Gs,[s("img",{src:n.handleSymbolImg(i.name),class:"css-1m0agl6"},null,8,Js),u(" "+l(i.name),1)])])])],8,Hs))),128))])])])):m("",!0)])]),o.InputMoney>=0&&((x=o.itemChoose)==null?void 0:x.name)!==((V=o.itemChoose1)==null?void 0:V.name)&&!o.StateYulan?(c(),a("button",{key:0,"data-bn-type":"button",class:"css-1ugffcr",onClick:t[8]||(t[8]=(...i)=>n.OnClickPreview&&n.OnClickPreview(...i))},l(e.$t("message.user.dui11")),1)):m("",!0),o.StateYulan&&((M=o.itemChoose)==null?void 0:M.name)!==((B=o.itemChoose1)==null?void 0:B.name)?(c(),a("div",Xs,[s("div",Ks,[s("div",Qs,[s("div",Zs,l(e.$t("message.user.dui12")),1),s("div",$s,l(o.str1),1)]),s("div",se,[s("div",ee,l(e.$t("message.user.dui13")),1),s("div",te,l(o.str2),1)]),s("div",oe,[s("div",ie,l(e.$t("message.user.dui14")),1),s("div",ne,l(o.str3),1)]),le,s("div",ce,[s("button",{"data-bn-type":"button",class:"css-119bdia",onClick:t[9]||(t[9]=(...i)=>n.OnClickBack&&n.OnClickBack(...i))},l(e.$t("message.user.dui15")),1),s("button",{"data-bn-type":"button",class:"css-poesxm",onClick:t[10]||(t[10]=(...i)=>n.OnClickDuiHuan&&n.OnClickDuiHuan(...i))},l(e.$t("message.user.dui16")),1)])])])):m("",!0)])])])])}const me=E(K,[["render",ae],["__scopeId","data-v-d3709cf6"]]);export{me as default};
