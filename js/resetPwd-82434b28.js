import{_ as I,u as R,m as S,l as c,aN as B,o as _,c as y,a as n,t as i,F as Z,j as D,n as F,b as a,d as u,w as $,h as U,U as J,aJ as m,ae as C,J as L,z as O}from"./index-69a2b67d.js";/* empty css                 */import{u as G,s as H}from"./selecterPup-4ffd76f4.js";const K={class:"restpwd"},Q={class:"binance-row rests1",style:{"margin-left":"-12px","margin-right":"-12px"}},W={class:"binance-col css-yyvsvt",style:{"padding-left":"12px","padding-right":"12px"}},X={class:"mt-20 mb-12"},Y={class:"css-1mzk4e3"},ee={class:"css-tmpver"},ae={class:"css-62gygx"},se=["onClick"],oe={key:0},le={class:"label"},te={class:"label",style:{"margin-top":"10px"}},ne={class:"label",style:{"margin-top":"10px"}},re={key:1,class:"css-15651n7"},ie={class:"label"},de={class:"flex"},ue={class:"label",style:{"margin-top":"10px"}},me={class:"label",style:{"margin-top":"10px"}},ce={key:2,class:"css-15651n7"},pe={class:"label"},he={class:"label",style:{"margin-top":"10px"}},ve={class:"label",style:{"margin-top":"10px"}},ge={__name:"resetPwd",setup(fe){const{t:r}=R(),b=G(),x=S(),V=c(!1),M=[r("youxiang"),r("shoujihao"),r("zhanghao")],h=c(0),q=c(null),l=c({username:"",password:"",verifcode:"",verifcode_type:"1"}),d=c(2),w=c(""),T=()=>{q.value.isShow()},j=()=>{let e=/[a-zA-Z0-9]+([-_.][A-Za-zd]+)*@([a-zA-Z0-9]+[-.])+[A-Za-zd]{2,5}$/;return d.value==2&&!e.test(l.value.username)?(m.error(r("qsr_zhengquedeyouxiang")),!0):!1},N=()=>{let e=/^([0-9]\d*)$/;return d.value==1&&!e.test(l.value.username)?(m.error(r("shoujihaozhinengshurushuzi")),!0):!1},v=c(r("message.user.huoquyanzhengma")),P=()=>{const{username:e,password:s,verifcode:t}=l.value;if(!e){m.error(r("qsr_zhanghao"));return}if(!t){m.error(r("qsr_yanzhengma"));return}if(N()||j())return;if(s.length<6){m.error(r("message.user.qsr_mima6wei"));return}const p=d.value==1?b.code+e:e;C.fixResgister({username:p,password:s,verifcode:t,verifcode_type:d.value}).then(o=>{o.code==0&&(m.success(r("message.user.mimachongzhichenggong")),x.push("/login"))})},g=c(null),k=()=>{const{username:e}=l.value;if(e!=""){const s=d.value==1?b.code+e:e;C.forgotVericode({verifcode_type:d.value,username:s}).then(t=>{var p,o,f;if(d.value==2&&!((p=t.data)!=null&&p.email_authority)){m.warning(r("nobindemail"));return}if(d.value==1&&!((o=t.data)!=null&&o.phone_authority)){m.warning(r("nobindphone"));return}if(d.value==3&&!((f=t.data)!=null&&f.google_auth_bind)){m.warning(r("nobindgoogle"));return}w.value=t.data.email||t.data.phone||t.data.google_auth_secret,m.success(r("alreadysend")+w.value),A(),V.value=!0,v.value=60,g.value=setInterval(()=>{v.value--,v.value==0&&(V.value=!1,clearInterval(g.value),g.value=null,v.value=r("fasongyanzhengma"))},1e3)})}else{const s={1:r("qsr_youxiang"),2:r("qsr_shoujihao"),3:r("qsr_zhanghao")},t=h.value+1;m.error(s[t])}},z=c(null),A=()=>{z.value=setTimeout(()=>{w.value&&C.getVeriCode({target:w.value}).then(e=>{e.code=="0"&&m.success(r("yanzhengmafasongchenggong"))})},2e3)},E=e=>{h.value=e,e==0?d.value=2:e==1?d.value=1:d.value=3,b.resetCountry(),l.value={username:"",password:"",verifcode:"",verifcode_type:e==0?2:e==1?1:e==2?3:""}};return B(()=>{g.value&&(clearInterval(g.value),g.value=null),z.value&&(clearTimeout(z.value),z.value=null)}),(e,s)=>{const t=L,p=O;return _(),y("div",K,[n("div",Q,[n("div",W,[n("div",X,[n("div",Y,i(e.$t("chongzhimima")),1)]),n("div",ee,[n("div",ae,[(_(),y(Z,null,D(M,(o,f)=>n("div",{class:"css-ov54vn",style:{"margin-bottom":"20px"},key:f},[n("div",{class:F([a(h)==f?"active":"","css-1cahv52"]),onClick:_e=>E(f)},i(o),11,se)])),64))]),a(h)==0?(_(),y("div",oe,[n("div",le,i(e.$t("youxiang")),1),u(t,{autocomplete:"off",type:"email",placeholder:e.$t("qsr_youxiang"),name:"email",modelValue:a(l).username,"onUpdate:modelValue":s[0]||(s[0]=o=>a(l).username=o)},null,8,["placeholder","modelValue"]),n("div",te,i(e.$t("yanzhengma")),1),u(t,{placeholder:e.$t("qsr_yanzhengma"),clearable:"",modelValue:a(l).verifcode,"onUpdate:modelValue":s[1]||(s[1]=o=>a(l).verifcode=o),modelModifiers:{trim:!0,number:!0}},{append:$(()=>[u(p,{onClick:k,disabled:a(V)},{default:$(()=>[U(i(a(v)),1)]),_:1},8,["disabled"])]),_:1},8,["placeholder","modelValue"]),n("div",ne,i(e.$t("xinmima")),1),u(t,{placeholder:e.$t("qingshuruxinmima"),clearable:"",type:"email","show-password":"",modelValue:a(l).password,"onUpdate:modelValue":s[2]||(s[2]=o=>a(l).password=o),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])):a(h)==1?(_(),y("div",re,[n("div",ie,i(e.$t("shoujihao")),1),n("div",de,[n("div",{class:"border-countrycode",onClick:T}," + "+i(a(b).code),1),u(t,{autocomplete:"off",class:"css-uesmnb",placeholder:e.$t("qsr_shoujihao"),modelValue:a(l).username,"onUpdate:modelValue":s[3]||(s[3]=o=>a(l).username=o),modelModifiers:{number:!0},clearable:""},null,8,["placeholder","modelValue"])]),n("div",ue,i(e.$t("yanzhengma")),1),u(t,{placeholder:e.$t("qsr_yanzhengma"),clearable:"",modelValue:a(l).verifcode,"onUpdate:modelValue":s[4]||(s[4]=o=>a(l).verifcode=o),modelModifiers:{trim:!0,number:!0}},{append:$(()=>[u(p,{onClick:k,disabled:a(V)},{default:$(()=>[U(i(a(v)),1)]),_:1},8,["disabled"])]),_:1},8,["placeholder","modelValue"]),n("div",me,i(e.$t("xinmima")),1),u(t,{placeholder:e.$t("qingshuruxinmima"),clearable:"",type:"email","show-password":"",modelValue:a(l).password,"onUpdate:modelValue":s[5]||(s[5]=o=>a(l).password=o),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])):a(h)==2?(_(),y("div",ce,[n("div",pe,i(e.$t("zhanghao")),1),u(t,{autocomplete:"off",type:"email",placeholder:e.$t("qsr_zhanghao"),name:"email",class:"css-16fg16t",modelValue:a(l).username,"onUpdate:modelValue":s[6]||(s[6]=o=>a(l).username=o)},null,8,["placeholder","modelValue"]),n("div",he,i(e.$t("6weigugeyanzhnegma")),1),u(t,{placeholder:e.$t("qsr_yanzhengma"),clearable:"",modelValue:a(l).verifcode,"onUpdate:modelValue":s[7]||(s[7]=o=>a(l).verifcode=o),modelModifiers:{trim:!0,number:!0}},null,8,["placeholder","modelValue"]),n("div",ve,i(e.$t("xinmima")),1),u(t,{placeholder:e.$t("qingshuruxinmima"),clearable:"",type:"email","show-password":"",modelValue:a(l).password,"onUpdate:modelValue":s[8]||(s[8]=o=>a(l).password=o),modelModifiers:{trim:!0}},null,8,["placeholder","modelValue"])])):J("",!0),n("button",{class:"btn",onClick:P},i(e.$t("chongzhimima")),1),u(H,{ref_key:"selectCountryRef",ref:q},null,512)])])])])}}},we=I(ge,[["__scopeId","data-v-258d2e74"]]);export{we as default};
