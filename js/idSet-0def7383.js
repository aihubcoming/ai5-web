import{_ as U,aT as P,aU as j,aV as y,aG as v,o as u,c as p,a as s,d as r,t as l,w as c,L as I,J as S,E as B,aW as z,p as F,k as N}from"./index-747f5440.js";/* empty css                  *//* empty css                    *//* empty css                *//* empty css                 */import{S as G}from"./steps-968bf9c0.js";import{A as k}from"./my-8786e868.js";/* empty css                */const H="/png/name-254dc6bd.png";const E={name:"idSet",components:{Steps:G,Plus:P},data(){return{nowUrl:j,msg:"",identifyStatus:"",nationality:"",name:"",idNumber:"",idFrontImg:"",idBackImg:"",handheldPhoto:"",oneImg:"",twoImg:"",threeImg:"",uploadHeader:{tissuePaper:"",sign:"",systemRandom:""}}},mounted(){localStorage.getItem("spToken")&&this.getIdentify()},computed:{},methods:{beforeFrontUpload(e){const{timestamp:a,signature:o,systemRandom:i}=y();this.uploadHeader.tissuePaper=a,this.uploadHeader.sign=o,this.uploadHeader.systemRandom=i,this.init(e)},beforeBackUpload(e){const{timestamp:a,signature:o,systemRandom:i}=y();this.uploadHeader.tissuePaper=a,this.uploadHeader.sign=o,this.uploadHeader.systemRandom=i,this.init(e)},beforeAvatarUpload(e){const{timestamp:a,signature:o,systemRandom:i}=y();this.uploadHeader.tissuePaper=a,this.uploadHeader.sign=o,this.uploadHeader.systemRandom=i,this.init(e)},init(e){const o=["image/jpeg","image/jpg","image/gif","image/bmp","image/png"].includes(e.type);e.type;const i=e.size/1024/1024<5;return console.log("图片大小",e.size/1024/1024),o||this.$message.error(this.$t("message.user.shangchuan1")),i||this.$message.error(this.$t("message.user.shangchuan2")),o&&i},handelDoucumentsFront(e,a){const{path:o,httpUrl:i}=e.data;this.oneImg=i,this.idFrontImg=o},handelDoucumentsBack(e,a){const{path:o,httpUrl:i}=e.data;this.twoImg=i,this.idBackImg=o},holdIdCardSuccess(e,a){const{path:o,httpUrl:i}=e.data;this.threeImg=i,this.handheldPhoto=o},onErrorUpload(){this.$message.warning(this.$t("message.user.shangchuan3"))},jumpOver(){this.$router.push("/secureBind")},getIdentify(){k.getIdentify({}).then(e=>{const{status:a,nationality:o,msg:i,name:t,idNumber:n,idimg_1_path:h,idimg_2_path:g,idimg_3_path:m}=e.data||{};this.identifyStatus=a,this.nationality=o,this.name=t,this.idNumber=n,this.oneImg=h,this.twoImg=g,this.threeImg=m,this.msg=i})},applyBtn(){if(!this.nationality||!this.name||!this.idNumber){this.$message.warning(this.$t("qsr_wanzhengdexinxi"));return}if(!this.idFrontImg||!this.idBackImg||!this.handheldPhoto){this.$message.warning(this.$t("message.user.shangchuan6"));return}k.apply({nationality:this.nationality,idNumber:this.idNumber,idName:"id/passpost",name:this.name,idFrontImg:this.idFrontImg,idBackImg:this.idBackImg,handheldPhoto:this.handheldPhoto}).then(e=>{e.code=="0"&&(this.$message.success(this.$t("message.user.bangdingchenggong")),this.$router.push("/secureBind"))})},handClose(){this.visible=!1}}},w=e=>(F("data-v-6fd7b2bc"),e=e(),N(),e),V={style:{"margin-top":"50px"}},C={class:"main css-6q12pm"},x={class:"css-108ucgm"},D={class:"binance-row css-16kn2us"},J={class:"binance-col css-1wz0uwi",style:{"margin-left":"-12px"}},R={class:"css-cz4mv2"},T={class:"css-6x3lo1"},q={class:"css-vurnku"},A={class:"css-ojbpe7"},O={class:"css-vurnku"},L={class:"label"},$={class:"label label_top"},M={class:"label label_top"},W={class:"label label_top"},K={class:"image_upload"},Q={class:"text-center"},X=["src"],Y={class:"text-center",style:{margin:"0 10px"}},Z=["src"],ee={class:"text-center"},se=["src"],te={class:"label label_top"},ae=w(()=>s("img",{style:{width:"100%"},src:H},null,-1)),oe=w(()=>s("div",{class:"css-vurnku"},null,-1));function ie(e,a,o,i,t,n){const h=v("Steps"),g=v("vue3-country-intl"),m=S,_=v("Plus"),f=B,b=z;return u(),p("div",null,[s("div",V,[r(h,{stepIndex:2}),s("main",C,[s("div",x,[s("div",D,[s("div",J,[s("div",R,[s("div",T,[s("div",q,[s("div",A,l(e.$t("message.user.shimingrenzheng")),1),s("div",O,[s("div",null,[s("div",L,l(e.$t("message.user.guoji")),1),r(g,{modelValue:t.nationality,"onUpdate:modelValue":a[0]||(a[0]=d=>t.nationality=d),disabled:t.identifyStatus==1,showAreaCode:!1,type:"country",useChinese:e.isUseChinese,placeholder:e.$t("message.user.qingxuanzeguoji"),noDataText:e.$t("message.user.nationNodata")},null,8,["modelValue","disabled","useChinese","placeholder","noDataText"]),s("div",$,l(e.$t("message.user.xingming")),1),r(m,{disabled:t.identifyStatus==1,modelValue:t.name,"onUpdate:modelValue":a[1]||(a[1]=d=>t.name=d),placeholder:e.$t("message.user.qsr_xingming")},null,8,["disabled","modelValue","placeholder"]),s("div",M,l(e.$t("message.user.zhengjianhao")),1),r(m,{modelValue:t.idNumber,"onUpdate:modelValue":a[2]||(a[2]=d=>t.idNumber=d),disabled:t.identifyStatus==1,placeholder:e.$t("message.user.qsr_zengjianhaoma")},null,8,["modelValue","disabled","placeholder"]),s("div",W,l(e.$t("message.user.shimingrenzhengtupianshangchuan")),1),s("div",K,[s("div",Q,[r(b,{class:"avatar-uploader",action:`${t.nowUrl}/api/api/uploadFile`,headers:t.uploadHeader,accept:".jpg,.jpeg,.png,.gif.JPG,.JPEG,.PNG,.GIF","show-file-list":!1,"on-success":n.handelDoucumentsFront,"on-error":n.onErrorUpload,"before-upload":n.beforeFrontUpload},{default:c(()=>[t.oneImg?(u(),p("img",{key:0,src:t.oneImg,class:"avatar"},null,8,X)):(u(),I(f,{key:1,class:"avatar-uploader-icon"},{default:c(()=>[r(_)]),_:1}))]),_:1},8,["action","headers","on-success","on-error","before-upload"]),s("p",null,l(e.$t("message.user.zhengjianzhengmian")),1)]),s("div",Y,[r(b,{class:"avatar-uploader",action:`${t.nowUrl}/api/api/uploadFile`,headers:t.uploadHeader,accept:".jpg,.jpeg,.png,.gif.JPG,.JPEG,.PNG,.GIF","show-file-list":!1,"on-success":n.handelDoucumentsBack,"on-error":n.onErrorUpload,"before-upload":n.beforeBackUpload},{default:c(()=>[t.twoImg?(u(),p("img",{key:0,src:t.twoImg,class:"avatar"},null,8,Z)):(u(),I(f,{key:1,class:"avatar-uploader-icon"},{default:c(()=>[r(_)]),_:1}))]),_:1},8,["action","headers","on-success","on-error","before-upload"]),s("p",null,l(e.$t("message.user.zhengjianfanmian")),1)]),s("div",ee,[r(b,{class:"avatar-uploader",action:`${t.nowUrl}/api/api/uploadFile`,headers:t.uploadHeader,accept:".jpg,.jpeg,.png,.gif.JPG,.JPEG,.PNG,.GIF","show-file-list":!1,"on-success":n.holdIdCardSuccess,"on-error":n.onErrorUpload,"before-upload":n.beforeAvatarUpload},{default:c(()=>[t.threeImg?(u(),p("img",{key:0,src:t.threeImg,class:"avatar"},null,8,se)):(u(),I(f,{key:1,class:"avatar-uploader-icon"},{default:c(()=>[r(_)]),_:1}))]),_:1},8,["action","headers","on-success","on-error","before-upload"]),s("p",null,l(e.$t("message.user.shouchizhengjianzhao")),1)])]),s("div",te,l(e.$t("paisheshili")),1),ae]),s("button",{"data-bn-type":"button",onClick:a[3]||(a[3]=(...d)=>n.applyBtn&&n.applyBtn(...d)),class:"css-1bsmpdm"},l(e.$t("message.user.bangding")),1),s("div",{onClick:a[4]||(a[4]=(...d)=>n.jumpOver&&n.jumpOver(...d)),style:{"text-align":"center",padding:"20px 0",color:"#868d9a",cursor:"pointer"}},l(e.$t("tiaoguo")),1)]),oe])])])])])])])])])}const he=U(E,[["render",ie],["__scopeId","data-v-6fd7b2bc"]]);export{he as default};
